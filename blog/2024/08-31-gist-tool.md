---
title: Gistコマンドを自作してテンプレートファイルを管理する
description: PowerShellを使って Gist を扱うコマンドを作成します
keywords:
  - gist
  - powershell
category: note
authors: [mebiusbox]
tags: [gist, powershell]
image: https://og-image-mebiusbox.vercel.app/api/og?title=Gist%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89%e3%82%92%e8%87%aa%e4%bd%9c%e3%81%97%e3%81%a6%e3%83%86%e3%83%b3%e3%83%97%e3%83%ac%e3%83%bc%e3%83%88%e3%83%95%e3%82%a1%e3%82%a4%e3%83%ab%e3%82%92%e7%ae%a1%e7%90%86%e3%81%99%e3%82%8b&subtitle=PowerShell%e3%82%92%e4%bd%bf%e3%81%a3%e3%81%a6+Gist+%e3%82%92%e6%89%b1%e3%81%86%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89%e3%82%92%e4%bd%9c%e6%88%90%e3%81%97%e3%81%be%e3%81%99&date=2024%2F08%2F31&tags=gist,powershell
---

Gistを有効に活用できるようにgistコマンドを作ってみました．これはその備忘録です．

<!-- truncate -->

詳しくは [Gistコマンドを自作してテンプレートファイルを管理する](https://gist.github.com/mebiusbox/a90fda22776c9c9b376ffc165dd0988d) にあります．
そこにも書いてある通り、Gistを扱うコマンドをPowerShellで実装して活用しています．
とりあえず使ってみている状態で、まだ良し悪しはわかっていません．
ここでは、いくつか思っていることを書いておきます．

## スニペットで管理するのは？

たとえば、Visual Studio Codeのスニペットや、独立したスニペット管理ツール、またはテキスト入力支援などを使うのはどうでしょうか．
個人的にGistコマンドのメリットを挙げると次のとおりです：

- バージョン管理ができる（履歴がたどれる）
- 共有できる
- diffがとれる（パッチも当てられる）

逆にデメリットがあまりないかなと思っています．

## Gistをcloneするのは？

ローカルリポジトリを作ってしまうので、ちょっと面倒かなと思いました（たとえば、cloneしたあとに`.git`ディレクトリを削除）．
あとは、プッシュができるので、そこは利点かなと思っています．
ただし、今回の用途としては別のプロジェクトに手軽にファイルをコピーしてくることを想定しているので、ローカルリポジトリは邪魔になってしまい、それを削除すればプッシュも出来なくなります．

## プロジェクトテンプレートとして、GitHubなどにプロジェクトを作成しておくのは？

これも手間かなと思っています．そこまで几帳面に管理するつもりはないですし、したくもありません．

## GistPad

エディタはVisual Studio Codeを使っていて、Gistの管理は拡張機能「[GistPad](https://marketplace.visualstudio.com/items?itemName=vsls-contrib.gistfs)」を利用しています．
Gistコマンドを使ってもいいですし、GistPadでコピペしても構いません．
GistPadには現在開いているエディタ内にGistファイルをペーストする機能があります．

今回作成したGistコマンドはプッシュする機能がないので、GistPadで更新しています．
その際、ちょっと問題が発生したので、対処方法も書いておきます．
それはフォーマッタの問題です．フォーマッタはprettierなどを使っているのですが、基本的に保存時にフォーマッタが実行されるようにしています．
設定ファイルをプロジェクトごとに置いているんですが、それぞれの環境で保存したものと、GistPadで保存するときの挙動が異なります．
コーディングスタイルに依存する部分なので、結局はどうしようもないのですが、GistPadで保存するときの挙動がVisual Studio Codeのデフォルトの設定になってしまうので設定を合わせていないと保存したときに、予期しないフォーマットがされてしまいました．ですので、少なくともGistPadで保存するときはフォーマッタを実行しないようにする必要があります．その場合、コマンドパレットから「File > Save without Formatting」を使うと、フォーマッタを実行せずに保存できます．

:::info
GistPadからは、エディター内で右クリック「Paste Gist File」で手軽にペーストできます．
:::

とりあえず、しばらく使って様子を見てみることにします．
以上です．
