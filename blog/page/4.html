<!doctype html>
<html lang="ja" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Blog | Mebiusbox software</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mebiusbox.github.io/blog/page/4"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" property="og:title" content="Blog | Mebiusbox software"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mebiusbox.github.io/blog/page/4"><link data-rh="true" rel="alternate" href="https://mebiusbox.github.io/blog/page/4" hreflang="ja"><link data-rh="true" rel="alternate" href="https://mebiusbox.github.io/blog/page/4" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Mebiusbox software RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Mebiusbox software Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DXXWEQB56E"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DXXWEQB56E",{anonymize_ip:!0})</script>







<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js" integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous" defer="defer"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.72fc09dc.css">
<link rel="preload" href="/assets/js/runtime~main.cbb52c22.js" as="script">
<link rel="preload" href="/assets/js/main.1e508335.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Mebiusbox software</b></a><a class="navbar__item navbar__link" href="/docs/category/lab">Lab</a><a class="navbar__item navbar__link" href="/docs/category/note">Note</a><a class="navbar__item navbar__link" href="/docs/category/software">Software</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a href="https://mebiusbox.github.io/contents/EffectTextureMaker" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">EffectTextureMaker<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードを切り替える(現在はライトモード)" aria-label="ダークモードを切り替える(現在はライトモード)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近のブログ記事のナビゲーション"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/01/14/notion-shadertoy-gallery">NotionでShadertoyやつぶやき系のツイートをギャラリーにまとめる</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/01/11/docusaurus">リニューアル：Docusaurusへ移行</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/27/diary">自前ライブラリの整備</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/23/packassistant-x64">PackAssistant 1.6.0 リリース</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/22/packassistant">PackAssistant について</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/18/user-forum">サポートについて（ユーザーフォーラムの設置）</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/17/discontinued-projects">開発終了・公開停止ソフト</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/16/filehammer">FileHammer  について</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/15/release-filehammer-x64">FileHammer  1.20.2 (64bit版) リリース</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/13/release-filehammer-x64">FileHammer  1.20.1 (64bit版) リリース</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/12/filehammer-for-windows7">FileHammer 64bit 版の Windows7 での動作</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/11/diary">FileHammer：画像サイズと動画コーデック</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/11/release-filehammer-x64">FileHammer  1.20.0 (64bit版) リリース</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/10/diary">FileHammer 64bit 版について</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/08/diary">DiskCatalogManager について</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/01/06/EffectTextureMaker">EffectTextureMaker というのを作りました</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/08/14/ComicPicker">ComicPicker 0.6.5 リリース</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/08/13/ImageStack">ImageStack 0.0.1 リリース</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/19/gitlab_issues_custom_css">GitLab Issues のスタイルシートをカスタマイズ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/15/gitbook_pdf_automation">CentOS7 + GitBook + GitLab + Hubot で 文書作成環境の構築</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/08/gitbook_with_mathjax">Windows で Gitbook + mathjax を使った文書作成</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/02/blender-building">Blender：パーティクルを使ったビルの配置</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/28/rar2zip">rar形式からzip形式に一括変換するバッチファイル</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/27/eclipse-add-bom">Eclipse：新規ファイルにBOM(UTF-8)をつける</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/26/eclipse-cpp-code-analyze">Eclipse：C++静的チェック環境</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/24/blender-maya-camera">Blender：カメラの操作をMayaと同じにする</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/19/close-projects">開発終了のソフトウェアについて</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/18/jekyll-archives">Jekyll：jekyll-archives でアーカイブページを作る</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/18/jekyll-create-archives">Jekyll：アーカイブページを作る</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/17/atom-keybindings">Atom:キーバインドの変更</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/15/jekyll-dev-serve">Jekyll：site.url をローカル環境と本番環境とで切り替える方法</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/07/wordpress-export-to-jekyll">WordPress から Jekyll へのエクスポート</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2017/01/06/EffectTextureMaker">EffectTextureMaker というのを作りました</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2017-01-06T00:00:00.000Z" itemprop="datePublished">2017年1月6日</time> · <!-- -->約5分</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mebiusbox.png" alt="mebiusbox"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">mebiusbox</span></a></div><small class="avatar__subtitle" itemprop="description">enginner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>EffectTextureMaker はエフェクト用のテクスチャをブラウザ上で作成するツールです。</p><p><a href="http://mebiusbox.github.io/contents/EffectTextureMaker/" target="_blank" rel="noopener noreferrer">EffectTextureMaker</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="きっかけ">きっかけ<a class="hash-link" href="#きっかけ" title="この見出しへのリンク">​</a></h2><p>少し前からシェーダを再勉強していて、レイマーチングを試してみたところ、真っ先に思いついたのが「これでエフェクトの素材作成に使えるのでは？」でした。
エフェクトには多少思い入れがあって、昔に「<a href="http://mebiusbox.github.io/contents/mirage/" target="_blank" rel="noopener noreferrer">Mirage</a>」なんてエフェクトツールを作ったこともありました。</p><p>エフェクトのテクスチャは Photoshop などのソフトで作ったり、インターネット上で公開されているものを使ったりすると思いますし、
エフェクト作成ツールの中にテクスチャを生成するなんてものもあったりします。
また、今では Unreal Engine や Unity などのアセットストアでエフェクトそのものを購入するといった方法も定着しているのではないでしょうか。</p><p>とはいえ、多くの現場ではテクスチャは自前で作成することが多いと思います。
そんなデザイナや、デザイナ以外の人が簡単に作成できるものを作ってみようと。</p><p>なにより、自分が欲しかったんです...</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="レイマーチング">レイマーチング<a class="hash-link" href="#レイマーチング" title="この見出しへのリンク">​</a></h2><p>WebGL というブラウザで 3DCG を表示する技術が発達しており、その技術を使ったサイトも出てきました。
レイマーチングはレイトレーシングの一種で、複雑な図形を距離関数を使って少ないプログラムコードで記述することが出来ます。
この WebGL と レイマーチングの技術の進歩でブラウザ上での美麗な CG のレンダリングが出来るようになり、多くの作品が作成されています。
例えば以下のサイトで作品を観ることができます。</p><ul><li><a href="http://glslsandbox.com" target="_blank" rel="noopener noreferrer">GLSL Sandbox</a></li><li><a href="https://www.shadertoy.com" target="_blank" rel="noopener noreferrer">Shadertoy</a></li></ul><p>EffectTextureMaker ではその技術をエフェクトのテクスチャ作成に使っています。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="現在作成できる種類は-３１種類">現在作成できる種類は ３１種類<a class="hash-link" href="#現在作成できる種類は-３１種類" title="この見出しへのリンク">​</a></h2><p><img loading="lazy" alt="001" src="/assets/images/2017-01-06-EffectTextureMaker-001-a4c8d0027144eb7ec18350c8b54140a1.png" width="768" height="768" class="img_ev3q"></p><p>パラメータを調整することで、形を変えることが出来たり、アニメーションの挙動を変えることが出来ます。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ノーマルマップの作成">ノーマルマップの作成<a class="hash-link" href="#ノーマルマップの作成" title="この見出しへのリンク">​</a></h2><p>すべての形状でノーマルマップの作成が出来ます。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="色の調整はカラーバランス">色の調整はカラーバランス<a class="hash-link" href="#色の調整はカラーバランス" title="この見出しへのリンク">​</a></h2><p>カラーバランスはシャドウ、中間、ハイライト部分ごとに色を調整することが出来ます。
すべての種類はグレイスケールですが、一部の種類は独自の色を持っているものもあり、パラメータで調整することが出来ます。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="テクスチャの保存">テクスチャの保存<a class="hash-link" href="#テクスチャの保存" title="この見出しへのリンク">​</a></h2><p>テクスチャとして保存する場合はブラウザの画像保存機能を使います。そのため、画像フォーマットはブラウザがサポートしている形式になります。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="スプライトシートの作成">スプライトシートの作成<a class="hash-link" href="#スプライトシートの作成" title="この見出しへのリンク">​</a></h2><p>爆発などのテクスチャはスプライトシートのような連続した画像を並べて作成します。
このスプライトシートの作成機能も備わっています。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="今後の予定など">今後の予定など<a class="hash-link" href="#今後の予定など" title="この見出しへのリンク">​</a></h2><ul><li>似たようなパラメータ名が多く混乱しやすいため、一部のパラメータは共通化したいです。</li><li>カラーバランスはシャドウ、中間、ハイライト部分で調整が可能ですが、調整が難しい。トーンカーブもあるといいかも。</li><li>種類を増やす。ノイズや歪みなど</li><li>ヘルプの作成</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="最後に">最後に<a class="hash-link" href="#最後に" title="この見出しへのリンク">​</a></h2><p>何か要望があればご連絡ください。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>タグ:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/software">software</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2016/08/14/ComicPicker">ComicPicker 0.6.5 リリース</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2016-08-14T00:00:00.000Z" itemprop="datePublished">2016年8月14日</time> · <!-- -->約1分</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mebiusbox.png" alt="mebiusbox"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">mebiusbox</span></a></div><small class="avatar__subtitle" itemprop="description">enginner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>実は以前からダウンロードファイルが 0.6.5 になっていたんですが、正式にアナウンスしていませんでした。</p><p>ダウンロードはこちらから。</p><ul><li><a href="http://mebiusbox.github.io/software_comic_picker.html" target="_blank" rel="noopener noreferrer">ComicPicker</a></li></ul><p>以下、更新内容です。</p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="065">0.6.5<a class="hash-link" href="#065" title="この見出しへのリンク">​</a></h3><ul><li>New: 抽出時のファイル名のパターンを選択できるようにしました。</li><li>「書庫ファイル名＋ページ番号」</li><li>「日付＋ページ番号」</li><li>「オリジナルのファイル名」</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="064">0.6.4<a class="hash-link" href="#064" title="この見出しへのリンク">​</a></h3><ul><li>Fixed: 画像ファイルが大きいサイズだと応答しなくなる不具合を修正.</li><li>New: 「次のファイルへ」「前のファイルへ」を追加</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>タグ:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/software">software</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2016/08/13/ImageStack">ImageStack 0.0.1 リリース</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2016-08-13T00:00:00.000Z" itemprop="datePublished">2016年8月13日</time> · <!-- -->約4分</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mebiusbox.png" alt="mebiusbox"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">mebiusbox</span></a></div><small class="avatar__subtitle" itemprop="description">enginner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>ImageStack というソフトを公開しました。
もともと個人用に作ったものですが、少し調整して公開することにしました。
設定ファイルを直接編集するため、ユーザーには優しくありません。申し訳ないです。
それでも使ってくれたなら幸いです。</p><p>ダウンロードは以下から。</p><a href="http://bit.ly/2bfP6oA" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="/assets/img/download_zip.jpg" class="img_ev3q"></a><p>以下、詳細です。</p><hr><h1>ImageStack 0.0.1</h1><p>ImageStack は画像整理ソフトです。
大量の画像をボタン一発で振り分けることが出来ます。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="動作環境">動作環境<a class="hash-link" href="#動作環境" title="この見出しへのリンク">​</a></h2><p>Windows10 64bit</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="使い方">使い方<a class="hash-link" href="#使い方" title="この見出しへのリンク">​</a></h2><p>ファイルリストから画像を選択するとプレビュー表示されます。
画像を確認して、パレットウィンドウから移動したいフォルダボタンを押すことで画像ファイルを移動します。
画像を移動すると、次の画像ファイルに自動で切り替わりますので、フォルダボタンを押して整理していきます。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ウィンドウ">ウィンドウ<a class="hash-link" href="#ウィンドウ" title="この見出しへのリンク">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="explorerエクスプローラ">Explorer（エクスプローラ）<a class="hash-link" href="#explorerエクスプローラ" title="この見出しへのリンク">​</a></h3><p>フォルダーツリーです。
デスクトップ以下のフォルダをツリー構造で閲覧・選択することができます。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="filelistファイルリスト">FileList（ファイルリスト）<a class="hash-link" href="#filelistファイルリスト" title="この見出しへのリンク">​</a></h3><p>ファイルリストです。
現在のフォルダにあるファイル・フォルダが表示されます。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="previewプレビュー">Preview（プレビュー）<a class="hash-link" href="#previewプレビュー" title="この見出しへのリンク">​</a></h3><p>プレビューです。
現在選択しているファイルの画像が表示されます。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="paletteパレット">Palette（パレット）<a class="hash-link" href="#paletteパレット" title="この見出しへのリンク">​</a></h3><p>パレットです。
フォルダボタンが表示されます。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="フォルダボタン">フォルダボタン<a class="hash-link" href="#フォルダボタン" title="この見出しへのリンク">​</a></h2><p>パレットウィンドウに表示されるフォルダボタンは <code>items.json</code> ファイルでカスタマイズできます。
<code>items.json</code> ファイルは JSON 形式です。
例えば、<code>C:\images\背景</code> のフォルダへ移動するボタンを追加する場合、</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Name&quot;:&quot;カテゴリ１&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ”Items&quot;:[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;Name&quot;:&quot;背景&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;Path&quot;:&quot;C:\\images\\背景&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>となります。最初の <code>Name</code> はカテゴリです。<code>Items</code> はカテゴリに属するボタンの集まりです
<code>Items</code> には <code>Name</code> と <code>Path</code> をセットで指定します。
<code>Name</code> はボタンに表示される名前、<code>Path</code> は移動先のフォルダパスになります。
複数のボタンを追加する場合は <code>Items</code> に追加します。また、カテゴリは何個でも追加できます。</p><p>あるフォルダに入っているサブフォルダをすべて登録することが出来ます。
例えば <code>C:\images\背景</code>, <code>C:\images\人物</code> があったとき、<code>C:\images</code> を登録する場合は</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Name&quot;:&quot;images&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Path&quot;:&quot;C:\\images&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>となります。カテゴリ <code>images</code> に <code>背景</code>, <code>人物</code> のフォルダボタンが追加されます。
また、この方法で登録したカテゴリには <code>New Folder...</code> ボタンが表示され、新規フォルダをすぐに作成することが出来ます。</p><p>例えば <code>items.json</code> は次のようになります。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Name&quot;:&quot;カテゴリ１&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Items&quot;:[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;Name&quot;:&quot;背景&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;Path&quot;:&quot;C:\\images\\背景&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Name&quot;:&quot;images&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Path&quot;:&quot;C:\\images&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="サポート">サポート<a class="hash-link" href="#サポート" title="この見出しへのリンク">​</a></h2><p><a href="mailto:mebiusbox@gmail.com" target="_blank" rel="noopener noreferrer">mebiusbox@gmail.com</a> までご連絡ください。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="免責">免責<a class="hash-link" href="#免責" title="この見出しへのリンク">​</a></h2><p>本ソフトウェアは十分なテストを行っていますが、お使いのパソコン環境やプログラム
の不具合などにより問題が発生する場合があります。本ソフトウェアの使用により発生
したいかなる損害に関し、作者は一切責任を負いません。</p><hr><p>Copyright (c) 2016 mebiusbox software. All rights reserved.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>タグ:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/software">software</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2016/07/19/gitlab_issues_custom_css">GitLab Issues のスタイルシートをカスタマイズ</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2016-07-19T00:00:00.000Z" itemprop="datePublished">2016年7月19日</time> · <!-- -->約4分</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mebiusbox.png" alt="mebiusbox"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">mebiusbox</span></a></div><small class="avatar__subtitle" itemprop="description">enginner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="はじめに">はじめに<a class="hash-link" href="#はじめに" title="この見出しへのリンク">​</a></h2><p>GitLab の Issues は一覧画面、詳細画面ともにタイトルが少し見づらいイメージがあります。
一覧画面にはタイトルとそれ以外の情報が２行で表示されていますが、１行目をもう少し目立たせたい。
詳細画面ではタイトルと詳細の間に空白を入れたい。
そこで、GitLab のスタイルシートをカスタマイズして調整してみます。
なお、試したバージョンは <code>GitLab-CE 8.9.6</code> で、OS は CentOS7 です。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="変更前と変更後のスタイル">変更前と変更後のスタイル<a class="hash-link" href="#変更前と変更後のスタイル" title="この見出しへのリンク">​</a></h2><p>一覧ページでは、１行目の文字色、文字の多きさ、２行目の文字色を、詳細ページではタイトルの文字色とアンダーラインの付加、詳細との間に空白を入れます。また、フォントはメイリオにします。以下は変更前と変更後の画面です。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="変更前">変更前<a class="hash-link" href="#変更前" title="この見出しへのリンク">​</a></h3><ul><li>一覧画面</li></ul><p><img loading="lazy" alt="fig" src="/assets/images/2016-07-19-gitlab-issues-custom-css-001-f6c5d1adb780c722be6e34d9699e21dc.png" width="933" height="220" class="img_ev3q"></p><ul><li>詳細画面</li></ul><p><img loading="lazy" alt="fig" src="/assets/images/2016-07-19-gitlab-issues-custom-css-002-e53e05753d4ddeb2ea54ffde9d989247.png" width="866" height="246" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="変更後">変更後<a class="hash-link" href="#変更後" title="この見出しへのリンク">​</a></h3><ul><li>一覧画面</li></ul><p><img loading="lazy" alt="fig" src="/assets/images/2016-07-19-gitlab-issues-custom-css-003-7c9dc8ddc459cafbcd672deb71c62bfd.png" width="923" height="216" class="img_ev3q"></p><ul><li>詳細画面</li></ul><p><img loading="lazy" alt="fig" src="/assets/images/2016-07-19-gitlab-issues-custom-css-004-844e7eec95fdaf75f06f7b8010bebf9d.png" width="873" height="262" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="えーイマイチじゃない">「えー、イマイチじゃない？」<a class="hash-link" href="#えーイマイチじゃない" title="この見出しへのリンク">​</a></h3><p>そんなこと言わないで。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="issues-画面のスタイルシート">Issues 画面のスタイルシート<a class="hash-link" href="#issues-画面のスタイルシート" title="この見出しへのリンク">​</a></h2><p>一覧ページと詳細ページのスタイルシートは <code>/opt/gitlab/embedded/service/gitlab-rails/public/assets</code> に入っています。
ここにある css は SCSS からコンパイルされたもので、ソースファイルは以下の場所にあります。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="一覧用スタイルシート">一覧用スタイルシート<a class="hash-link" href="#一覧用スタイルシート" title="この見出しへのリンク">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/opt/gitlab/embedded/service/gitlab-rails/app/assets/stylesheets/pages/issues.scss</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="詳細用スタイルシート">詳細用スタイルシート<a class="hash-link" href="#詳細用スタイルシート" title="この見出しへのリンク">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/opt/gitlab/embedded/service/gitlab-rails/app/assets/stylesheets/pages/detail_page.scss</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>これらのファイルを編集して反映させます。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="issuesscss">issues.scss<a class="hash-link" href="#issuesscss" title="この見出しへのリンク">​</a></h2><p>以下の内容をファイル末尾に追加します。</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.issue-title-text</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">font-family</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;メイリオ&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">font-size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token unit">pt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token selector" style="color:#00009f">a</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token hexcode color">#b92a2c</span><span class="token plain"> </span><span class="token important">!important</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token selector" style="color:#00009f">&amp;</span><span class="token selector pseudo-class" style="color:#00009f">:hover</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token hexcode color">#b92a2c</span><span class="token plain"> </span><span class="token important">!important</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector class" style="color:#00009f">.issue-info</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token hexcode color">#aaa</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token selector" style="color:#00009f">a</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token hexcode color">#aaa</span><span class="token plain"> </span><span class="token important">!important</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token selector" style="color:#00009f">&amp;</span><span class="token selector pseudo-class" style="color:#00009f">:hover</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token hexcode color">#aaa</span><span class="token plain"> </span><span class="token important">!important</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="detail_pagescss">detail_page.scss<a class="hash-link" href="#detail_pagescss" title="この見出しへのリンク">​</a></h2><p><code>.detail-page-description</code> のところを以下のように書き換えます。</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.detail-page-description</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token selector class" style="color:#00009f">.title</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">margin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">font-size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//      </span><span class="token property" style="color:#36acaa">color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $gl-gray-dark</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token hexcode color">#b92a2c</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">padding-bottom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">margin-bottom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">font-family</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;メイリオ&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">border-bottom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token unit">px</span><span class="token plain"> dotted </span><span class="token hexcode color">#999</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ・・・</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="変更の反映">変更の反映<a class="hash-link" href="#変更の反映" title="この見出しへのリンク">​</a></h2><p>css を作りなおすには <code>gitlab-rake</code> でコンパイルし直します。
以下のコマンドを実行します。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gitlab-rake assets:clean assets:precompile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>そうすると、以下のようなエラーが出ます。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rake aborted!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/public/assets/application-c648926c9d8a8939cebb4416841c41fe5cfaed87c8cc16110b52113026c41fd5.css.66282720.7223.147474</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>パーミッションが許可されていないようです。
そこで、コンパイルするときだけパーミッションを変更し、コンパイルしたら元に戻します。
そして、再作成したスタイルシートを反映させるため、GitLab をリスタートします。</p><p>※この解決策は以下を参考にしました。<br>
<a href="http://qiita.com/hiconyan/items/7c5cdc6965c7eb44f1b5" target="_blank" rel="noopener noreferrer">GitLab Omnibusロゴ差し替えスクリプト</a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">chown -R git:git /opt/gitlab/embedded/service/gitlab-rails/public/assets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gitlab-rake assets:clean assets:precompile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chown -R root:root /opt/gitlab/embedded/service/gitlab-rails/public/assets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gitlab-ctl restart</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>再アクセスしてみると、変更していることが確認出来ます。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="最後に">最後に<a class="hash-link" href="#最後に" title="この見出しへのリンク">​</a></h2><p>あとは好きなようにスタイルをいじりましょう。
参考になれば幸いです。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>タグ:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/gitlab">gitlab</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2016/07/15/gitbook_pdf_automation">CentOS7 + GitBook + GitLab + Hubot で 文書作成環境の構築</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2016-07-15T00:00:00.000Z" itemprop="datePublished">2016年7月15日</time> · <!-- -->約16分</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mebiusbox.png" alt="mebiusbox"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">mebiusbox</span></a></div><small class="avatar__subtitle" itemprop="description">enginner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="はじめに">はじめに<a class="hash-link" href="#はじめに" title="この見出しへのリンク">​</a></h2><p>GitBook は Markdown 形式のドキュメントから電子文書を作成するツールです。
次のような文書作成環境を構築します。</p><ul><li>GitBook に使うドキュメントを GitLab でバージョン管理します</li><li>GitLab の push イベントを Hubot でフックします</li><li>GitBook を使って電子文書を作成します</li><li>作成した電子文書を Apache を使って公開しブラウザで閲覧、ダウンロードできるようにします</li><li>これらをVirtualBox(Windows) で作成した CentOS7 上に実装します</li></ul><p>私はWindows10 64bit環境で動作確認しました。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="centos7-の仮想マシンを作成">CentOS7 の仮想マシンを作成<a class="hash-link" href="#centos7-の仮想マシンを作成" title="この見出しへのリンク">​</a></h2><p>VirtaulBox の仮想マシンを作成し、CentOS7 を Minimal 構成でインストールします。
使ったのは <code>CentOS7-x86_64-Minimal-1511.iso</code> です。
インストール後、<code>yum upgrade</code> を行います。
Guest Additions は入れてません。
SELinux は無効にし、<code>firewalld</code> をインストールします。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="gitlab-のインストール">GitLab のインストール<a class="hash-link" href="#gitlab-のインストール" title="この見出しへのリンク">​</a></h2><p>以下のコマンドを実行します。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yum -y install gitlab-ce</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ホストPCからアクセスしたいので、ホストオンリーアダプタのIP(192.168.56.101) を <code>external_url</code> に設定して <code>gitlab-ctl reconfigure</code> を実行します。</p><p>ホストPCからブラウザで <code>http://192.168.56.101</code> にアクセスしてみると...
接続されませんね。ファイアウォールの設定で 80 ポートを開けます。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">firewall-cmd --add-service=http --permanent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">firewall-cmd --reload</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>再度アクセスして GitLab の画面が表示されることを確認します。
パスワードを再設定して root でログインできることを確認しましょう。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="gitbook-のインストール">GitBook のインストール<a class="hash-link" href="#gitbook-のインストール" title="この見出しへのリンク">​</a></h2><p>GitBook は Node.js のアプリケーションです。
まずは Node.js をインストールします。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum install epel-release -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yum install nodejs npm -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>次に <code>gitbook-cli</code> をインストールします。これは Gitbook のコマンドラインツールです。gitbook 自体は含まれていません。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install gitbook-cli -g</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>これで gitbook のコマンドが使えるようになります。
gitbook 自体は gitbook のコマンドを実行しようとすると、自動でインストールされます。</p><p>(gitbook をグローバルでインストールすると上手く動作しないのでローカルにインストールすることをオススメします)</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gitbook help</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上記を実行して本体をインストールします。
適当にフォルダを作って動作確認してみます。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir book</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd book</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gitbook init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; warn: no summary file in this book</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: create README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: create SUMMARY.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: initialization is finished</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gitbook build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: 7 plugins are installed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: 6 explicitly listed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: loading plugin &quot;highlight&quot;... OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: loading plugin &quot;search&quot;... OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: loading plugin &quot;lunr&quot;... OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: loading plugin &quot;sharing&quot;... OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: loading plugin &quot;fontsettings&quot;... OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: loading plugin &quot;theme-default&quot;... OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: found 1 pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: found 0 asset files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: &gt;&gt; generation finished with success in 0.4s !</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>PDF, epub, mobi 形式を作成する場合はそれぞれ <code>gitbook pdf</code>, <code>gitbook epub</code>, <code>gitbook mobi</code> になります。
試しに PDF で作成してみます。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gitbook pdf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: 7 plugins are installed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: 6 explicitly listed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: loading plugin &quot;highlight&quot;... OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: loading plugin &quot;search&quot;... OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: loading plugin &quot;lunr&quot;... OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: loading plugin &quot;sharing&quot;... OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: loading plugin &quot;fontsettings&quot;... OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: loading plugin &quot;theme-default&quot;... OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: found 1 pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; info: found 0 asset files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; InstallRequiredError: &quot;ebook-convert&quot; is not installed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Install it from Calibre: https://calibre-ebook.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>&quot;ebook-convert&quot; がインストールされていないので、<a href="https://calibre-ebook.com/" target="_blank" rel="noopener noreferrer">Calibre</a> をインストールする必要があります。</p><p>公式サイトのダウンロードから Unix 用のインストール方法が記載されていますので、それを実行します。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum install wget -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo -v &amp;&amp; wget -nv -O- https://raw.githubusercontent.com/kovidgoyal/calibre/master/setup/linux-installer.py | sudo python -c &quot;import sys; main=lambda:sys.stderr.write(&#x27;Download failed\n&#x27;); exec(sys.stdin.read()); main()&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>インストールすると警告が２つ出ます。２つとも ImportError で実行に必要なもの libGL.so と QImage が見つからなかったようです。
試しにここで <code>gitbook pdf</code> を実行すると「共有オブジェクトファイルを開けません」のようなエラーが表示されます。
これらは <code>qt-creator</code> パッケージをインストールすることで解決します。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum install qt-creator -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>再度 <code>gitbook pdf</code> を実行して問題が出てないことを確認します。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hubot-のインストール">Hubot のインストール<a class="hash-link" href="#hubot-のインストール" title="この見出しへのリンク">​</a></h2><p>以下のコマンドを実行します</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install hubot coffee-script generator-hubot yo -g</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>root で Hubot の作成が出来ないので、Hubot 用のユーザーを作成します。このユーザーは gitbook の変換も兼ねているので <code>gitbook</code> としました。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">useradd gitbook</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">passwd gitbook</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>gitbook ユーザーに切り替えて hubot を作成します。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">su gitbook</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir hubot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd hubot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yo hubot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Hubot 作成の手続きが始まりますので、すべてデフォルトのままで作成します。
作成したら、まず不要なファイルを削除します。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rm scripts/example.coffee</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>hubot の実行スクリプト <code>run_hubot.sh</code> を作成し、以下の内容を記述します。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export PORT=5000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bin/hubot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>作成したら実行権限を与えておきます。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">chmod +x run_hubot.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>次に Hubot スクリプト <code>scripts/gitlab_gitbook.coffee</code> を作成します。
内容は次のようになります。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># http://&lt;host&gt;:5000/gitlab_hook/?output_pdf=&lt;pdf_name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">url = require &#x27;url&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">querystring = require &#x27;querystring&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module.exports = (robot) -&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  push_request = (output_pdf, hook) -&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    git_group = hook.project.namespace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    git_project = hook.project.name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    git_url = hook.project.ssh_url</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&quot;hubot: group=#{git_group} name=#{git_project} output=#{output_pdf}&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @exec = require(&#x27;child_process&#x27;).exec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    command = &quot;sh /home/gitbook/gitbook.sh #{git_url} #{git_project} #{output_pdf}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @exec command, (error, stdout, stderr) -&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      robot.logger.error error if error?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      robot.logger.info stdout if stdout?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      robot.logger.info stderr if stderr?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  robot.router.post &#x27;/gitlab_hook&#x27;, (req, res) -&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hook = req.body</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    q = querystring.parse(url.parse(req.url).query)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    kind = hook[&#x27;object_kind&#x27;] || &#x27;push&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    switch kind</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      when &#x27;push&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        push_request q.output_pdf, hook</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res.send 200</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>正常に実行できるか確認します。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./run_hubot.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>次に hubot から gitbook を実行するスクリプトを作成します。
このスクリプトは gitbook ユーザのホームフォルダのトップに作成します。
ログが欲しいのでスクリプトを２つに分けて、リダイレクトでファイルに書き込むようにしました。
（ここはもっとスマートにやる方法があると思います。このあたりは初心者レベルなのでご容赦を）</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vi ~/gitbook.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LOGFILE=/tmp/gitbook-script-log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./gitbook-exec.sh $1 $2 $3 &gt;&gt;$LOGFILE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>実際に実行するスクリプトファイル <code>gitbook-exec.sh</code> は次のようになります。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if [ -e $2 ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cd $2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    git pull $1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cd ../</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    git clone $1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gitbook install ./$2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gitbook pdf ./$2 ./$2/$3.pdf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gitbook build ./$2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp -rf ./$2/_book -T /var/www/html/$2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>忘れずに実行権限を与えておきます。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">chmod +x gitbook.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod +x gitbook-exec.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sshキー-の登録">sshキー の登録<a class="hash-link" href="#sshキー-の登録" title="この見出しへのリンク">​</a></h3><p>この gitbook ユーザは GitLab にアクセスしますので、ssh キーを登録しておきます。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh-keygen -t rsa</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>生成した id_rsa.pub の内容を GitLab でログインし、Profile Settings の SSH Keys に登録しておきます。</p><p>実際に clone 出来るか確認しておきます。
GitLab で適当なプロジェクトを作成します。
ここでは 「root」 ユーザーで 「Test」 というプロジェクトを作成しました。
URL は「 <a href="mailto:git@192.168.56.101" target="_blank" rel="noopener noreferrer">git@192.168.56.101</a>:root/Test.git 」になります。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone git@192.168.56.101:root/Test.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; bash: git: コマンドが見つかりません</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>おっと、git が入っていませんでした。インストールします。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo yum install git -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>再度 clone を試します。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone git@192.168.56.101:root/Test.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Cloning into &#x27;Test&#x27;...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; The authenticity of host &#x27;192.168.56.101 (192.168.56.101)&#x27; can&#x27;t &gt; be established.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ECDSA key fingerprint is c9:7d:09:34:cc:3a:74:fd:0d:d7:98:bf:31:62:21:2f.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Are you sure you want to continue connecting (yes/no)?</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>初回だと上記のような確認が出ますが、そのまま yes で問題ありません。
「Test」フォルダに移動して、<code>gitbook init</code> コマンドを実行し、gitbook のインストールと初期ファイルを作成します。
生成された <code>SUMMARY.md</code> と <code>README.md</code> をプッシュしておきます。</p><p>まずは git の設定をします。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git config --global user.name &quot;&lt;username&gt;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global user.email &quot;hoge@example.com&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上記の名前とメールアドレスは適当なので、適切な名前を設定してください。
以下を実行してプッシュします。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git add README.md SUMMARY.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -m &quot;add README SUMMARY&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push -u origin master</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apache-のインストール">Apache のインストール<a class="hash-link" href="#apache-のインストール" title="この見出しへのリンク">​</a></h2><p>gitbook で作成した電子文書を閲覧するために Web サーバー (apache) を導入します。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum install httpd -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ポートは 8000 を指定します。80 は GitLab(nginx) が使用しています。また 5000　ポートは hubot で使います。</p><p>gitbook ユーザで作成した文書を <code>/var/www/html</code> フォルダ内にコピーしています。
そのため <code>var/www/html</code> の所有者を gitbook に変更しておきます。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">chown gitbook:gitbook /var/www/html</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>設定が終わったらWebサーバを起動します。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start httpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl enable httpd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>例えば先ほどの「Test」プロジェクトは <code>/var/www/html/Test</code> となりますので、URL は「 <a href="http://192.168.56.101:8000/Test/" target="_blank" rel="noopener noreferrer">http://192.168.56.101:8000/Test/</a> 」になります。また、PDF 文書は「 <a href="http://192.168.56.101:8000/Test/%7Boutput_pdf%7D.pdf" target="_blank" rel="noopener noreferrer">http://192.168.56.101:8000/Test/{output_pdf}.pdf</a> 」でアクセスします。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="gitlab-で-webhook-を設定">GitLab で WebHook を設定<a class="hash-link" href="#gitlab-で-webhook-を設定" title="この見出しへのリンク">​</a></h2><p>これで一通りの自動生成環境は整いました。
GitLab のテストプロジェクトで動作確認します。
GitLab のプロジェクト設定で「Webhooks」を選択します。</p><p>Webhooks の URL に <code>http://192.168.56.101:5000/gitlab_hook/?output_pdf=Test</code> と入力します。
Secret Token は空で、Trigger は <code>Push events</code> にチェックをつけます。
SSL Verification の「Enable SSL verification」のチェックははずします。
以上の設定が終わったら「Add Webhook」を設定しておきます。</p><p>下の方に追加された Webhook があります。
自動生成が動作するか確認します。</p><p>まず、CentOS側では gitbook ユーザーにし、clone した Test フォルダを削除しておきます。そして、hubot を起動させます。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm -rf Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd hubot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./run_hubot.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>次に GitLab の画面から追加した Webhook の右側にある「Test」ボタンを押します。
GitLab 側で <code>Hook executed successfully: HTTP 200</code> と表示されれば GitLab からのフックは上手く動作しています。</p><p>hubot 側もエラーが発生していないか <code>/tmp/gitbook-script-log</code> を確認します</p><p>問題なければホストPCからブラウザで見てみます。
URL は <code>http://192.168.56.101:8000/Test/</code> です。</p><p>あれ、接続がタイムアウトされたと表示されました。
CentOS 側のファイアウォールで 8000 番を開けます。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">firewall-cmd --add-port=8000/tcp --permanent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">firewall-cmd --reload</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>画面に「Introduction」と表示されれば成功です。
PDF も作成されているか確認します。
URL は <code>http://192.168.56.101:8000/Test/Test.pdf</code> です.</p><p>問題なければこれで基本的な機能は実装できました。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hubot-の永続化">hubot の永続化<a class="hash-link" href="#hubot-の永続化" title="この見出しへのリンク">​</a></h2><p>これから細かい調整をしていきます.
まず、hubot の永続化を行います。
それには <code>forever</code> を使いますので、インストールします。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install forever -g</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>次に <code>bin/hubot</code> を書き換えます。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># exec node_modules/.bin/hubot --name &quot;hubot&quot; &quot;$@&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">forever start -c coffee node_modules/.bin/hubot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>起動方法はこれまで変わらないので <code>./run_hubot.sh</code> を実行します。
動作しているか確認する場合は <code>forever list</code> です。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="日本語の対応">日本語の対応<a class="hash-link" href="#日本語の対応" title="この見出しへのリンク">​</a></h2><p>ここまでの設定で日本語を含めた文書を入れると HTML の方は問題ありませんが、 PDF では日本語の部分が表示されません。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="html">HTML<a class="hash-link" href="#html" title="この見出しへのリンク">​</a></h3><a href="/img/post/2016-07-15-gitbook-automation-001.png"><img loading="lazy" src="/img/post/2016-07-15-gitbook-automation-001.png" width="50%" class="img_ev3q"></a><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pdf">PDF<a class="hash-link" href="#pdf" title="この見出しへのリンク">​</a></h3><a href="/img/post/2016-07-15-gitbook-automation-002.png"><img loading="lazy" src="/img/post/2016-07-15-gitbook-automation-002.png" width="50%" class="img_ev3q"></a><h3 class="anchor anchorWithStickyNavbar_LWe7" id="フォントをインストール">フォントをインストール<a class="hash-link" href="#フォントをインストール" title="この見出しへのリンク">​</a></h3><p>これは日本語のフォントが入っていないのが原因ですので、インストールします。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum groupinstall fonts -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>インストールしたら再度、生成させてみます。</p><a href="/img/post/2016-07-15-gitbook-automation-003.png"><img loading="lazy" src="/img/post/2016-07-15-gitbook-automation-003.png" width="50%" class="img_ev3q"></a><p>どうやら問題なさそうです。</p><p>※ここでは VL ゴシックのフォントで生成されていますが、場合によっては別のフォントになっているかもしれません。私も別の環境で試したところ別のフォントになってしまい、見た目があまりよろしくなかったことがありました。その場合はフォントを指定します。</p><p><code>book.json</code> ファイルをトップフォルダに作成し、内容を以下のようにします。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;pdf&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;fontFamily&quot;:&quot;VL Gothic&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>これで PDF に使われるフォントを変更することが出来ます。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="数式">数式<a class="hash-link" href="#数式" title="この見出しへのリンク">​</a></h2><p>gitbook には数式を埋め込むために mathjax のプラグインがあります。
使用するには <code>book.json</code> を作成し、内容を以下のようにします。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;plugins&quot;:[&quot;mathjax&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>PDF でも使うためには <code>svgexport</code> が必要ですので、これもインストールする必要があります。
svgexport のインストールには <code>bzip2</code> も必要なので先にこちらをインストールします。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum install bzip2 -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install svgexport -g</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="fig-4" src="data:image/png;base64,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AABZ6TchaNWqVenJJ59Mq1evLi8BAADovZYPQUuXLk0LFy5Ml112Wbr66qvTU089VV4DAADQey0fgi6//PJ0wgknpD322CONGTMmPf744+U1AAAAvdfyIej5559PHR0dafLkyUUIeuyxx8prAAAAeq9fjAl69tln01FHHZX2228/lSAAAGCDCEEAAEBW+lUIMiYIAADYUCpBAABAVoQgAAAgK/0uBJkdDgAA2BAtH4La29vTvffemyZOnJj22muv4sOpy5cvL68FAADonZYPQTfddFM6++yz04EHHpj23HPPdOKJJ6bLLrusvBYAAKB3Wj4EPfPMM8XHUqM9/fTT6amnnkqrVq0qrwUAAOidfjEmKDz//PNFq/wMAACwPvpNCAIAAOgLLRmCogvcihUrigkQHn744eLf7n6O7nEqQwAAwLpquRAU02E/+OCD6aSTTkonnHBC0Y4//viiVX6PdtxxxxXL7rzzzmKsEAAAwLpouRD03HPPpYceeiidccYZ6bTTTivaqaeeWtNi2SmnnFL8fNdddwlBAADAOjMmCAAAyIoQBAAAZKVfhKDoIlf5TtDq1avLSwEAAHqv5UNQzPx2++23p0suuSRdd9116YEHHiivAQAA6L2WDkFR9Zk5c2aaO3duuvvuu9N5552Xxo0bl2bNmlXeAgAAoHdaOgQtW7YsTZgwoQg9q1atSosXL05HH310GjlyZHryySd9HwgAAOi1lg5BMVX2pEmT0uzZs4txQU888UQ6//zz01ZbbVV8S8j4IAAAoLdaOgTFZAg333xzuueee4rA89hjj6Vzzz03DRs2LLW3twtBAABAr7X8xAgV0fVt4cKF6YgjjkiHHXaYAAQAAKyXfhOCHnnkkXThhRemww8/3AxxAADAeusXISgmRbj66qvT9OnTiwAU44NUggAAgPXR8iEousFdf/31xTeCYkxQjBNavnx50SIMAQAA9EbLh6AbbrghXXTRRemmm25KS5YsSfPnz0+nnnpqEYhUgwAAgN5q6RAUs8Ltt99+abvttks77rhj2nnnnYuZ4Xbffff0zDPP+E4QAADQay0dgh5//PHiG0HnnHNOMR6o0i655BIBCAAAWC/9YmIEAACAviIEAQAAWRGCAACArAhBAABAVoQgAAAgK0IQAACQFSEIAADIihAEAABkRQgCAACyIgQBAABZEYIAAICs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" width="833" height="264" class="img_ev3q"></p><p>正常に生成されました。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="最後に">最後に<a class="hash-link" href="#最後に" title="この見出しへのリンク">​</a></h2><p>Git, GitHub, GitLab, GitBook は最近触り始めたばかりですが色々出来て面白いです。今回は Jekyll の影響が大きく Git でプッシュするとコンテンツが出来上がるというのは大変楽ですし、プログラマに優しい感じがします。とはいっても、ここまで来るのに苦労したのでなんとも言えませんが。
Gitbook にはまだ設定できるところもあるようですし、スタイルにはこだわる方なので、もう少し手を付け加えたいところですね。PDF はもっと体裁を整えて社外にも出せるぐらいの完成度を目指したいです。HTML の方は css いじりたいですね。
今回の内容については所々ツッコミたいところもあるかもしれませんが、参考になれば幸いです。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>タグ:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/gitbook">gitbook</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="ブログ記事一覧のナビゲーション"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/page/3"><div class="pagination-nav__label">新しい記事</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/page/5"><div class="pagination-nav__label">過去の記事</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Contents</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/lab">Lab</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/note">Note</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/software">Software</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://mebiusbox.booth.pm/" target="_blank" rel="noopener noreferrer" class="footer__link-item">BOOTH<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/mebiusbox2" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/privacy">Privacy Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 mebiusbox software.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.cbb52c22.js"></script>
<script src="/assets/js/main.1e508335.js"></script>
</body>
</html>