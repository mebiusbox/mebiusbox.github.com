<!doctype html>
<html lang="ja" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Blog | Mebiusbox software</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mebiusbox.github.io/blog/page/6"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" property="og:title" content="Blog | Mebiusbox software"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mebiusbox.github.io/blog/page/6"><link data-rh="true" rel="alternate" href="https://mebiusbox.github.io/blog/page/6" hreflang="ja"><link data-rh="true" rel="alternate" href="https://mebiusbox.github.io/en/blog/page/6" hreflang="en"><link data-rh="true" rel="alternate" href="https://mebiusbox.github.io/blog/page/6" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://T4PENXHNV7-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Mebiusbox software RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Mebiusbox software Atom Feed">

<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-5WZWRT7N",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="search" type="application/opensearchdescription+xml" title="Mebiusbox software" href="/opensearch.xml">





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js" integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous" defer="defer"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.30b6ed6c.css">
<script src="/assets/js/runtime~main.827e3653.js" defer="defer"></script>
<script src="/assets/js/main.d585ee82.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5WZWRT7N" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Mebiusbox software</b></a><a class="navbar__item navbar__link" href="/docs/category/lab">Lab</a><a class="navbar__item navbar__link" href="/docs/category/note">Note</a><a class="navbar__item navbar__link" href="/docs/category/software">Software</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a href="https://mebiusbox.github.io/contents/EffectTextureMaker" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">EffectTextureMaker<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>日本語</a><ul class="dropdown__menu"><li><a href="/blog/page/6" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ja">日本語</a></li><li><a href="/en/blog/page/6" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードを切り替える(現在はライトモード)" aria-label="ダークモードを切り替える(現在はライトモード)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="検索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">検索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近のブログ記事のナビゲーション"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/12/15/bump-threejs-from-r116-to-r159">Three.js を r116 から r159 にアップデートしたこと</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/12/13/vscode-pixy-outline">自分用にVSCodeのアウトライン拡張を作ってみました</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/11/30/docusaurus-v3">Docusaurus v3 にアップグレードしました</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/04/23/rust-book">「動かして学ぶ！Rust入門」の執筆</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/01/17/notion-wbs">NotionでWBSを管理する</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/01/15/docusaurus-katex-client-side-rendering">Docusaurusで数式をクライアントサイドレンダリング(CSR)する</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/01/14/notion-shadertoy-gallery">NotionでShadertoyやつぶやき系のツイートをギャラリーにまとめる</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/01/11/docusaurus">リニューアル：Docusaurusへ移行</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/27/diary">自前ライブラリの整備</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/23/packassistant-x64">PackAssistant 1.6.0 リリース</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/22/packassistant">PackAssistant について</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/18/user-forum">サポートについて（ユーザーフォーラムの設置）</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/17/discontinued-projects">開発終了・公開停止ソフト</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/16/filehammer">FileHammer  について</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/15/release-filehammer-x64">FileHammer  1.20.2 (64bit版) リリース</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/13/release-filehammer-x64">FileHammer  1.20.1 (64bit版) リリース</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/12/filehammer-for-windows7">FileHammer 64bit 版の Windows7 での動作</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/11/diary">FileHammer：画像サイズと動画コーデック</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/11/release-filehammer-x64">FileHammer  1.20.0 (64bit版) リリース</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/10/diary">FileHammer 64bit 版について</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/08/diary">DiskCatalogManager について</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/01/06/EffectTextureMaker">EffectTextureMaker というのを作りました</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/08/14/ComicPicker">ComicPicker 0.6.5 リリース</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/08/13/ImageStack">ImageStack 0.0.1 リリース</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/19/gitlab_issues_custom_css">GitLab Issues のスタイルシートをカスタマイズ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/15/gitbook_pdf_automation">CentOS7 + GitBook + GitLab + Hubot で 文書作成環境の構築</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/08/gitbook_with_mathjax">Windows で Gitbook + mathjax を使った文書作成</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/02/blender-building">Blender：パーティクルを使ったビルの配置</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/28/rar2zip">rar形式からzip形式に一括変換するバッチファイル</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/27/eclipse-add-bom">Eclipse：新規ファイルにBOM(UTF-8)をつける</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/26/eclipse-cpp-code-analyze">Eclipse：C++静的チェック環境</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/24/blender-maya-camera">Blender：カメラの操作をMayaと同じにする</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/19/close-projects">開発終了のソフトウェアについて</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/18/jekyll-archives">Jekyll：jekyll-archives でアーカイブページを作る</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/18/jekyll-create-archives">Jekyll：アーカイブページを作る</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/17/atom-keybindings">Atom:キーバインドの変更</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/15/jekyll-dev-serve">Jekyll：site.url をローカル環境と本番環境とで切り替える方法</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/07/wordpress-export-to-jekyll">WordPress から Jekyll へのエクスポート</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="はじめに"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2016/07/15/gitbook_pdf_automation">CentOS7 + GitBook + GitLab + Hubot で 文書作成環境の構築</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2016-07-15T00:00:00.000Z" itemprop="datePublished">2016年7月15日</time> · <!-- -->約16分</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mebiusbox.png" alt="mebiusbox" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">mebiusbox</span></a></div><small class="avatar__subtitle" itemprop="description">enginner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="はじめに">はじめに<a href="#はじめに" class="hash-link" aria-label="はじめに への直接リンク" title="はじめに への直接リンク">​</a></h2>
<p>GitBook は Markdown 形式のドキュメントから電子文書を作成するツールです。
次のような文書作成環境を構築します。</p>
<ul>
<li>GitBook に使うドキュメントを GitLab でバージョン管理します</li>
<li>GitLab の push イベントを Hubot でフックします</li>
<li>GitBook を使って電子文書を作成します</li>
<li>作成した電子文書を Apache を使って公開しブラウザで閲覧、ダウンロードできるようにします</li>
<li>これらをVirtualBox(Windows) で作成した CentOS7 上に実装します</li>
</ul>
<p>私はWindows10 64bit環境で動作確認しました。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="centos7-の仮想マシンを作成">CentOS7 の仮想マシンを作成<a href="#centos7-の仮想マシンを作成" class="hash-link" aria-label="CentOS7 の仮想マシンを作成 への直接リンク" title="CentOS7 の仮想マシンを作成 への直接リンク">​</a></h2>
<p>VirtaulBox の仮想マシンを作成し、CentOS7 を Minimal 構成でインストールします。
使ったのは <code>CentOS7-x86_64-Minimal-1511.iso</code> です。
インストール後、<code>yum upgrade</code> を行います。
Guest Additions は入れてません。
SELinux は無効にし、<code>firewalld</code> をインストールします。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gitlab-のインストール">GitLab のインストール<a href="#gitlab-のインストール" class="hash-link" aria-label="GitLab のインストール への直接リンク" title="GitLab のインストール への直接リンク">​</a></h2>
<p>以下のコマンドを実行します。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">yum -y install gitlab-ce</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ホストPCからア クセスしたいので、ホストオンリーアダプタのIP(192.168.56.101) を <code>external_url</code> に設定して <code>gitlab-ctl reconfigure</code> を実行します。</p>
<p>ホストPCからブラウザで <code>http://192.168.56.101</code> にアクセスしてみると...
接続されませんね。ファイアウォールの設定で 80 ポートを開けます。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">firewall-cmd --add-service=http --permanent</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">firewall-cmd --reload</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>再度アクセスして GitLab の画面が表示されることを確認します。
パスワードを再設定して root でログインできることを確認しましょう。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gitbook-のインストール">GitBook のインストール<a href="#gitbook-のインストール" class="hash-link" aria-label="GitBook のインストール への直接リンク" title="GitBook のインストール   への直接リンク">​</a></h2>
<p>GitBook は Node.js のアプリケーションです。
まずは Node.js をインストールします。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">yum install epel-release -y</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">yum install nodejs npm -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>次に <code>gitbook-cli</code> をインストールします。これは Gitbook のコマンドラインツールです。gitbook 自体は含まれていません。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">npm install gitbook-cli -g</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>これで gitbook のコマンドが使えるようになります。
gitbook 自体は gitbook のコマンドを実行しようとすると、自動でインストールされます。</p>
<p>(gitbook をグローバルでインストールすると上手く動作しないのでローカルにインストールすることをオススメします)</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">gitbook help</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>上記を実行して本体をインストールします。
適当にフォルダを作って動作確認してみます。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">mkdir book</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">cd book</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">gitbook init</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; warn: no summary file in this book</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: create README.md</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: create SUMMARY.md</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: initialization is finished</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">gitbook build</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: 7 plugins are installed</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: 6 explicitly listed</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: loading plugin &quot;highlight&quot;... OK</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: loading plugin &quot;search&quot;... OK</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: loading plugin &quot;lunr&quot;... OK</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: loading plugin &quot;sharing&quot;... OK</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: loading plugin &quot;fontsettings&quot;... OK</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: loading plugin &quot;theme-default&quot;... OK</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: found 1 pages</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: found 0 asset files</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: &gt;&gt; generation finished with success in 0.4s !</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>PDF, epub, mobi 形式を作成する場合はそれぞれ <code>gitbook pdf</code>, <code>gitbook epub</code>, <code>gitbook mobi</code> になります。
試しに PDF で作成してみます。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">gitbook pdf</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: 7 plugins are installed</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: 6 explicitly listed</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: loading plugin &quot;highlight&quot;... OK</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: loading plugin &quot;search&quot;... OK</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: loading plugin &quot;lunr&quot;... OK</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: loading plugin &quot;sharing&quot;... OK</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: loading plugin &quot;fontsettings&quot;... OK</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: loading plugin &quot;theme-default&quot;... OK</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: found 1 pages</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; info: found 0 asset files</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; InstallRequiredError: &quot;ebook-convert&quot; is not installed.</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; Install it from Calibre: https://calibre-ebook.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>&quot;ebook-convert&quot; がインストールされていないので、<a href="https://calibre-ebook.com/" target="_blank" rel="noopener noreferrer">Calibre</a> をインストールする必要があります。</p>
<p>公式サイトのダウンロードから Unix 用のインストール方法が記載されていますので、それを実行します。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">yum install wget -y</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">sudo -v &amp;&amp; wget -nv -O- https://raw.githubusercontent.com/kovidgoyal/calibre/master/setup/linux-installer.py | sudo python -c &quot;import sys; main=lambda:sys.stderr.write(&#x27;Download failed\n&#x27;); exec(sys.stdin.read()); main()&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>インストールすると警告が２つ出ます。２つとも ImportError で実行に必要なもの libGL.so と QImage が見つからなかったようです。
試しにここで <code>gitbook pdf</code> を実行すると「共有オブジェクトファイルを開けません」のようなエラーが表示されます。
これらは <code>qt-creator</code> パッケージをインストールすることで解決します。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">yum install qt-creator -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>再度 <code>gitbook pdf</code> を実行して問題が出てないことを確認します。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hubot-のインストール">Hubot のインストール<a href="#hubot-のインストール" class="hash-link" aria-label="Hubot のインストール への直接リンク" title="Hubot のインストール への直接リンク">​</a></h2>
<p>以下のコマンドを実行します</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">npm install hubot coffee-script generator-hubot yo -g</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>root で Hubot の作成が出来ないので、Hubot 用のユーザーを作成します。このユーザーは gitbook の変換も兼ねているので <code>gitbook</code> としました。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">useradd gitbook</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">passwd gitbook</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>gitbook ユーザーに切り替えて hubot を作成します。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">su gitbook</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">cd ~</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">mkdir hubot</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">cd hubot</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">yo hubot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Hubot 作成の手続きが始まりますので、すべてデフォルトのままで作成します。
作成したら、まず不要なファイルを削除します。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">rm scripts/example.coffee</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>hubot の実行スクリプト <code>run_hubot.sh</code> を作成し、以下の内容を記述します。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">export PORT=5000</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">bin/hubot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>作成したら実行権限を与えておきます。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">chmod +x run_hubot.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>次に Hubot スクリプト <code>scripts/gitlab_gitbook.coffee</code> を作成します。
内容は次のようになります。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain"># http://&lt;host&gt;:5000/gitlab_hook/?output_pdf=&lt;pdf_name&gt;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">url = require &#x27;url&#x27;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">querystring = require &#x27;querystring&#x27;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">module.exports = (robot) -&gt;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  push_request = (output_pdf, hook) -&gt;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    git_group = hook.project.namespace</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    git_project = hook.project.name</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    git_url = hook.project.ssh_url</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    console.log(&quot;hubot: group=#{git_group} name=#{git_project} output=#{output_pdf}&quot;)</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    @exec = require(&#x27;child_process&#x27;).exec</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    command = &quot;sh /home/gitbook/gitbook.sh #{git_url} #{git_project} #{output_pdf}&quot;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    @exec command, (error, stdout, stderr) -&gt;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      robot.logger.error error if error?</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      robot.logger.info stdout if stdout?</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      robot.logger.info stderr if stderr?</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  robot.router.post &#x27;/gitlab_hook&#x27;, (req, res) -&gt;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    hook = req.body</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    q = querystring.parse(url.parse(req.url).query)</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    kind = hook[&#x27;object_kind&#x27;] || &#x27;push&#x27;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    switch kind</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      when &#x27;push&#x27;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        push_request q.output_pdf, hook</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    res.send 200</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>正常に実行できるか確認します。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">./run_hubot.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>次に hubot から gitbook を実行するスクリプトを作成します。
このスクリプトは gitbook ユーザのホームフォルダのトップに作成します。
ログが欲しいのでスクリプトを２つに分けて、リダイレクトでファイルに書き込むようにしました。
（ここはもっとスマートにやる方法があると思います。このあたりは初心者レベルなのでご容赦を）</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">vi ~/gitbook.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">#!/bin/sh</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">LOGFILE=/tmp/gitbook-script-log</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">cd ~</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">./gitbook-exec.sh $1 $2 $3 &gt;&gt;$LOGFILE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>実際に実行するスクリプトファイル <code>gitbook-exec.sh</code> は次のようになります。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">#!/bin/sh</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">cd ~</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">if [ -e $2 ]; then</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	cd $2</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	git pull $1</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	cd ../</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">else</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	git clone $1</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">gitbook install ./$2</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">gitbook pdf ./$2 ./$2/$3.pdf</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">gitbook build ./$2</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">cp -rf ./$2/_book -T /var/www/html/$2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>忘れずに実行権限を与えておきます。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">chmod +x gitbook.sh</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">chmod +x gitbook-exec.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sshキー-の登録">sshキー の登録<a href="#sshキー-の登録" class="hash-link" aria-label="sshキー の登録 への直接リンク" title="sshキー の登録 への直接リンク">​</a></h3>
<p>この gitbook ユーザは GitLab にアクセスしますので、ssh キーを登録しておきます。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">ssh-keygen -t rsa</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>生成した id_rsa.pub の内容を GitLab でログインし、Profile Settings の SSH Keys に登録しておきます。</p>
<p>実際に clone 出来るか確認しておきます。
GitLab で適当なプロジェクトを作成します。
ここでは 「root」 ユーザーで 「Test」 というプロジェクトを作成しました。
URL は「 git@192.168.56.101<!-- -->:root<!-- -->/Test.git 」になります。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">git clone git@192.168.56.101:root/Test.git</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; bash: git: コマンドが見つかりません</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>おっと、git が入っていませんでした。インストールします。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">sudo yum install git -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>再度 clone を試します。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">git clone git@192.168.56.101:root/Test.git</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; Cloning into &#x27;Test&#x27;...</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; The authenticity of host &#x27;192.168.56.101 (192.168.56.101)&#x27; can&#x27;t &gt; be established.</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; ECDSA key fingerprint is c9:7d:09:34:cc:3a:74:fd:0d:d7:98:bf:31:62:21:2f.</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&gt; Are you sure you want to continue connecting (yes/no)?</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>初回だと上記のような確認が出ますが、そのまま yes で問題ありません。
「Test」フォルダに移動して、<code>gitbook init</code> コマンドを実行し、gitbook のインストールと初期ファイルを作成します。
生成された <code>SUMMARY.md</code> と <code>README.md</code> をプッシュしておきます。</p>
<p>まずは git の設定をします。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">git config --global user.name &quot;&lt;username&gt;&quot;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">git config --global user.email &quot;hoge@example.com&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>上記の名前とメールアドレスは適当なので、適切な名前を設定してください。
以下を実行してプッシュします。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">git add README.md SUMMARY.md</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">git commit -m &quot;add README SUMMARY&quot;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">git push -u origin master</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="apache-のインストール">Apache のインストール<a href="#apache-のインストール" class="hash-link" aria-label="Apache のインストール への直接リンク" title="Apache のインストール への直接リンク">​</a></h2>
<p>gitbook で作成した電子文書を閲覧するために Web サーバー (apache) を導入します。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">yum install httpd -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ポートは 8000 を指定します。80 は GitLab(nginx) が使用しています。また 5000　ポートは hubot で使います。</p>
<p>gitbook ユーザで作成した文書を <code>/var/www/html</code> フォルダ内にコピーしています。
そのため <code>var/www/html</code> の所有者を gitbook に変更しておきます。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">chown gitbook:gitbook /var/www/html</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>設定が終わったらWebサーバを起動します。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">systemctl start httpd</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">systemctl enable httpd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>例えば先ほどの「Test」プロジェクトは <code>/var/www/html/Test</code> となりますので、URL は「 <a href="http://192.168.56.101:8000/Test/" target="_blank" rel="noopener noreferrer">http://192.168.56.101:8000/Test/</a> 」になります。また、PDF 文書は「 <a href="http://192.168.56.101:8000/Test/%7Boutput_pdf%7D.pdf" target="_blank" rel="noopener noreferrer">http://192.168.56.101:8000/Test/{output_pdf}.pdf</a> 」でアクセスします。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gitlab-で-webhook-を設定">GitLab で WebHook を設定<a href="#gitlab-で-webhook-を設定" class="hash-link" aria-label="GitLab で WebHook を設定 への直接リンク" title="GitLab で WebHook を設定 への直接リンク">​</a></h2>
<p>これで一通りの自動生成環境は整いました。
GitLab のテストプロジェクトで動作確認します。
GitLab のプロジェクト設定で「Webhooks」を選択します。</p>
<p>Webhooks の URL に <code>http://192.168.56.101:5000/gitlab_hook/?output_pdf=Test</code> と入力します。
Secret Token は空で、Trigger は <code>Push events</code> にチェックをつけます。
SSL Verification の「Enable SSL verification」のチェックははずします。
以上の設定が終わったら「Add Webhook」を設定しておきます。</p>
<p>下の方に追加された Webhook があります。
自動生成が動作するか確認します。</p>
<p>まず、CentOS側では gitbook ユーザーにし、clone した Test フォルダを削除しておきます。そして、hubot を起動させます。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">cd ~</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">rm -rf Test</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">cd hubot</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">./run_hubot.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>次に GitLab の画面から追加した Webhook の右側にある「Test」ボタンを押します。
GitLab 側で <code>Hook executed successfully: HTTP 200</code> と表示されれば GitLab からのフックは上手く動作しています。</p>
<p>hubot 側もエラーが発生していないか <code>/tmp/gitbook-script-log</code> を確認します</p>
<p>問題なければホストPCからブラウザで見てみます。
URL は <code>http://192.168.56.101:8000/Test/</code> です。</p>
<p>あれ、接続がタイムアウトされたと表示されました。
CentOS 側のファイアウォールで 8000 番を開けます。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">firewall-cmd --add-port=8000/tcp --permanent</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">firewall-cmd --reload</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>画面に「Introduction」と表示されれば成功です。
PDF も作成されているか確認します。
URL は <code>http://192.168.56.101:8000/Test/Test.pdf</code> です.</p>
<p>問題なければこれで基本的な機能は実装できました。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hubot-の永続化">hubot の永続化<a href="#hubot-の永続化" class="hash-link" aria-label="hubot の永続化 への直接リンク" title="hubot の永続化 への直接リンク">​</a></h2>
<p>これから細かい調整をしていきます.
まず、hubot の永続化を行います。
それには <code>forever</code> を使いますので、インストールします。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">npm install forever -g</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>次に <code>bin/hubot</code> を書き換えます。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain"># exec node_modules/.bin/hubot --name &quot;hubot&quot; &quot;$@&quot;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">forever start -c coffee node_modules/.bin/hubot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>起動方法はこれまで変わらないので <code>./run_hubot.sh</code> を実行します。
動作しているか確認する場合は <code>forever list</code> です。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="日本語の対応">日本語の対応<a href="#日本語の対応" class="hash-link" aria-label="日本語の対応 への直接リンク" title="日本語の対応 への直接リンク">​</a></h2>
<p>ここまでの設定で日本語を含めた文書を入れると HTML の方は問題ありませんが、 PDF では日本語の部分が表示されません。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="html">HTML<a href="#html" class="hash-link" aria-label="HTML への直接リンク" title="HTML への直接リンク">​</a></h3>
<a href="/img/post/2016-07-15-gitbook-automation-001.png"><img src="/img/post/2016-07-15-gitbook-automation-001.png" width="50%"></a>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pdf">PDF<a href="#pdf" class="hash-link" aria-label="PDF への直接リンク" title="PDF への直接リンク">​</a></h3>
<a href="/img/post/2016-07-15-gitbook-automation-002.png"><img src="/img/post/2016-07-15-gitbook-automation-002.png" width="50%"></a>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="フォントをインストール">フォントをインストール<a href="#フォントをインストール" class="hash-link" aria-label="フォントをインストール への直接リンク" title="フォントをインストール への直接リンク">​</a></h3>
<p>これは日本語のフォントが入っていないのが原因ですので、インストールします。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">yum groupinstall fonts -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>インストールしたら再度、生成させてみます。</p>
<a href="/img/post/2016-07-15-gitbook-automation-003.png"><img src="/img/post/2016-07-15-gitbook-automation-003.png" width="50%"></a>
<p>どうやら問題なさそう  です。</p>
<p>※ここでは VL ゴシックのフォントで生成されていますが、場合によっては別のフォントになっているかもしれません。私も別の環境で試したところ別のフォントになってしまい、見た目があまりよろしくなかったことがありました。その場合はフォントを指定します。</p>
<p><code>book.json</code> ファイルをトップフォルダに作成し、内容を以下のようにします。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	&quot;pdf&quot;:{</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">		&quot;fontFamily&quot;:&quot;VL Gothic&quot;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>これで PDF に使われるフォントを変更することが出来 ます。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="数式">数式<a href="#数式" class="hash-link" aria-label="数式 への直接リンク" title="数式 への直接リンク">​</a></h2>
<p>gitbook には数式を埋め込むために mathjax のプラグインがあります。
使用するには <code>book.json</code> を作成し、内容を以下のようにします。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	&quot;plugins&quot;:[&quot;mathjax&quot;]</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>PDF でも使うためには <code>svgexport</code> が必要ですので、これもインストールする必要があります。
svgexport のインストールには <code>bzip2</code> も必要なので先にこちらをインストールします。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">yum install bzip2 -y</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">npm install svgexport -g</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img loading="lazy" alt="fig-4" src="data:image/png;base64,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AABZ6TchaNWqVenJJ59Mq1evLi8BAADovZYPQUuXLk0LFy5Ml112Wbr66qvTU089VV4DAADQey0fgi6//PJ0wgknpD322CONGTMmPf744+U1AAAAvdfyIej5559PHR0dafLkyUUIeuyxx8prAAAAeq9fjAl69tln01FHHZX2228/lSAAAGCDCEEAAEBW+lUIMiYIAADYUCpBAABAVoQgAAAgK/0uBJkdDgAA2BAtH4La29vTvffemyZOnJj22muv4sOpy5cvL68FAADonZYPQTfddFM6++yz04EHHpj23HPPdOKJJ6bLLrusvBYAAKB3Wj4EPfPMM8XHUqM9/fTT6amnnkqrVq0qrwUAAOidfjEmKDz//PNFq/wMAACwPvpNCAIAAOgLLRmCogvcihUrigkQHn744eLf7n6O7nEqQwAAwLpquRAU02E/+OCD6aSTTkonnHBC0Y4//viiVX6PdtxxxxXL7rzzzmKsEAAAwLpouRD03HPPpYceeiidccYZ6bTTTivaqaeeWtNi2SmnnFL8fNdddwlBAADAOjMmCAAAyIoQBAAAZKVfhKDoIlf5TtDq1avLSwEAAHqv5UNQzPx2++23p0suuSRdd9116YEHHiivAQAA6L2WDkFR9Zk5c2aaO3duuvvuu9N5552Xxo0bl2bNmlXeAgAAoHdaOgQtW7YsTZgwoQg9q1atSosXL05HH310GjlyZHryySd9HwgAAOi1lg5BMVX2pEmT0uzZs4txQU888UQ6//zz01ZbbVV8S8j4IAAAoLdaOgTFZAg333xzuueee4rA89hjj6Vzzz03DRs2LLW3twtBAABAr7X8xAgV0fVt4cKF6YgjjkiHHXaYAAQAAKyXfhOCHnnkkXThhRemww8/3AxxAADAeusXISgmRbj66qvT9OnTiwAU44NUggAAgPXR8iEousFdf/31xTeCYkxQjBNavnx50SIMAQAA9EbLh6AbbrghXXTRRemmm25KS5YsSfPnz0+nnnpqEYhUgwAAgN5q6RAUs8Ltt99+abvttks77rhj2nnnnYuZ4Xbffff0zDPP+E4QAADQay0dgh5//PHiG0HnnHNOMR6o0i655BIBCAAAWC/9YmIEAACAviIEAQAAWRGCAACArAhBAABAVoQgAAAgK0IQAACQFSEIAADIihAEAABkRQgCAACyIgQBAABZEYIAAICs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" width="833" height="264" class="img_ev3q"></p>
<p>正常に生成されました。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="最後に">最後に<a href="#最後に" class="hash-link" aria-label="最後に への直接リンク" title="最後に への直接リンク">​</a></h2>
<p>Git, GitHub, GitLab, GitBook は最近触り始めたばかりですが色々出来て面白いです。今回は Jekyll の影響が大きく Git でプッシュするとコンテンツが出来上がるというのは大変楽ですし、プログラマに優しい感じがします。とはいっても、ここまで来るのに苦労したのでなんとも言えませんが。
Gitbook にはまだ設定できるところもあるようですし、スタイルにはこだわる方なので、もう少し手を付け加えたいところですね。PDF はもっと体裁を整えて社外にも出せるぐらいの完成度を目指したいです。HTML の方は css いじりたいですね。
今回の内容については所々ツッコミたいところもあるかもしれませんが、参考になれば幸いです。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>タグ:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/gitbook">gitbook</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Gitbook は Markdown 形式で書かれた文書から HTML や PDF, EPUB, MOBI 形式の作成が行えるツールです。"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2016/07/08/gitbook_with_mathjax">Windows で Gitbook + mathjax を使った文書作成</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2016-07-08T00:00:00.000Z" itemprop="datePublished">2016年7月8日</time> · <!-- -->約8分</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mebiusbox.png" alt="mebiusbox" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">mebiusbox</span></a></div><small class="avatar__subtitle" itemprop="description">enginner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Gitbook は Markdown 形式で書かれた文書から HTML や PDF, EPUB, MOBI 形式の作成が行えるツールです。
ここでは　Windows で環境を構築する方法を解説します。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="nodejs-のインストール">Node.js のインストール<a href="#nodejs-のインストール" class="hash-link" aria-label="Node.js のインストール への直接リンク" title="Node.js のインストール への直接リンク">​</a></h2>
<p>まず、Node.js が必要です。以下のサイトから LTS 版をダウンロードします。</p>
<i class="fa fa-external-link"></i>
<p><a href="https://nodejs.org/" target="_blank" rel="noopener noreferrer">Node.js</a></p>
<p>ダウンロードしたファイルを実行してインストールします。
インストール先はデフォルトのままで構いません。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gitbook-cli-のインストール">gitbook-cli のインストール<a href="#gitbook-cli-のインストール" class="hash-link" aria-label="gitbook-cli のインストール への直接リンク" title="gitbook-cli のインストール への直接リンク">​</a></h2>
<p>gitbook をコマンドで実行するために <code>gitbook-cli</code> をインストー ルします。
コマンドプロンプトを開いて以下のコマンドを実行します。</p>
<p>npm install -g gitbook-cli</p>
<p>gitbook-cli 自体は　gitbook を含んでいません。
gitbook の機能を使うときに自動でインストールされます。そこで適当なサブコマンドを実行してインストールします。</p>
<p>gitbook help</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="テストしてみる">テストしてみる<a href="#テストしてみる" class="hash-link" aria-label="テストしてみる への直接リンク" title="テストしてみる への直接リンク">​</a></h2>
<p>サンプルとして以下の文書をビルドしてみます。</p>
<i class="fa fa-external-link"></i>
<p><a href="https://github.com/GitbookIO/javascript" target="_blank" rel="noopener noreferrer">Learn Javascript</a></p>
<p>適当なフォルダを作成します。
git が使えるなら clone します。</p>
<p>git clone <a href="https://github.com/GitbookIO/javascript" target="_blank" rel="noopener noreferrer">https://github.com/GitbookIO/javascript</a></p>
<p>git が使えない場合はリンク先から <code>Clone or download &gt; Download Zip</code> でダウンロードします。</p>
<p>パスを javascript に設定して以下のコマンドを実行します。</p>
<p>gitbook serve</p>
<p>ビルドが開始され <code>Serving book on http://localhost:4000</code> と出たら成功です。
ブラウザで <code>http://localhost:4000</code> を開いて確認してみます。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mathjax-を使う">Mathjax を使う<a href="#mathjax-を使う" class="hash-link" aria-label="Mathjax を使う への直接リンク" title="Mathjax を使う への直接リンク">​</a></h2>
<p>gitbook のプラグインとして　mathjax が使用できます。
新規にフォルダを作成して新しい文書を作成しましょう。
適当なフォルダを作成してパスを通し、以下のコマンドを 実行します。</p>
<p>gitbook init</p>
<p>実行するといくつかのファイルが生成されます。そのまま <code>gitbook serve</code> を実行して動作確認しておきます。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="プラグインの追加">プラグインの追加<a href="#プラグインの追加" class="hash-link" aria-label="プラグインの追加 への直接リンク" title="プラグインの追加 への直接リンク">​</a></h2>
<p><code>book.json</code> にプラグインを記述することができます。
gitbook init では作成されませんので、新規に作成します。
プラグインの指定は <code>plugins</code> で行います。
mathjax を使う場合は以下のようになります。</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	&quot;plugins&quot;:[&quot;mathjax&quot;]</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="visualstudio-2015-のインストール">VisualStudio 2015 のインストール<a href="#visualstudio-2015-のインストール" class="hash-link" aria-label="VisualStudio 2015 のインストール への直接リンク" title="VisualStudio 2015 のインストール への直接リンク">​</a></h2>
<p>mathjax を使うためにはビルド環境が必要です。
VisualStudio の最新版である 2015 を入れます。</p>
<i class="fa fa-external-link"></i>
<p><a href="https://www.microsoft.com/ja-jp/dev/products/visual-studio-2015.aspx" target="_blank" rel="noopener noreferrer">VisualStudio 2015</a></p>
<p>上記のサイトから Community 版をダウンロードしてインストールします。
デフォルトのままでは必要なファイルがインストールされませんので、カスタムインストールします。</p>
<p>インストールの種類を選択するときに <code>カスタム</code> を選択します。
<code>プログラミング言語 &gt; Visual C++ &gt; Visual C++ 2015 用の共通ツール</code> にチェックを入れます。
それ以外はチェックをはずしても問題ありません。
インストール先はデフォルトのままで構いません。
インストールには時間がかかりますので、待ちましょう。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="python-27x-のインストール">python 2.7.x のインストール<a href="#python-27x-のインストール" class="hash-link" aria-label="python 2.7.x のインストール への直接リンク" title="python 2.7.x のインストール への直接リンク">​</a></h2>
<p>次に python が必要になります。python には 2.x 系と 3.x 系がありますが 2.x 系をインストールします。
以下のサイトから 2.7.x 系の最新版をダウンロードしてインストールします。</p>
<i class="fa fa-external-link"></i>
<p><a href="http://www.python.jp/" target="_blank" rel="noopener noreferrer">python</a></p>
<p>インストール先はデフォルトのままで構いません。
コマンドから python を実行するために環境変数にパスを登録する必要があります。
インストーラを使ってインストールする場合は <code>Add python.exe to Path</code> を有効にしておきます。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mathjax-をインストールする">mathjax をインストールする<a href="#mathjax-をインストールする" class="hash-link" aria-label="mathjax をインストールする への直接リンク" title="mathjax をインストールする への直接リンク">​</a></h2>
<p>これで準備が整ったので mathjax をインストールします。
book.json に書かれたプラグインをインストールする場合は以下のコマンドを実行します。</p>
<p>gitbook install</p>
<p><code>info: &gt;&gt; plugin &quot;mathjax&quot; installed with success</code> と表示されればインストール成功です。
もし次のようなエラーが出た場合：</p>
<p>C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v12.0\CodeAnalysis\Microsoft.CodeAnalysis.targets(214,5): error	MSB4175: タスク ファクトリ &quot;CodeTaskFactory&quot; を
アセンブリ &quot;:\Program Files (x86)\MSBuild\v12.0\bin\Microsoft.Build.Tasks.v12.0.dll&quot; から読み込めませんでした。
プロセスを開始するのに使用される環境ブロックの長さは、65,535 バイトを超えて指定することはできません。
ユーザーの環境ブロックの長さは 1860986 バイトです。環境変数のいくつかを削除して、もう一度実行してください。
&quot;c:\book\node_modules\contextity\build\contextify.vcxproj&quot;
...
Error: contextify@0.1.15 install: <code>node-gyp rebuild</code>
Exit status 1</p>
<p>問題となっている contextify を直接インストールします。
以下のコマンドを実行します。</p>
<p>npm install contextify</p>
<p>問題なくインストールされたら再度プラグインのインストールを試みます。</p>
<p>gitbook install</p>
<p><code>info: &gt;&gt; plugin &quot;mathjax&quot; installed with success</code> と表示されればインストール成功です。
あとは文書をビルドして確認してみます。</p>
<p>gitbook serve</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pdf-epub-mobi-形式の作成">PDF, epub, mobi 形式の作成<a href="#pdf-epub-mobi-形式の作成" class="hash-link" aria-label="PDF, epub, mobi 形式の作成 への直接リンク" title="PDF, epub, mobi 形式の作成 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="svgexport">svgexport<a href="#svgexport" class="hash-link" aria-label="svgexport への直接リンク" title="svgexport への直接リンク">​</a></h3>
<p>PDF などで数式を文書に含めるには <code>SVGexport</code> が必要です。
以下のコマンドを実行してインストールします。</p>
<p>npm install -g svgexport</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ebook-convert">ebook-convert<a href="#ebook-convert" class="hash-link" aria-label="ebook-convert への直接リンク" title="ebook-convert への直接リンク">​</a></h3>
<p>PDF などの文書を作成するには <code>ebook-convert</code> が必要です。
以下のサイトから <code>calibre</code> をダウンロードしてインストールします。</p>
<i class="fa fa-external-link"></i>
<p><a href="https://calibre-ebook.com/" target="_blank" rel="noopener noreferrer">calibre</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pdf-epub-mobi-形式の作成-1">pdf, epub, mobi 形式の作成<a href="#pdf-epub-mobi-形式の作成-1" class="hash-link" aria-label="pdf, epub, mobi 形式の作成 への直接リンク" title="pdf, epub, mobi 形式の作成 への直接リンク">​</a></h3>
<p>それぞれ次のコマンドで作成することができます。</p>
<p>gitbook pdf
gitbook epub
gitbook mobi</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="プラグインのオプション指定">プラグインのオプション指定<a href="#プラグインのオプション指定" class="hash-link" aria-label="プラグインのオプション指定 への直接リンク" title="プラグインのオプション指定 への直接リンク">​</a></h2>
<p>gitbook のプラグインのオプションは <code>book.json</code> で指定できます。
例えば mathjax のオプションを指定する場合は次のようになります。</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">&quot;plugins&quot;:[&quot;mathjax&quot;],</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">&quot;pluginsConfig&quot;:{</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	&quot;mathjax&quot;:{</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">		&quot;forceSVG&quot;:true</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="最後に">最後に...<a href="#最後に" class="hash-link" aria-label="最後に... への直接リンク" title="最後に... への直接リンク">​</a></h2>
<p>残念ながら Windows で mathjax を使った pdf を作成すると数式の解像度がひどいことになっており、使えません。
HTML 形式では問題ないので、html でデプロイする場合には問題ないと思います。
CentOS7 で pdf 出力した場合はぎりぎり許容できそうなレベルではありますが、それでもイマイチな出来です。
そのあたり改善されるか、または調整できるのであれば大変便利ですね。
また、<a href="https://www.gitbook.com/" target="_blank" rel="noopener noreferrer">gitbook</a> でビルドすると綺麗ですので、こちらを使うのもありです。
専用のエディタもあるので、なかなか便利です。
Windowsでは数式を使わなければ問題ないので、文書作成環境として問題ないと思います。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>タグ:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/gitbook">gitbook</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Blender で複数のビルをパーティクルを使って格子状に配置する方法です。"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2016/07/02/blender-building">Blender：パーティクルを使ったビルの配置</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2016-07-02T00:00:00.000Z" itemprop="datePublished">2016年7  月2日</time> · <!-- -->約3分</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mebiusbox.png" alt="mebiusbox" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">mebiusbox</span></a></div><small class="avatar__subtitle" itemprop="description">enginner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Blender で複数のビルをパーティクルを使って格子状に配置する方法です。</p>
<p>まず、ビルを用意します。今回はキューブを３つ作りました。
スケールとZ軸の位置はフリーズしておきます。</p>
<p><img loading="lazy" alt="001" src="/assets/images/2016-07-02-blender-building-001-aa58b06728c4a630bc9d4903f341238c.png" width="595" height="517" class="img_ev3q"></p>
<p>各ビルのパラメータは次のようになっています。</p>
<p><img loading="lazy" alt="building2" src="/assets/images/2016-07-02-blender-building-building2-a2ec4b2400bfcab59d048d0f2a913c59.png" width="158" height="382" class="img_ev3q">
<img loading="lazy" alt="building1" src="/assets/images/2016-07-02-blender-building-building1-3db39b8618f85d5cb33cd0f04c2beb0d.png" width="158" height="385" class="img_ev3q">
<img loading="lazy" alt="building3" src="/assets/images/2016-07-02-blender-building-building3-025e7b87425cdb1d0eeb0b14a06c97dc.png" width="158" height="382" class="img_ev3q"></p>
<p>作成したビルはグループ化し、名前は <code>Buildings</code> にします。</p>
<p><img loading="lazy" alt="002" src="data:image/png;base64,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" width="172" height="94" class="img_ev3q"></p>
<p>次にパーティクルを生成して配置していきます。
別レイヤーにすると作業しやすいので、別のレイヤーにして Plane を作成します。スケールは 8 にしました。</p>
<p><img loading="lazy" alt="003" src="/assets/images/2016-07-02-blender-building-003-500482574e2ba26bfb8844e1adaf6179.png" width="799" height="680" class="img_ev3q"></p>
<p>Edit Mode にして <code>Subdivide</code> を何回か実行します。</p>
<p><img loading="lazy" alt="004" src="/assets/images/2016-07-02-blender-building-004-23a2fb97ab2e38085d9bceacd49539dc.png" width="764" height="661" class="img_ev3q"></p>
<p>Object Mode に戻してパーティクルを作成します。</p>
<p><img loading="lazy" alt="005" src="/assets/images/2016-07-02-blender-building-005-55ed2d2c203e40ab7f2d7dd91b824873.png" width="290" height="160" class="img_ev3q"></p>
<p>Type を <code>Hair</code> にして、<code>Advanced</code> のチェックをつけます。</p>
<p><img loading="lazy" alt="006" src="/assets/images/2016-07-02-blender-building-006-c044f41a7fbb2b8d194bf5593e450d39.png" width="287" height="209" class="img_ev3q"></p>
<p><img loading="lazy" alt="007" src="/assets/images/2016-07-02-blender-building-007-96a85e53a6a54fca83f19d9ca0414897.png" width="416" height="376" class="img_ev3q"></p>
<p>Render の <code>Group</code> を選択します。</p>
<p><img loading="lazy" alt="008" src="/assets/images/2016-07-02-blender-building-008-a477e83f402773fc599b0d2c7f3d4b52.png" width="288" height="165" class="img_ev3q"></p>
<p><img loading="lazy" alt="008-2" src="/assets/images/2016-07-02-blender-building-008_2-5661c7b3bf875840fc7bc19ad9c33f67.png" width="457" height="396" class="img_ev3q"></p>
<p>Render の <code>Dupli Group</code> で <code>Buildings</code> を選択します。</p>
<p><img loading="lazy" alt="009" src="/assets/images/2016-07-02-blender-building-009-cb13ab9aa610e66755c360133c5b9d84.png" width="414" height="348" class="img_ev3q"></p>
<p>回転が正しくないので、調整します。
Rotation の項目にチェックをつけて、<code>Initial Orientation</code> を <code>Object Y</code> にします。</p>
<p><img loading="lazy" alt="010" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASUAAAB+CAYAAABiWQf3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAACIBSURBVHhe7Z0LtFVVucdVVBQjUUikREWQh6A8jIQDEYGgYIQhoOILtbBQkTLLVBQQxDdoPlHB1HgIgoDXByCW3sEt7XZH2WOMnrdbeUsrrXFrZGPUvPs37/1235nMs/daa+99ztr7fGeM31hrzTnXnHOf9a3//OZca82510c/+lH3uc99rsinPvUpt9dee7kbb7yxWXiMyy67zH34wx92V1xxRSY+/elPuwsvvNDnE4v/5Cc/6ebOnev3582b5zp06LBHmosvvtjNmTOnWRhpL7roouK5rcHmzZsrZsOGDe6BBx7w21i8UCpd1rikcL1nz57trrrqqqhNhIiNxPKqhE2bNrmVK1e6NWvWRONjrF271q1atWqP8I0bN7qHH37Y5xnG5Ymk169UuqxxaUhjI+jPfffd5+655x531113uTvvvNNVJEpXX321O+uss9y4ceO8ENQKBKZ3797umGOOicbngaeffrrh4TrPmjXLXXvttVF7iKFtJJan0ViktZGqixJcf/317owzzvDqSGUuv/zyqnPJJZe46dOnu0svvTQanwe2bNnSsCxfvrx4fefPnx+1g1JoGyGvWBlGfZPVRmoiSrBo0SLfhSEvlPITn/hEsVvWXti6dWvdsm3btiIStnr1am9op556qps4caK3C8QlabctJLQRjh999NFm9TDyS61spGaiBLjpS5cu9eNAtIrkO3LkSKNO4fpNnjzZ28OXvvSlVF22ljAbaSyqYSPkUTNREqgYrSDGt2zZMqNO4fphA1zPrN5RS5iNNAbVsJFWESXDMIykmCgZhpErTJQMw8gVJkqGYeQKEyXDMHKFiZJhGLmiYlGKvatgGIaRhFBPoGJRuvfeew3DMDIR6glULEqGYRjVxETJMIxcYaJkGEauMFEyDCNX5FKU+GJ89OjRbvDgwW7AgAEtQhpmB9y1a1c0H8Mw6o/ciRKChBj16tXLDRkyxJ100kkt8pnPfMbP5fL1r389l14c/zfmC4rFGYYRp+aihMiUIkyP98M0t01NTSVhrham2ly/fr37+Mc/vkc+moEDB7ojjjjC9ezZ0/Xt29eNHz8+8Ux4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" width="293" height="126" class="img_ev3q"></p>
<p><img loading="lazy" alt="011" src="/assets/images/2016-07-02-blender-building-011-f27d623a8ba77f5296b8e99e58fdd8b6.png" width="387" height="350" class="img_ev3q"></p>
<p>この状態だと面の法線上にランダムで作成しているので他のビルと重なってしまいます。
そこで生成する場所を頂点に変更します。</p>
<p>Emission の <code>Emit From</code> を <code>Verts</code> に変更します。</p>
<p><img loading="lazy" alt="012" src="data:image/png;base64,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" width="290" height="124" class="img_ev3q"></p>
<p><img loading="lazy" alt="013" src="/assets/images/2016-07-02-blender-building-013-90290039215d9e0b779fb6615f49812f.png" width="398" height="358" class="img_ev3q"></p>
<p>Top から正投影（ワイヤーフレーム）で見てみると次のようになっています。</p>
<p><img loading="lazy" alt="014" src="/assets/images/2016-07-02-blender-building-014-974700a17f692a053ff1fb2138ed8401.png" width="412" height="406" class="img_ev3q"></p>
<p>Emission の Numbers を編集してみると生成されるビルの数を調整することができます。
<code>Emit From</code> の <code>Random</code> のチェックをつけていると同じ場所にビルが重なって生成されてしまうのでチェックをはずします。
頂点の数が 1089 なら、Numbers が 1090 だとすべての頂点の位置に生成されます。</p>
<p><img loading="lazy" alt="015" src="/assets/images/2016-07-02-blender-building-015-8bbc32f9a9e7482bff52fe2b2446ccad.png" width="990" height="876" class="img_ev3q"></p>
<p>Plane の頂点上に配置しているので、頂点を削除すればその上に配置されなくなります。
適当な頂点を消してみます。</p>
<p><img loading="lazy" alt="016" src="/assets/images/2016-07-02-blender-building-016-289ba2a44d71081c1ada0f24c63405da.png" width="424" height="420" class="img_ev3q"></p>
<p>Edit Mode では反映されないので、Object Mode にして確認すると、削除した部分にビルが配置されなくなっています。</p>
<p><img loading="lazy" alt="017" src="/assets/images/2016-07-02-blender-building-017-39c4b6ac43274dacbe1ec0e72a462c67.png" width="412" height="412" class="img_ev3q"></p>
<p><img loading="lazy" alt="018" src="/assets/images/2016-07-02-blender-building-018-d9ccd573ce16dbac90ca681de71f23bc.png" width="632" height="317" class="img_ev3q"></p>
<p>これを使って通路を確保してみます。</p>
<p><img loading="lazy" alt="019" src="/assets/images/2016-07-02-blender-building-019-71d96b17c6bd8b51670a5a250eb64f36.png" width="417" height="410" class="img_ev3q"></p>
<p><img loading="lazy" alt="020" src="/assets/images/2016-07-02-blender-building-020-f3f21364a5f34c03288dc7d51eb7fe6e.png" width="584" height="348" class="img_ev3q"></p>
<p>この方法なら大量の配置も、新しいビルの追加も簡単です。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>タグ:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/blender">blender</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="rar形式のファイルをzip形式に一括変換するバッチファイルです。"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2016/06/28/rar2zip">rar形式からzip形式に一括変換するバッチファイル</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2016-06-28T00:00:00.000Z" itemprop="datePublished">2016年6月28日</time> · <!-- -->約2分</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mebiusbox.png" alt="mebiusbox" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">mebiusbox</span></a></div><small class="avatar__subtitle" itemprop="description">enginner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>rar形式のファイルをzip形式に一括変換するバッチファイルです。
実行するに  は WinRAR が必要です。</p>
<p><a href="http://www.winrarjapan.com/" target="_blank" rel="noopener noreferrer">WinRAR</a></p>
<p>64bit版をデフォルトの場所にインストールされていることを想定しています。</p>
<div class="language-bat codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bat codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">@if (1==1) /*</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">@echo off</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">cscript //nologo //E:JScript &quot;%~f0&quot; &quot;%~f0&quot; %*</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">pause</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">GOTO :EOF</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">rem */</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">@end</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">// javascript code here.</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">WScript.quit(main(WScript.arguments.length, WScript.arguments));</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">// argc : argv の長さ</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">// argv : 個数は argv.Count、参照は argv(index)</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">function main(argc, argv) {</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	WScript.echo(argc);</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	for (i=0; i&lt;argc; ++i) {</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">		WScript.echo(argv(i));</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	var sh  = WScript.CreateObject(&quot;WScript.Shell&quot;);</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	var fso = new ActiveXObject(&quot;Scripting.FileSystemObject&quot;);</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	var dirname = fso.GetParentFolderName(argv(0));</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	var files = fso.GetFolder(dirname).Files;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	var e = new Enumerator(files);</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	for (; !e.atEnd(); e.moveNext()) {</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">		var file = e.item();</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">		if (fso.GetExtensionName(file.Name) == &quot;rar&quot;) {</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">			if (fso.FolderExists(dirname + &quot;\\&quot; + fso.GetBaseName(file.Name)) == false) {</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">				fso.CreateFolder(dirname + &quot;\\&quot; + fso.GetBaseName(file.Name));</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">			}</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">			var cmd = &quot;\&quot;C:\\Program Files\\WinRAR\\rar\&quot;&quot;;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">			cmd += &quot; x -inul&quot;;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">			cmd += &quot; \&quot;&quot; + file.Name + &quot;\&quot;&quot;;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">			cmd += &quot; \&quot;&quot; + dirname + &quot;\\&quot; + fso.GetBaseName(file.Name) + &quot;\&quot;&quot;;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">			WScript.echo(cmd);</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">			sh.Run(cmd, 0, 1);</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">			cmd = &quot;\&quot;C:\\Program Files\\WinRAR\\winrar\&quot;&quot;;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">			cmd += &quot; a -afzip -r -ep1 -m0&quot;;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">			cmd += &quot; \&quot;&quot; + fso.GetBaseName(file.Name) + &quot;.zip\&quot;&quot;;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">			cmd += &quot; \&quot;&quot; + fso.GetBaseName(file.Name) + &quot;\\*\&quot;&quot;;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">			WScript.echo(cmd);</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">			sh.Run(cmd, 0, 1);</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">			fso.DeleteFolder(dirname + &quot;\\&quot; + fso.GetBaseName(file.Name));</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">//			fso.DeleteFile(file.Name);</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">//			WScript.echo(file.Name);</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>使い方は変換したいファイルがあるフォルダにこのバッチファイルを入れて実行します。
時々変換に失敗することがあるので、元ファイルは消さないようになっています。
手動で消すか、<code>fso.DeleteFile(file.Name);</code> を有効にすれば変換したときに消します。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>タグ:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/バッチ">バッチ</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Eclipse で新規にファイルを作成すると Workspace に設定されたエンコードで保存されます。"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2016/06/27/eclipse-add-bom">Eclipse：新規ファイルにBOM(UTF-8)をつける</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2016-06-27T00:00:00.000Z" itemprop="datePublished">2016年6月27日</time> · <!-- -->約2分</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mebiusbox.png" alt="mebiusbox" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">mebiusbox</span></a></div><small class="avatar__subtitle" itemprop="description">enginner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Eclipse で新規にファイルを作成すると Workspace に設定されたエンコードで保存されます。
文字エンコーディングを UTF-8 に設定した場合、新規にファイルを作成しても BOM は付きません。
そこで、BOM を付加するスクリプトを書きました。Ruby 版と Python 版があります。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="addbomrb">AddBom.rb<a href="#addbomrb" class="hash-link" aria-label="AddBom.rb への直接リンク" title="AddBom.rb への直接リンク">​</a></h2>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">#! /usr/bin/env ruby</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">path = ARGV[0]</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">puts &quot;Add BOM to #{path}&quot;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">src = File.read(path)</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">bom = &quot;\xEF\xBB\xBF&quot;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">if src.index(bom) == 0</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	raise &quot;BOM already exists&quot;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">File.open(path, &quot;w&quot;) do |io|</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	io &lt;&lt; bom</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">	io &lt;&lt; src</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="addbompy">AddBom.py<a href="#addbompy" class="hash-link" aria-label="AddBom.py への直接リンク" title="AddBom.py への直接リンク">​</a></h2>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#8292a2;font-style:italic"># -*- coding:utf-8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">import</span><span class="token plain"> sys</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">def</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">main</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    f </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">open</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> mode</span><span class="token operator" style="color:#66d9ef">=</span><span class="token string" style="color:#a6e22e">&#x27;rb&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    data </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> f</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    f</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    utf8bom </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;\xef\xbb\xbf&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">len</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">3</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> data</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token number" style="color:#ae81ff">0</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token number" style="color:#ae81ff">3</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">==</span><span class="token plain"> utf8bom</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token keyword" style="color:#66d9ef">print</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;BOM already exists &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">+</span><span class="token plain"> path</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token keyword" style="color:#66d9ef">return</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    f </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">open</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> mode</span><span class="token operator" style="color:#66d9ef">=</span><span class="token string" style="color:#a6e22e">&quot;wb&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    f</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">utf8bom</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    f</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    f</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">print</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;Add BOM to &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">+</span><span class="token plain"> path</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">return</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#66d9ef">==</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">len</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">sys</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">argv</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">2</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">         </span><span class="token keyword" style="color:#66d9ef">print</span><span class="token plain"> sys</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">argv</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">         </span><span class="token keyword" style="color:#66d9ef">print</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;addbom &lt;path&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">         sys</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">exit</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token number" style="color:#ae81ff">0</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">else</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        sys</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">exit</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">main</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">sys</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">argv</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token number" style="color:#ae81ff">1</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="eclipse-に外部ツールとして登録する">eclipse に外部ツールとして登録する<a href="#eclipse-に外部ツールとして登録する" class="hash-link" aria-label="eclipse に外部ツールとして登録する への直接リンク" title="eclipse に外部ツールとして登録する への直接リンク">​</a></h2>
<p>メニューバーから <code>Run &gt; External Tools &gt; External Tools Configurations...</code> を選択します。
新規作成し、AddBom.rb もしくは AddBom.py を登録します。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addbomrb-の場合">AddBom.rb の場 合<a href="#addbomrb-の場合" class="hash-link" aria-label="AddBom.rb の場合 への直接リンク" title="AddBom.rb の場合 への直接リンク">​</a></h3>
<table><thead><tr><th>項目</th><th>設定</th></tr></thead><tbody><tr><td>Name</td><td>AddBom</td></tr><tr><td>Location</td><td>ruby.exe のパス</td></tr><tr><td>Arguments</td><td><code>&lt;AddBom.rbのパス\&gt; ${resource_loc}</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addbompy-の場合">AddBom.py の場合<a href="#addbompy-の場合" class="hash-link" aria-label="AddBom.py の場合 への直接リンク" title="AddBom.py の場合 への直接リンク">​</a></h3>
<table><thead><tr><th>項目</th><th>設定</th></tr></thead><tbody><tr><td>Name</td><td>AddBom</td></tr><tr><td>Location</td><td>python.exe のパス</td></tr><tr><td>Arguments</td><td><code>&lt;AddBom.pyのパス\&gt; ${resource_loc}</code></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="使い方">使い方<a href="#使い方" class="hash-link" aria-label="使い方 への直接リンク" title="使い方 への直接リンク">​</a></h2>
<p>新規ファイルを作成し、そのファイルを開いた状態で AddBom を実行します。
BOM がなければ追加され、すでに追加されていれば何もしません。
また、空ファイルでなくても問題なく動作します。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>タグ:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/eclipse">eclipse</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="ブログ記事一覧のナビゲーション"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/page/5"><div class="pagination-nav__label">新しい記事</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/page/7"><div class="pagination-nav__label">過去の記事</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Contents</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/lab">Lab</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/note">Note</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/software">Software</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://mebiusbox.booth.pm/" target="_blank" rel="noopener noreferrer" class="footer__link-item">BOOTH<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/mebiusbox2" target="_blank" rel="noopener noreferrer" class="footer__link-item">X (Twitter)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/mebiusbox" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/privacy">Privacy Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 mebiusbox software.</div></div></div></footer></div>
</body>
</html>