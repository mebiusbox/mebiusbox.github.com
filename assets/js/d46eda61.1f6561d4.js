"use strict";(self.webpackChunkmebiusbox_docusaurus=self.webpackChunkmebiusbox_docusaurus||[]).push([[2350],{3905:(n,e,t)=>{t.d(e,{Zo:()=>c,kt:()=>_});var l=t(67294);function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);e&&(l=l.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,l)}return t}function r(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){i(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function p(n,e){if(null==n)return{};var t,l,i=function(n,e){if(null==n)return{};var t,l,i={},a=Object.keys(n);for(l=0;l<a.length;l++)t=a[l],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(l=0;l<a.length;l++)t=a[l],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var f=l.createContext({}),$=function(n){var e=l.useContext(f),t=e;return n&&(t="function"==typeof n?n(e):r(r({},e),n)),t},c=function(n){var e=$(n.components);return l.createElement(f.Provider,{value:e},n.children)},o="mdxType",u={inlineCode:"code",wrapper:function(n){var e=n.children;return l.createElement(l.Fragment,{},e)}},s=l.forwardRef((function(n,e){var t=n.components,i=n.mdxType,a=n.originalType,f=n.parentName,c=p(n,["components","mdxType","originalType","parentName"]),o=$(t),s=i,_=o["".concat(f,".").concat(s)]||o[s]||u[s]||a;return t?l.createElement(_,r(r({ref:e},c),{},{components:t})):l.createElement(_,r({ref:e},c))}));function _(n,e){var t=arguments,i=e&&e.mdxType;if("string"==typeof n||i){var a=t.length,r=new Array(a);r[0]=s;var p={};for(var f in e)hasOwnProperty.call(e,f)&&(p[f]=e[f]);p.originalType=n,p[o]="string"==typeof n?n:i,r[1]=p;for(var $=2;$<a;$++)r[$]=t[$];return l.createElement.apply(null,r)}return l.createElement.apply(null,t)}s.displayName="MDXCreateElement"},31813:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>f,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>p,toc:()=>$});var l=t(87462),i=(t(67294),t(3905));const a={title:"3\u6b21\u5143\u5ea7\u6a19\u5909\u63db\u306e\u30e1\u30e2\u66f8\u304d",description:"3\u6b21\u5143\u5ea7\u6a19\u5909\u63db\u306b\u3064\u3044\u3066\u89e3\u8aac\u3057\u307e\u3059",keywords:["3\u6b21\u5143\u5ea7\u6a19\u5909\u63db","Three.js"],pagination_next:null,pagination_prev:null,image:"https://og-image-mebiusbox.vercel.app/api/og?title=3%E6%AC%A1%E5%85%83%E5%BA%A7%E6%A8%99%E5%A4%89%E6%8F%9B%E3%81%AE%E3%83%A1%E3%83%A2%E6%9B%B8%E3%81%8D&subtitle=3%E6%AC%A1%E5%85%83%E5%BA%A7%E6%A8%99%E5%A4%89%E6%8F%9B%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E8%A7%A3%E8%AA%AC%E3%81%97%E3%81%BE%E3%81%99&date=2023%2F01%2F14",last_update:{date:new Date("2023-01-14T00:00:00.000Z"),author:"mebiusbox"}},r="3\u6b21\u5143\u5ea7\u6a19\u5909\u63db\u306e\u30e1\u30e2\u66f8\u304d",p={unversionedId:"note/math-3dtransformation",id:"note/math-3dtransformation",title:"3\u6b21\u5143\u5ea7\u6a19\u5909\u63db\u306e\u30e1\u30e2\u66f8\u304d",description:"3\u6b21\u5143\u5ea7\u6a19\u5909\u63db\u306b\u3064\u3044\u3066\u89e3\u8aac\u3057\u307e\u3059",source:"@site/docs/note/math-3dtransformation.md",sourceDirName:"note",slug:"/note/math-3dtransformation",permalink:"/docs/note/math-3dtransformation",draft:!1,tags:[],version:"current",frontMatter:{title:"3\u6b21\u5143\u5ea7\u6a19\u5909\u63db\u306e\u30e1\u30e2\u66f8\u304d",description:"3\u6b21\u5143\u5ea7\u6a19\u5909\u63db\u306b\u3064\u3044\u3066\u89e3\u8aac\u3057\u307e\u3059",keywords:["3\u6b21\u5143\u5ea7\u6a19\u5909\u63db","Three.js"],pagination_next:null,pagination_prev:null,image:"https://og-image-mebiusbox.vercel.app/api/og?title=3%E6%AC%A1%E5%85%83%E5%BA%A7%E6%A8%99%E5%A4%89%E6%8F%9B%E3%81%AE%E3%83%A1%E3%83%A2%E6%9B%B8%E3%81%8D&subtitle=3%E6%AC%A1%E5%85%83%E5%BA%A7%E6%A8%99%E5%A4%89%E6%8F%9B%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E8%A7%A3%E8%AA%AC%E3%81%97%E3%81%BE%E3%81%99&date=2023%2F01%2F14",last_update:{date:"2023-01-14T00:00:00.000Z",author:"mebiusbox"}},sidebar:"main"},f={},$=[{value:"\u306f\u3058\u3081\u306b",id:"\u306f\u3058\u3081\u306b",level:2},{value:"\u57fa\u672c\u7684\u306a\u5ea7\u6a19\u5909\u63db",id:"\u57fa\u672c\u7684\u306a\u5ea7\u6a19\u5909\u63db",level:2},{value:"\u5ea7\u6a19\u7cfb\uff08coordinate system\uff09",id:"\u5ea7\u6a19\u7cfbcoordinate-system",level:3},{value:"\u30d9\u30af\u30c8\u30eb\uff08vector\uff09",id:"\u30d9\u30af\u30c8\u30ebvector",level:3},{value:"\u57fa\u5e95\uff08basis\uff09",id:"\u57fa\u5e95basis",level:3},{value:"\u57fa\u5e95\u5909\u63db\uff08basis transformation\uff09",id:"\u57fa\u5e95\u5909\u63dbbasis-transformation",level:3},{value:"\u525b\u4f53\u5909\u63db\uff08rigid-body transformation\uff09",id:"\u525b\u4f53\u5909\u63dbrigid-body-transformation",level:3},{value:"\u30a2\u30d5\u30a3\u30f3\u5909\u63db\uff08affine transformation\uff09",id:"\u30a2\u30d5\u30a3\u30f3\u5909\u63dbaffine-transformation",level:3},{value:"\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3",id:"\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3",level:2},{value:"\u30e2\u30c7\u30eb\u5909\u63db\uff08modeling transformation\uff09",id:"\u30e2\u30c7\u30eb\u5909\u63dbmodeling-transformation",level:3},{value:"\u30d3\u30e5\u30fc\u5909\u63db\uff08viewing transformation\uff09",id:"\u30d3\u30e5\u30fc\u5909\u63dbviewing-transformation",level:3},{value:"LookAt\u65b9\u5f0f",id:"lookat\u65b9\u5f0f",level:6},{value:"\u4f4d\u7f6e\u3068\u56de\u8ee2\u3092\u6307\u5b9a\u3059\u308b\u65b9\u5f0f",id:"\u4f4d\u7f6e\u3068\u56de\u8ee2\u3092\u6307\u5b9a\u3059\u308b\u65b9\u5f0f",level:6},{value:"\u6295\u5f71\u5909\u63db\uff08projective transformation\uff09",id:"\u6295\u5f71\u5909\u63dbprojective-transformation",level:3},{value:"\u900f\u8996\u6295\u5f71\u5909\u63db",id:"\u900f\u8996\u6295\u5f71\u5909\u63db",level:6},{value:"\u6b63\u6295\u5f71\u5909\u63db",id:"\u6b63\u6295\u5f71\u5909\u63db",level:6},{value:"OpenGL\u306e\u6295\u5f71\u95a2\u6570",id:"opengl\u306e\u6295\u5f71\u95a2\u6570",level:3},{value:"\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u5909\u63db\uff08viewport transformation\uff09",id:"\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u5909\u63dbviewport-transformation",level:3},{value:"\u4e00\u822c\u7684\u306a\u9802\u70b9\u30c7\u30fc\u30bf\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3",id:"\u4e00\u822c\u7684\u306a\u9802\u70b9\u30c7\u30fc\u30bf\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3",level:3},{value:"\u304a\u308f\u308a\u306b",id:"\u304a\u308f\u308a\u306b",level:2},{value:"\u4ed8\u9332 A\uff1aThree.js\u306e\u6df1\u5ea6\u306e\u95a2\u6570",id:"\u4ed8\u9332-athreejs\u306e\u6df1\u5ea6\u306e\u95a2\u6570",level:2},{value:"\u7dda\u5f62\uff08\u30ea\u30cb\u30a2\uff09\u6df1\u5ea6",id:"\u7dda\u5f62\u30ea\u30cb\u30a2\u6df1\u5ea6",level:3},{value:"\u53c2\u8003\u6587\u732e",id:"\u53c2\u8003\u6587\u732e",level:2}],c={toc:$},o="wrapper";function u(n){let{components:e,...t}=n;return(0,i.kt)(o,(0,l.Z)({},c,t,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"3\u6b21\u5143\u5ea7\u6a19\u5909\u63db\u306e\u30e1\u30e2\u66f8\u304d"},"3\u6b21\u5143\u5ea7\u6a19\u5909\u63db\u306e\u30e1\u30e2\u66f8\u304d"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"\u3053\u308c\u306f Zenn \u3067\u516c\u958b\u3057\u3066\u3044\u308b\u5185\u5bb9\u3068\u540c\u3058\u3067\u3059\uff0e\nDocusaurus\u306e\u6570\u5f0f\u51e6\u7406\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306e\u6587\u66f8\u3067\u3059\uff0e")),(0,i.kt)("h2",{id:"\u306f\u3058\u3081\u306b"},"\u306f\u3058\u3081\u306b"),(0,i.kt)("p",null,"\u5165\u793e\u3057\u3066\u304d\u305f\u65b0\u5165\u793e\u54e1\u304c\u671f\u5f85\u3068\u4e0d\u5b89\u3068\u3084\u308b\u6c17\u306b\u6e80\u3061\u3042\u3075\u308c\u3066\u3044\u308b\u3068\u3053\u308d\u3067\uff0c\u307e\u305a\u306f\u7814\u4fee\u304b\u3089\u59cb\u3081\u308b\u3068\u3053\u308d\u304c\u591a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\uff0e\n\u7814\u4fee\u306a\u3093\u3066\u53d7\u3051\u305f\u3053\u3068\u304c\u306a\u3044\u306e\u3067\uff0c\u304d\u3061\u3093\u3068\u57fa\u790e\u3092\u53e9\u304d\u8fbc\u3093\u3067\u304f\u308c\u308b\u3068\u3053\u308d\u3067\u7814\u4fee\u53d7\u3051\u305f\u3044\uff0e\u305d\u3046\u601d\u3046\u3053\u306e\u9803\u3067\u3059\uff0e"),(0,i.kt)("p",null,"\u4eca\u56de\u306f\uff13\u6b21\u5143\u5ea7\u6a19\u5909\u63db\u306b\u3064\u3044\u3066\uff0c\u5df7\u306b\u306f\u305d\u3046\u3044\u3063\u305f\u60c5\u5831\u306f\u6ca2\u5c71\u3042\u308b\u306e\u3067\u3059\u304c\uff0c\u81ea\u5206\u306a\u308a\u306e\u6574\u7406\u3082\u542b\u3081\u3066\u5c11\u3057\u66f8\u304f\u3053\u3068\u306b\u3057\u307e\u3057\u305f\uff0e\u65b0\u4eba\u5411\u3051\u306b\u66f8\u3044\u3066\u3044\u307e\u3059\u306e\u3067\uff0c\u6700\u521d\u306f\u57fa\u672c\u7684\u306a\u3068\u3053\u308d\u304b\u3089\u5165\u3063\u3066\u3044\u304d\u307e\u3059\uff0e"),(0,i.kt)("h2",{id:"\u57fa\u672c\u7684\u306a\u5ea7\u6a19\u5909\u63db"},"\u57fa\u672c\u7684\u306a\u5ea7\u6a19\u5909\u63db"),(0,i.kt)("h3",{id:"\u5ea7\u6a19\u7cfbcoordinate-system"},"\u5ea7\u6a19\u7cfb\uff08coordinate system\uff09"),(0,i.kt)("p",null,"\uff13\u6b21\u5143\u7a7a\u9593\u306f\u5b9f\u4e16\u754c\u3068\u540c\u3058\u3067\u3042\u308a\uff0c\u4e0a\u4e0b\u30fb\u5de6\u53f3\u30fb\u524d\u5f8c\u306e\uff13\u3064\u306e\u6b21\u5143\u3067\u3059\uff0e\u3053\u306e\u4e0a\u4e0b\u30fb\u5de6\u53f3\u30fb\u524d\u5f8c\u306f\u305d\u308c\u305e\u308c\u76f4\u4ea4\u95a2\u4fc2\u306b\u3042\u308a\u307e\u3059\uff0e\u305d\u3057\u3066\uff0c\u4f8b\u3048\u3070\u4e0a\u4e0b\u3068\u3044\u3046\u306e\u306f\uff0c\u79c1\u304b\u3089\u898b\u305f\u4e0a\u4e0b\u3068\uff0c\u3042\u306a\u305f\u304b\u3089\u898b\u305f\u4e0a\u4e0b\u306f\u5fc5\u305a\u3057\u3082\u4e00\u81f4\u3059\u308b\u3068\u306f\u9650\u308a\u307e\u305b\u3093\uff0e\u3064\u307e\u308a\uff0c\u4e0a\u4e0b\u30fb\u5de6\u53f3\u30fb\u524d\u5f8c\u3068\u3044\u3046\u306e\u306f\u3069\u3053\u304b\u57fa\u70b9\u304c\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3059\uff0e\u3053\u306e\u5834\u5408\uff0c\u79c1\u3084\u3042\u306a\u305f\u304c\u57fa\u70b9\u3067\u3042\u308a\uff0c\u5411\u3044\u3066\u3044\u308b\u65b9\u5411\u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\uff0e\u6b21\u306b\uff0c\u4f8b\u3048\u3070\u524d\u65b9\u306b\uff15\u6b69\u9032\u3080\u3068\u3057\u305f\u3089\u4eba\u306b\u3088\u3063\u3066\u9032\u3080\u8ddd\u96e2\u306b\u9055\u3044\u304c\u3042\u308a\u307e\u3059\uff0e\u3082\u3057\uff0c\u524d\u65b9\u306b\uff11\u30e1\u30fc\u30c8\u30eb\u9032\u3080\u5834\u5408\u306f\u5168\u54e1\u540c\u3058\u8ddd\u96e2\u306b\u306a\u308a\u307e\u3059\u304c\uff0c\u4eca\u5ea6\u306f\uff11\u30e1\u30fc\u30c8\u30eb\u9032\u3080\u305f\u3081\u306e\u6b69\u6570\u304c\u5909\u308f\u3063\u3066\u304d\u307e\u3059\uff0e\u3053\u306e\u3088\u3046\u306b\uff0c\u5358\u4f4d\u3082\u91cd\u8981\u306b\u306a\u3063\u3066\u304d\u307e\u3059\uff0e\u3088\u3063\u3066\uff0c\u57fa\u70b9\u3068\u5411\u304d\u3068\u5358\u4f4d\u3092\u6c7a\u3081\u308c\u3070\uff0c\u305d\u306e\uff13\u6b21\u5143\u7a7a\u9593\u3067\u306e\u5ea7\u6a19\u304c\u7279\u5b9a\u3067\u304d\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u3053\u306e\u57fa\u70b9\u3092\u539f\u70b9\uff08origin\uff09\u3068\u3057\uff0c\u5411\u304d\uff08axis\uff09\uff0c\u5358\u4f4d\uff08unit\uff09\u3092\u6c7a\u3081\u305f\u3082\u306e\u3092",(0,i.kt)("strong",{parentName:"p"},"\u5ea7\u6a19\u7cfb"),"\u3068\u3044\u3044\u307e\u3059\uff0e\u3053\u3053\u3067\u306f\u4e0a\u4e0b\u3092Y\uff0c\u5de6\u53f3\u3092X\uff0c\u524d\u5f8c\u3092Z\u3068\u3057\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\uff13\u6b21\u5143\u7a7a\u9593\u3067\u306f\u5ea7\u6a19\u7cfb\u3092\u6c7a\u3081\u308b\u3068\u304d\u306b\uff12\u3064\u306e\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\uff0e",(0,i.kt)("strong",{parentName:"p"},"\u5de6\u624b\u5ea7\u6a19\u7cfb"),"\u3068",(0,i.kt)("strong",{parentName:"p"},"\u53f3\u624b\u5ea7\u6a19\u7cfb"),"\u3067\u3059\uff0e\u5de6\u624b\u5ea7\u6a19\u7cfb\u3067\u306fZ\u65b9\u5411\u304c\u5965\u306b\u5411\u304b\u3063\u3066\u6b63\u3067\u3042\u308a\uff0cDirectX\u3084UnrealEngine\uff0cUnity\u306a\u3069\u304c\u5de6\u624b\u5ea7\u6a19\u7cfb\u3067\u3059\uff0e\u53f3\u624b\u5ea7\u6a19\u7cfb\u306fZ\u65b9\u5411\u304c\u624b\u524d\u306b\u5411\u304b\u3063\u3066\u6b63\u3067\u3042\u308a\uff0cOpenGL\u3084WebGL\u306a\u3069\u304c\u53f3\u624b\u5ea7\u6a19\u7cfb\u3067\u3059\uff0e\u5ea7\u6a19\u7cfb\u304c\u540c\u3058\u3060\u3068\u3057\u3066\u3082\uff0c\u4e0a\u4e0b\u65b9\u5411\u304cY\u3084Z\u3060\u3063\u305f\u308a\u3059\u308b\u306e\u3067\uff0c\u5ea7\u6a19\u7cfb\u3068\u8ef8\u3092\u78ba\u8a8d\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\uff0e"),(0,i.kt)("p",null,"\u3053\u3053\u3067\u306f",(0,i.kt)("strong",{parentName:"p"},"\u53f3\u624b\u5ea7\u6a19\u7cfb"),"\u3067\u8aac\u660e\u3057\u307e\u3059\uff0e"),(0,i.kt)("h3",{id:"\u30d9\u30af\u30c8\u30ebvector"},"\u30d9\u30af\u30c8\u30eb\uff08vector\uff09"),(0,i.kt)("p",null,"\u5ea7\u6a19\u7cfb\u304c\u6c7a\u307e\u308c\u3070\uff0c\u4f4d\u7f6e\u3092\u8868\u73fe\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff0e\uff13\u6b21\u5143\u7a7a\u9593\u3067\u306e\u4f4d\u7f6e\u306f\u30d9\u30af\u30c8\u30eb\u3067\u8868\u3055\u308c\u307e\u3059\uff0e\u307e\u305a\uff0c\u70b9$p$\u306e\u4f4d\u7f6e\u3092XYZ\u306e\u5404\u8ef8\u3067\u6e2c\u3063\u305f\u5024\u3092\u305d\u308c\u305e\u308cx,y,z\u3068\u3059\u308b\u3068"),(0,i.kt)("p",null,"$$\np = (x,y,z)\n$$"),(0,i.kt)("p",null,"\u3067\u4f4d\u7f6e\u3092\u8868\u73fe\u3067\u304d\u307e\u3059\uff0e\u30d9\u30af\u30c8\u30eb\u306f\u65b9\u5411\u3068\u5927\u304d\u3055\u3092\u8868\u3057\u3066\u3044\u3066\uff0c\u4f8b\u3048\u3070\u70b9$q$\u304b\u3089\u70b9$p$\u306b\u5411\u304b\u3046\u30d9\u30af\u30c8\u30eb$v$\u306f"),(0,i.kt)("p",null,"$$\nq = (0,30,0), \\quad p = (0,50,0), \\quad \\vec{v} = \\vec{qp} = (0,20,0)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u308c\u306b\u306f\u30d9\u30af\u30c8\u30eb\u306e\u59cb\u70b9\uff0c\u7d42\u70b9\u306e\u4f4d\u7f6e\uff0c\u5927\u304d\u3055\uff0c\u65b9\u5411\u304c\u3042\u308a\u307e\u3059\u306d\uff0e\u3053\u3053\u3067\uff0c\u30d9\u30af\u30c8\u30eb$\\vec{v}$\u306e\u59cb\u70b9\u3092\u539f\u70b9$O = (0,0,0)$\u3068\u3059\u308c\u3070\uff0c"),(0,i.kt)("p",null,"$$\n\\vec{OV} = \\vec{v} = (0,20,0)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u3063\u3066\uff0c\u5927\u304d\u3055\u3068\u65b9\u5411\u306e\u307f\u3092\u8868\u3059\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u3053\u306e\u3068\u304d\u306e$x,y,z$\u306e\u3053\u3068\u3092\u305d\u308c\u305e\u308cX\u6210\u5206\uff0cY\u6210\u5206\uff0cZ\u6210\u5206\u3068\u3044\u3044\uff0c\u3053\u306e\u8868\u8a18\u3092",(0,i.kt)("strong",{parentName:"p"},"\u6210\u5206\u8868\u793a"),"\u3068\u3044\u3044\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u30d9\u30af\u30c8\u30eb\u306e\u6210\u5206\u8868\u793a\u304c\u51fa\u6765\u305f\u306e\u3067\uff0c\u30d9\u30af\u30c8\u30eb\u304b\u3089\u5927\u304d\u3055\u3068\u65b9\u5411\u3092\u305d\u308c\u305e\u308c\u53d6\u308a\u51fa\u3057\u3066\u307f\u307e\u3057\u3087\u3046\uff0e\u307e\u305a\uff0c\u5927\u304d\u3055\u3067\u3059\u304c\u3053\u308c\u306f\u59cb\u70b9\u304b\u3089\u7d42\u70b9\u307e\u3067\u306e\u8ddd\u96e2\u306b\u306a\u308a\u307e\u3059\uff0e\u59cb\u70b9\u3092\u539f\u70b9\u3068\u3059\u308c\u3070\u30d4\u30bf\u30b4\u30e9\u30b9\u306e\u5b9a\u7406\u3092\u4f7f\u3063\u3066\u30d9\u30af\u30c8\u30eb\u306e\u5927\u304d\u3055$|\\vec{v}|$\u306f"),(0,i.kt)("p",null,"$$\n|\\vec{v}| = \\sqrt{x^2+y^2+z^2}\n$$"),(0,i.kt)("p",null,"\u3067\u5f97\u3089\u308c\u307e\u3059\uff0e\uff13\u6b21\u5143\u30d9\u30af\u30c8\u30eb\u304c\uff13\u3064\u306e\u5024\u3092\u6301\u3063\u3066\u3044\u308b\u3053\u3068\u306b\u5bfe\u3057\u3066\uff0c\u30d9\u30af\u30c8\u30eb\u306e\u5927\u304d\u3055\u306f\uff11\u3064\u306e\u91cf\u3092\u8868\u3059\u5024\u3067\u3059\uff0e\u3053\u306e\u5024\u3092\u30d9\u30af\u30c8\u30eb\u306b\u5bfe\u3057\u3066",(0,i.kt)("strong",{parentName:"p"},"\u30b9\u30ab\u30e9"),"\uff08scalar\uff09\u3068\u3044\u3044\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u6b21\u306b\u65b9\u5411\u306f\uff0c\u5927\u304d\u3055\u304c\uff11\u306e\u30d9\u30af\u30c8\u30eb\u3067\u8868\u3057\u307e\u3059\uff0e\u3053\u306e\u3088\u3046\u306a\u30d9\u30af\u30c8\u30eb\u3092",(0,i.kt)("strong",{parentName:"p"},"\u5358\u4f4d\u30d9\u30af\u30c8\u30eb"),"\uff08unit vector\uff09\u3068\u3044\u3044\u307e\u3059\uff0e\u5358\u4f4d\u30d9\u30af\u30c8\u30eb\u306f\u30d9\u30af\u30c8\u30eb\u306e\u5404\u6210\u5206\u3092\u5927\u304d\u3055\u3067\u5272\u308b\u3053\u3068\u3067\u6c42\u3081\u3089\u308c\u307e\u3059\uff0e"),(0,i.kt)("p",null,"$$\n\\frac{\\vec{v}}{|\\vec{v}|} = \\left(\\frac{x}{|\\vec{v}|},\\frac{y}{|\\vec{v}|},\\frac{z}{|\\vec{v}|}\\right)\n$$"),(0,i.kt)("p",null,"\u3053\u308c\u3092",(0,i.kt)("strong",{parentName:"p"},"\u6b63\u898f\u5316"),"\uff08normalize\uff09\u3068\u3044\u3044\u307e\u3059\uff0e\u3064\u307e\u308a\uff0c\u30d9\u30af\u30c8\u30eb\u3092\u6b63\u898f\u5316\u3059\u308c\u3070\u305d\u308c\u306f\u65b9\u5411\u3092\u8868\u3059\u30d9\u30af\u30c8\u30eb\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u203b\u30d9\u30af\u30c8\u30eb\u3084\u884c\u5217\u306e\u6f14\u7b97\u306b\u3064\u3044\u3066\uff0c\u3053\u308c\u304b\u3089\u51fa\u3066\u304d\u307e\u3059\u304c\u8a73\u3057\u3044\u3053\u3068\u306f\u3053\u3053\u3067\u306f\u89e3\u8aac\u3057\u307e\u305b\u3093\uff0e\u30d9\u30af\u30c8\u30eb\u3084\u884c\u5217\u306a\u3069\u306e\u7dda\u5f62\u4ee3\u6570\u306b\u3064\u3044\u3066\u306f\u4ed6\u3092\u53c2\u7167\u3057\u305f\u308a\uff0c\u3082\u3057\u304f\u306f\u79c1\u304c\u66f8\u3044\u305f\u300c",(0,i.kt)("a",{parentName:"p",href:"https://zenn.dev/mebiusbox/books/132b654aa02124"},"CG\u306e\u305f\u3081\u306e\u6570\u5b66"),"\u300d\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\uff0e"),(0,i.kt)("h3",{id:"\u57fa\u5e95basis"},"\u57fa\u5e95\uff08basis\uff09"),(0,i.kt)("p",null,"\u30d9\u30af\u30c8\u30eb\u306e\u6210\u5206\u8868\u793a\u3067XYZ\u3067\u6e2c\u3063\u305f\u5024\u3092\u8868\u8a18\u3059\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\uff0e\u3082\u3061\u308d\u3093\uff0c\u3053\u306eXYZ\u3068\u3044\u3046\u306e\u306f\u305d\u306e\u30d9\u30af\u30c8\u30eb\u3092\u6e2c\u3063\u305f\u5ea7\u6a19\u7cfb\u306b\u57fa\u3065\u3044\u3066\u3044\u307e\u3059\uff0e\u3053\u306e\u5ea7\u6a19\u7cfb\u3068\u30d9\u30af\u30c8\u30eb\u306e\u95a2\u4fc2\u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff0e"),(0,i.kt)("p",null,"XYZ\u3068\u3044\u3046\u306e\u306f\u5ea7\u6a19\u7cfb\u306b\u304a\u3051\u308b\u8ef8\u306e\u3053\u3068\u3067\u3059\uff0e\u3053\u308c\u307e\u3067\uff0c\u4e0a\u4e0b\u30fb\u5de6\u53f3\u30fb\u524d\u5f8c\u3068\u3044\u3046\u66d6\u6627\u306a\u8868\u73fe\u3067\u3057\u305f\u304c\uff0c\u65b9\u5411\u3092\u8868\u3059\u30d9\u30af\u30c8\u30eb\uff0c\u3064\u307e\u308a\u5358\u4f4d\u30d9\u30af\u30c8\u30eb\u3092\u4f7f\u3046\u3068\uff0cXYZ\u306e\u5411\u304d\u3092\u30d9\u30af\u30c8\u30eb\u3067\u8868\u3059\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\uff0e\u4e00\u822c\u7684\u306a\u5ea7\u6a19\u7cfb\u3068\u3057\u3066\uff0c\u5de6\u53f3\u3092X\uff0c\u4e0a\u4e0b\u3092Y\uff0c\u524d\u5f8c\u3092Z\u3068\u3057\u305f\u3068\u304d\uff0c\u305d\u308c\u305e\u308c\u306e\u5411\u304d\uff08\u5358\u4f4d\u30d9\u30af\u30c8\u30eb\uff09$\\vec{e} ",(0,i.kt)("em",{parentName:"p"}," x,\\vec{e} ")," y,\\vec{e} _ z$\u306f"),(0,i.kt)("p",null,"$$\n\\vec{e}_x = (1,0,0), \\quad \\vec{e}_y = (0,1,0), \\quad \\vec{e}_z = (0,0,1)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u308c\u3092\u4f7f\u3046\u3068\u30d9\u30af\u30c8\u30eb\u306e\u6210\u5206\u8868\u793a\u306f"),(0,i.kt)("p",null,"$$\n\\vec{p} = \\left(\\begin{matrix}p_x \\newline p_y \\newline p_z\\end{matrix}\\right) =\np_x \\left(\\begin{matrix}1 \\newline 0 \\newline 0\\end{matrix}\\right) +\np_y \\left(\\begin{matrix}0 \\newline 1 \\newline 0\\end{matrix}\\right) +\np_z \\left(\\begin{matrix}0 \\newline 0 \\newline 1\\end{matrix}\\right)\n= p_x \\vec{e}_x + p_y \\vec{e}_y + p_z \\vec{e}_z\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u306e$\\vec{e}","_","x,\\vec{e}","_","y,\\vec{e}","_","z$\u306f\u304a\u4e92\u3044\u76f4\u4ea4\u95a2\u4fc2\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\u30d9\u30af\u30c8\u30eb\u306e\u5185\u7a4d\u304c\uff10\u306e\u3068\u304d\uff0c\u76f4\u4ea4\u3067\u3042\u308b\u3053\u3068\u304b\u3089"),(0,i.kt)("p",null,"$$\n\\vec{e}_x \\cdot \\vec{e}_y =\n\\vec{e}_y \\cdot \\vec{e}_z =\n\\vec{e}_z \\cdot \\vec{e}_x = 0\n$$"),(0,i.kt)("p",null,"\u306e\u95a2\u4fc2\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\uff0e\u3053\u308c\u3089\u306e\u5358\u4f4d\u30d9\u30af\u30c8\u30eb\u306b\u3088\u3063\u3066\u5ea7\u6a19\u7cfb\u306e\u5411\u304d\u3092\u6c7a\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff0e\u3053\u306eXYZ\u306e\u5411\u304d\u30d9\u30af\u30c8\u30eb\u306e\u7d44\u3092",(0,i.kt)("strong",{parentName:"p"},"\u57fa\u5e95"),"\u3068\u3044\u3044\uff0c\u305d\u308c\u305e\u308c\u306e\u30d9\u30af\u30c8\u30eb\u306e\u3053\u3068\u3092",(0,i.kt)("strong",{parentName:"p"},"\u57fa\u5e95\u30d9\u30af\u30c8\u30eb"),"\u3068\u3044\u3044\u307e\u3059\uff0e\u30d9\u30af\u30c8\u30eb\u306e\u5185\u7a4d\u306f\u7247\u65b9\u304c\u5358\u4f4d\u30d9\u30af\u30c8\u30eb\u306e\u3068\u304d\uff0c\u3082\u3046\u7247\u65b9\u306e\u30d9\u30af\u30c8\u30eb\u306e\u305d\u306e\u5358\u4f4d\u30d9\u30af\u30c8\u30eb\u65b9\u5411\u306e\u5927\u304d\u3055\u3092\u6c42\u3081\u3089\u308c\u307e\u3059\uff0e\u3053\u308c\u3092\u4f7f\u3063\u3066\uff0c\u3042\u308b\u5ea7\u6a19\u7cfb\u306e\u57fa\u5e95\u30d9\u30af\u30c8\u30eb\u3068\uff0c\u4f4d\u7f6e\u3092\u8868\u3059\u30d9\u30af\u30c8\u30eb\u304b\u3089"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\np_x &= \\vec{p} \\cdot \\vec{e}_x \\newline\np_y &= \\vec{p} \\cdot \\vec{e}_y \\newline\np_z &= \\vec{p} \\cdot \\vec{e}_z \\newline\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3068\u5404\u6210\u5206\u304c\u5f97\u3089\u308c\u307e\u3059\uff0e\u3055\u3089\u306b\u884c\u5217\u3092\u4f7f\u3063\u3066\uff0c$\\vec{e}","_","x = i, \\vec{e}","_","y = j, \\vec{e}","_","z = k$\u3068\u304a\u304f\u3068"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\nM &= \\left(\\begin{matrix}i_x & i_y & i_z \\newline\nj_x & j_y & j_z \\newline\nk_x & k_y & k_z\\end{matrix}\\right) \\newline\n\\vec{p}' &= M\\vec{p} \\newline\n&= \\vec{p}\\cdot i + \\vec{p}\\cdot j + \\vec{p}\\cdot k\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u306e\u884c\u5217$M$\u306fXYZ\u306e\u57fa\u5e95\u30d9\u30af\u30c8\u30eb\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304b\u3089\uff0c\u57fa\u5e95\u3092\u8868\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u60f3\u50cf\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\uff0e\u884c\u5217\u3068\u30d9\u30af\u30c8\u30eb\u306e\u5185\u7a4d\u306e\u6027\u8cea\u304b\u3089\uff0c\u57fa\u5e95\u3092\u8868\u3059\u884c\u5217$M$\u306b\uff0c\u4efb\u610f\u306e\u30d9\u30af\u30c8\u30eb$\\vec{p}$\u3092\u304b\u3051\u308b\u3068\uff08\u4e00\u6b21\u5909\u63db\uff09\uff0c\u884c\u5217$M$\u3067\u8868\u3059\u57fa\u5e95\u3067\u306e\u6210\u5206\u306b\u5909\u63db\u3059\u308b\u3053\u3068\u304c\u3067\u304d\uff0c\u3053\u306e\u5024\u306f\u4e00\u610f\u306b\u6c7a\u307e\u308a\u307e\u3059\uff0e\u3088\u3063\u3066\uff0c\u3053\u306e\u884c\u5217$M$\u306f\u30d9\u30af\u30c8\u30eb$\\vec{p}$\u304b\u3089$\\vec{p}'$\u306e\u5199\u50cf\u3092\u8868\u3057\u3066\u3044\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u57fa\u5e95\u30d9\u30af\u30c8\u30eb\u3068\u3044\u3046\u306e\u306f\u5e38\u306b\u5358\u4f4d\u30d9\u30af\u30c8\u30eb\u3068\u3044\u3046\u308f\u3051\u3067\u3082\u306a\u304f\uff0c\u307e\u305f\uff0c\uff13\u6b21\u5143\u3067\u306e\u57fa\u5e95\u306f\u76f4\u4ea4\u3057\u3066\u3044\u306a\u304f\u3066\u3082\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff0e\u3053\u306e\u3088\u3046\u306a\u5ea7\u6a19\u7cfb\u306f\u659c\u4ea4\u5ea7\u6a19\u7cfb\u3068\u3044\u3063\u305f\u308a\u3057\u307e\u3059\uff0e\u3053\u3053\u3067\u306f\uff0c\u53f3\u624b\u5ea7\u6a19\u7cfb\u3067\u3059\u306e\u3067\uff0c\u57fa\u5e95\u30d9\u30af\u30c8\u30eb\u306f\u76f4\u4ea4\u95a2\u4fc2\u3067\u3042\u308a\uff0c\u307e\u305f\uff0c\u57fa\u5e95\u30d9\u30af\u30c8\u30eb\u304c\u5358\u4f4d\u30d9\u30af\u30c8\u30eb\u3067\u3042\u308b\u3068\u3057\u307e\u3059\uff0e\u3053\u306e\u3088\u3046\u306a\u57fa\u5e95\u3092",(0,i.kt)("strong",{parentName:"p"},"\u6b63\u898f\u76f4\u4ea4\u57fa\u5e95"),"\u3068\u3044\u3044\u307e\u3059\uff0e"),(0,i.kt)("h3",{id:"\u57fa\u5e95\u5909\u63dbbasis-transformation"},"\u57fa\u5e95\u5909\u63db\uff08basis transformation\uff09"),(0,i.kt)("p",null,"\u3044\u3088\u3044\u3088\u5ea7\u6a19\u5909\u63db\u306b\u5165\u3063\u3066\u3044\u304d\u307e\u3059\uff0e\u5ea7\u6a19\u5909\u63db\u3068\u3044\u3063\u3066\u3082\u8272\u3005\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\u306e\u3067\uff0c\uff11\u3064\u305a\u3064\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff0e\u307e\u305a\u306f\u57fa\u5e95\u5909\u63db\u3067\u3059\uff0e\u57fa\u5e95\u3068\u3044\u3046\u306e\u306f\u3059\u3067\u306b\u898b\u3066\u304d\u305f\u3088\u3046\u306b\uff0c\u57fa\u5e95\u30d9\u30af\u30c8\u30eb\u306e\u7d44\u3067\u3042\u308a\uff0c\u57fa\u5e95\u30d9\u30af\u30c8\u30eb\u306f\u5358\u4f4d\u30d9\u30af\u30c8\u30eb\u3067\u4e92\u3044\u306b\u76f4\u4ea4\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\u5ea7\u6a19\u7cfb\u3067\u51fa\u3066\u304d\u305f\u300c\u539f\u70b9\u300d\u300c\u5411\u304d\u300d\u300c\u5358\u4f4d\u300d\u306e\u3046\u3061\uff0c\u300c\u539f\u70b9\u300d\u306f$O=(0,0,0)$\u306e\u307e\u307e\u3067\u3069\u306e\u57fa\u5e95\u3067\u3082\u540c\u3058\u3067\u3059\uff0e\u307e\u305f\uff0c\u5358\u4f4d\u3082\u57fa\u5e95\u30d9\u30af\u30c8\u30eb\u306f\u5e38\u306b\u5358\u4f4d\u30d9\u30af\u30c8\u30eb\u3067\u3059\u306e\u3067\uff0c\u5358\u4f4d\u3082\u5909\u308f\u308a\u307e\u305b\u3093\uff0e\u7d50\u5c40\uff0c\u57fa\u5e95\u306f\u5411\u304d\u306e\u307f\u3092\u8868\u3057\u3066\u3044\u308b\u3068\u3044\u3048\u307e\u3059\uff0e\u305d\u3046\u3059\u308b\u3068\u57fa\u5e95\u304c\u5909\u308f\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u3069\u3046\u3044\u3046\u3053\u3068\u3067\u3057\u3087\u3046\u304b\uff0e\u539f\u70b9\u304c\u56fa\u5b9a\u3067\uff0c\u5927\u304d\u3055\u3082\u5909\u308f\u3089\u306a\u3044\u3068\u306a\u308c\u3070\uff0c\u305d\u308c\u306f\u5411\u304d\u304c\u300c\u56de\u8ee2\u300d\u3059\u308b\u3068\u8003\u3048\u3089\u308c\u307e\u3059\uff0e\u3064\u307e\u308a\uff0c\u57fa\u5e95\u5909\u63db\u306f\u56de\u8ee2\u3055\u305b\u308b\u5ea7\u6a19\u5909\u63db\u3068\u3044\u3048\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u3053\u3053\u3067\u5c11\u3057\u4e09\u89d2\u95a2\u6570\u306b\u3064\u3044\u3066\u5fa9\u7fd2\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\uff0e\u307e\u305a\u306f\u4e09\u89d2\u6bd4\u304b\u3089\uff0e"),(0,i.kt)("p",null,"$$\n\\sin\\theta = \\frac{a}{c}, \\quad \\cos\\theta = \\frac{b}{c}, \\quad \\tan\\theta = \\frac{a}{b}\n$$"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://storage.googleapis.com/zenn-user-upload/wqu7p1d41zdhp0nlewl7xt2l70yf",alt:"1554578765757_resize"})),(0,i.kt)("p",null,"\u5358\u4f4d\u5186\u3067\u4e09\u89d2\u95a2\u6570\u3092\u898b\u3066\u307f\u308b\u3068"),(0,i.kt)("p",null,"$$\nx = \\cos\\theta, \\quad y = \\sin\\theta\n$$"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://storage.googleapis.com/zenn-user-upload/b2aftsjvnmvgl0bmgzdsh5b5hbtm",alt:"1554578820354_resize"})),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u307e\u305f\uff0c\u30d4\u30bf\u30b4\u30e9\u30b9\u306e\u5b9a\u7406\u304b\u3089"),(0,i.kt)("p",null,"$$\n\\sin\\theta^2 + \\cos\\theta^2 = 1\n$$"),(0,i.kt)("p",null,"\u304c\u5f97\u3089\u308c\u307e\u3059\uff0e\u4e09\u89d2\u95a2\u6570\u306e\u9006\u95a2\u6570\u306b\u306f\u305d\u308c\u305e\u308c$\\arcsin, \\arccos, \\arctan$\u304c\u3042\u308a\u307e\u3059\uff0e\u3053\u308c\u3089\u306e\u95a2\u4fc2\u306f"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\n\\theta &= \\arcsin(\\sin\\theta) \\quad ( -\\frac{\\pi}{2} \\leqq \\theta \\leqq \\frac{\\pi}{2} ), \\newline\n\\theta &= \\arccos(\\cos\\theta) \\quad ( 0 \\leqq \\theta \\leqq \\pi ), \\newline\n\\theta &= \\arctan(\\tan\\theta) \\quad ( -\\frac{\\pi}{2} < \\theta < \\frac{\\pi}{2} )\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u6b21\u306b\u52a0\u6cd5\u5b9a\u7406\u3067\u3059\uff0e\u6b21\u306e\u56f3\u3092\u898b\u3066\u304f\u3060\u3055\u3044\uff0e"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://storage.googleapis.com/zenn-user-upload/k4icxxiktalgyjqcm9x4xetbbtlu",alt:"1554578863249"})),(0,i.kt)("p",null,"$\\Delta abc$\u306b\u304a\u3044\u3066\uff0c\u659c\u8fba\u306e\u9577\u3055\u304c$1$\u304b\u3089"),(0,i.kt)("p",null,"$$\n\\overline{ac} = \\sin(A+B), \\quad\n\\overline{bc} = \\cos(A+B)\n$$"),(0,i.kt)("p",null,"$\\Delta abd$\u306b\u304a\u3044\u3066\uff0c"),(0,i.kt)("p",null,"$$\n\\overline{ad} = \\sin B, \\quad \\overline{bd} = \\cos B\n$$"),(0,i.kt)("p",null,"\u6b21\u306b"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\n\\overline{af} &= \\overline{ad}\\cos A = \\cos A \\sin B \\newline\n\\overline{fc} &= \\overline{de} = \\overline{bd}\\sin A = \\sin A \\cos B\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"$\\overline{ac} = \\overline{af}+\\overline{fc}$\u306e\u95a2\u4fc2\u304b\u3089"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\n\\sin(A+B) &= \\sin A\\cos B + \\cos A\\sin B \\newline\n\\cos(A+B) &= \\cos A\\cos B - \\sin A\\sin B \\newline\n\\sin(A-B) &= \\sin A\\cos B - \\cos A\\sin B \\newline\n\\cos(A-B) &= \\cos A\\cos B + \\sin A\\sin B\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u305d\u308c\u3067\u306f\u56de\u8ee2\u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff0e\u6b21\u306e\u56f3\u306e\u3088\u3046\u306b\u70b9$p$\u3092\u70b9$p'$\u306b\u56de\u8ee2\u3059\u308b\u5834\u5408\u3092\u8003\u3048\u307e\u3059\uff0e\u3053\u3053\u3067\u306f$z=0$\u3068\u3057\u307e\u3059\uff0e"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://storage.googleapis.com/zenn-user-upload/r9fszm4o15wgisb7abxea2qrv5ce",alt:"1554580093216"})),(0,i.kt)("p",null,"\u3059\u308b\u3068\u70b9$p$\u306e\u5404\u6210\u5206\u306f"),(0,i.kt)("p",null,"$$\nx = r\\cos\\phi, \\quad y = r\\sin\\phi\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u56de\u8ee2\u5f8c\u306e\u70b9$p'$\u306e\u5404\u6210\u5206\u306f\u52a0\u6cd5\u5b9a\u7406\u3092\u4f7f\u3063\u3066"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\nx' &= r\\cos(\\theta+\\phi)\n= r\\cos\\theta\\cos\\phi - r\\sin\\theta\\sin\\phi \\newline\ny' &= r\\sin(\\theta+\\phi)\n= r\\sin\\theta\\cos\\phi + r\\cos\\theta\\sin\\phi\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u3053\u3067"),(0,i.kt)("p",null,"$$\nr = \\frac{x}{\\cos\\phi}, \\quad r = \\frac{y}{\\sin\\phi}\n$$"),(0,i.kt)("p",null,"\u3092\u4ee3\u5165\u3057\u3066\uff0c\u6574\u7406\u3059\u308b\u3068"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\nx' &= \\frac{x\\cos\\theta\\cos\\phi}{\\cos\\phi} - \\frac{y\\sin\\theta\\sin\\phi}{\\sin\\phi}\n= x\\cos\\theta - y\\sin\\theta \\newline\ny' &= \\frac{x\\sin\\theta\\cos\\phi}{\\cos\\phi} + \\frac{y\\cos\\theta\\sin\\phi}{\\sin\\phi}\n= x\\sin\\theta + y\\cos\\theta \\newline\nz' &= z\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u3063\u3066\uff0c\u884c\u5217\u3067\u66f8\u304f\u3068"),(0,i.kt)("p",null,"$$\n\\left(\\begin{matrix}x' \\newline y' \\newline z'\\end{matrix}\\right) =\n\\left(\\begin{matrix}\n\\cos\\theta & -\\sin\\theta & 0 \\newline\n\\sin\\theta & \\cos\\theta & 0 \\newline\n0 & 0 & 1\n\\end{matrix}\\right)\n\\left(\\begin{matrix}x \\newline y \\newline z\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u306e\u884c\u5217\u306e\u57fa\u5e95\u30d9\u30af\u30c8\u30eb\u306b\u6ce8\u76ee\u3057\u3066\u307f\u308b\u3068\uff0c\u56de\u8ee2\u3055\u305b\u305f\u3044\u65b9\u5411\u3068\u306f\u9006\u306e\u65b9\u5411\u306b\u56de\u8ee2\u3057\u305f\u30d9\u30af\u30c8\u30eb\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\u3064\u307e\u308a\uff0c\u53cd\u5bfe\u65b9\u5411\u306b\u56de\u8ee2\u3055\u305b\u305f\u57fa\u5e95\u3092\u4f7f\u3063\u3066\u5909\u63db\u3092\u884c\u3046\u3068\uff0c\u56de\u8ee2\u3057\u305f\u5ea7\u6a19\u306b\u306a\u308b\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://storage.googleapis.com/zenn-user-upload/lw23oeaav3nlgs3z7rsszi90o4qx",alt:"1554580132600"})),(0,i.kt)("p",null,"\u3053\u306e\u56de\u8ee2\u884c\u5217\u306fZ\u8ef8\u3092\u57fa\u6e96\u306b\u56de\u8ee2\u3092\u8868\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u3053\u306eZ\u8ef8\u56de\u8ee2\u306e\u884c\u5217\u3092$R_z$\u3068\u304a\u304f\u3068"),(0,i.kt)("p",null,"$$\nR_z =\n\\left(\\begin{matrix}\n\\cos\\theta & -\\sin\\theta & 0 \\newline\n\\sin\\theta & \\cos\\theta & 0 \\newline\n0 & 0 & 1\n\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u540c\u3058\u3088\u3046\u306bX\u8ef8\uff0cY\u8ef8\u306e\u56de\u8ee2\u884c\u5217$R_x,R_y$\u306f"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\nR_x &= \\left(\\begin{matrix}\n1 & 0 & 0\\newline\n0 & \\cos\\theta & -\\sin\\theta \\newline\n0 & \\sin\\theta & \\cos\\theta\n\\end{matrix}\\right) \\newline\nR_y &= \\left(\\begin{matrix}\n\\cos\\theta & 0 & \\sin\\theta\\newline\n0 & 1 & 0 \\newline\n-\\sin\\theta & 0 & \\cos\\theta\n\\end{matrix}\\right)\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u3053\u3067\u5404\u56de\u8ee2\u884c\u5217\u306e\u884c\u30d9\u30af\u30c8\u30eb\uff0c\u304a\u3088\u3073\u5217\u30d9\u30af\u30c8\u30eb\u306f"),(0,i.kt)("p",null,"$$\n\\sin\\theta^2 + \\cos\\theta^2 = 1\n$$"),(0,i.kt)("p",null,"\u304b\u3089\uff0c\u3059\u3079\u3066\u5358\u4f4d\u30d9\u30af\u30c8\u30eb\u3067\u3042\u308a\uff0c\u5217\u30d9\u30af\u30c8\u30eb\u306b\u304a\u3044\u3066\u3082\u4e92\u3044\u306b\u5185\u7a4d\u304c\u30bc\u30ed\u306a\u306e\u3067\u76f4\u4ea4\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u884c\u5217\u306f\u639b\u3051\u5408\u308f\u305b\u3066\u5408\u6210\u3067\u304d\u308b\u306e\u3067\uff0c\u4f8b\u3048\u3070XYZ\u56de\u8ee2\u306e\u884c\u5217$R ","_"," {xyz}$\u306f"),(0,i.kt)("p",null,"$$\nR ","_"," {xyz} = R_z R_y R_x\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u3053\u3067\u306f\u53d6\u308a\u4e0a\u3052\u307e\u305b\u3093\u304c\uff0c\u4efb\u610f\u306e\u8ef8\u3092\u57fa\u6e96\u306b\u56de\u8ee2\u3059\u308b\u884c\u5217\u306e\u5f0f\u3082\u7c21\u5358\u306b\u898b\u3064\u304b\u308b\u3068\u601d\u3044\u307e\u3059\uff0e\u3053\u308c\u3089\u306e\u56de\u8ee2\u884c\u5217\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u57fa\u5e95\u5909\u63db\u306e\u884c\u5217\u3092\u3064\u304f\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\uff0e"),(0,i.kt)("h3",{id:"\u525b\u4f53\u5909\u63dbrigid-body-transformation"},"\u525b\u4f53\u5909\u63db\uff08rigid-body transformation\uff09"),(0,i.kt)("p",null,"\u57fa\u5e95\u5909\u63db\u3067\u306f\u5ea7\u6a19\u7cfb\u306e\u3046\u3061\uff0c\u5411\u304d\u3057\u304b\u5909\u63db\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\uff0e\u3053\u3053\u3067\uff0c\u539f\u70b9\u3092\u5e73\u884c\u79fb\u52d5\u3055\u305b\u308b\u5909\u63db\u3092\u8003\u3048\u307e\u3059\uff0e\u3053\u306e\u3088\u3046\u306a\u5927\u304d\u3055\u304c\u5909\u308f\u3089\u305a\uff0c\u5411\u304d\u3068\u4f4d\u7f6e\u304c\u5909\u308f\u308b\u5909\u63db\u3092",(0,i.kt)("strong",{parentName:"p"},"\u525b\u4f53\u5909\u63db"),"\u3068\u3044\u3044\u307e\u3059\uff0e\u525b\u4f53\uff08rigid body\uff09\u306f\u529b\u3092\u52a0\u3048\u3066\u3082\u5f62\u72b6\u3092\u5909\u3048\u306a\u3044\u7269\u4f53\u306e\u3053\u3068\u3067\u7269\u7406\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u3088\u304f\u4f7f\u3044\u307e\u3059\uff0e\n\u57fa\u5e95\u5909\u63db\u3067\u306f\u5411\u304d\u3057\u304b\u5909\u63db\u3067\u304d\u306a\u304b\u3063\u305f\u306e\u3067\uff0c\u3053\u308c\u306b\u52a0\u3048\u3066\u5e73\u884c\u79fb\u52d5\u3059\u308b\u5909\u63db\u3092\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\uff0e\u57fa\u5e95\u5909\u63db\u3067\u306f\u3042\u308b\u70b9$p$\u3092\u70b9$p'$\u306b\u5909\u63db\u3059\u308b\u884c\u5217$M$\u304b\u3089"),(0,i.kt)("p",null,"$$\n\\vec{p}' = M\\vec{p}\n$$"),(0,i.kt)("p",null,"\u3068\u8868\u305b\u307e\u3057\u305f\uff0e\u3053\u3053\u3067\uff0c\u3053\u306e\u5909\u63db\u306b$\\vec{t}$\u306e\u5e73\u884c\u79fb\u52d5\u3092\u8ffd\u52a0\u3059\u308b\u306b\u306f"),(0,i.kt)("p",null,"$$\n\\vec{p}' = M\\vec{p} + \\vec{t}\n$$"),(0,i.kt)("p",null,"\u3068\u3059\u308c\u3070\u3088\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u3053\u308c\u306f\uff11\u6b21\u95a2\u6570\u306e\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u306d\uff0e\u3057\u304b\u3057\uff0c\u3053\u306e\u307e\u307e\u3067\u306f\uff13\u884c\uff13\u5217\u306e\u884c\u5217\u3067\u8868\u3059\u3053\u3068\u304c\u3067\u304d\u305a\uff0c\u6271\u3044\u3065\u3089\u3044\u3082\u306e\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\u305d\u3053\u3067\uff0c\uff14\u6b21\u5143\u306e",(0,i.kt)("strong",{parentName:"p"},"\u540c\u6b21\u5ea7\u6a19\u7cfb"),"\uff08homogeneous coordinate\uff09\u3092\u4f7f\u3044\u307e\u3059\uff08\u540c\u6b21\u5ea7\u6a19\u7cfb\u306f\u6589\u6b21\u5ea7\u6a19\u7cfb\u3068\u3082\u547c\u3070\u308c\u307e\u3059\uff09\uff0e\uff14\u6b21\u5143\u306e\u540c\u6b21\u5ea7\u6a19\u7cfb\u3092\u4f7f\u3046\u3068\uff14\u6b21\u5143\u7a7a\u9593\u306e\u65ad\u9762\u3068\uff13\u6b21\u5143\u7a7a\u9593\u306e\u5ea7\u6a19\u3092\u540c\u3058\uff08\u5199\u50cf\uff09\u6271\u3044\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff0e\uff14\u6b21\u5143\u7a7a\u9593\u306e\u4f4d\u7f6e\u306f$w$\u304c\u8ffd\u52a0\u3055\u308c\u305f$x,y,z,w$\u3067\u8868\u3057\uff0c\uff13\u6b21\u5143\u7a7a\u9593\u3068\u306e\u95a2\u4fc2\u306f"),(0,i.kt)("p",null,"$$\n\\left(\\begin{matrix}x \\newline y \\newline z\\end{matrix}\\right) =\n\\left(\\begin{matrix}x/w \\newline y/w \\newline z/w\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u901a\u5e38\u306f$w=1$\u3068\u3057\u3066"),(0,i.kt)("p",null,"$$\n\\left(\\begin{matrix}x \\newline y \\newline z\\end{matrix}\\right) =\n\\left(\\begin{matrix}x \\newline y \\newline z \\newline 1\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u3057\u307e\u3059\uff0e\u3061\u306a\u307f\u306b$w=0$\u3068\u3059\u308b\u3068\uff0c\u7121\u9650\u9060\u70b9\u3068\u306a\u308a\u5927\u304d\u3055\u304c\u7121\u9650\u3068\u306a\u308a\u307e\u3059\uff0e\u305f\u3060\u3057\uff0c\u7121\u9650\u9060\u70b9\u3067\u3082\u5411\u304d\u306f\u5b58\u5728\u3057\u3066\u3044\u308b\u306e\u3067\uff0c$w=0$\u306e\u5834\u5408\u306f\u5411\u304d\u3060\u3051\u3092\u8868\u3057\u3066\u3044\u308b\u3068\u3082\u8003\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\uff14\u6b21\u5143\u306e\u540c\u6b21\u5ea7\u6a19\u7cfb\u3092\u4f7f\u3046\u3053\u3068\u3067\uff14\u884c\uff14\u5217\u306e\u884c\u5217\u3092\u6271\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\uff0e\u5e73\u884c\u79fb\u52d5\u3092\u884c\u5217\u3067\u8868\u8a18\u3059\u308b\u3068"),(0,i.kt)("p",null,"$$\nT =\n\\left(\\begin{matrix}\n1 & 0 & 0 & t_x \\newline\n0 & 1 & 0 & t_y \\newline\n0 & 0 & 1 & t_z \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u57fa\u5e95\u5909\u63db\u306e\u884c\u5217\u306f\u56de\u8ee2\u3092\u8868\u3059\u884c\u5217\u306a\u306e\u3067\uff0c\u56de\u8ee2\u884c\u5217\u3092$R$\u3068\u304a\u304f\u3068\uff0c\u525b\u4f53\u5909\u63db\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\n\\vec{p}' = M\\vec{p} + \\vec{t} = TR\\vec{p} &=\n\\left(\\begin{matrix}\n1 & 0 & 0 & t_x \\newline\n0 & 1 & 0 & t_y \\newline\n0 & 0 & 1 & t_z \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n\\left(\\begin{matrix}\nR ","_"," {11} & R ","_"," {12} & R ","_"," {13} & 0 \\newline\nR ","_"," {21} & R ","_"," {22} & R ","_"," {23} & 0 \\newline\nR ","_"," {31} & R ","_"," {32} & R ","_"," {33} & 0 \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n\\left(\\begin{matrix}p_x \\newline p_y \\newline p_z \\newline 1\\end{matrix}\\right) \\newline &=\n\\left(\\begin{matrix}\nR ","_"," {11} & R ","_"," {12} & R ","_"," {13} & t_x \\newline\nR ","_"," {21} & R ","_"," {22} & R ","_"," {23} & t_y \\newline\nR ","_"," {31} & R ","_"," {32} & R ","_"," {33} & t_z \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n\\left(\\begin{matrix}p_x \\newline p_y \\newline p_z \\newline 1\\end{matrix}\\right)\n\\end{aligned}\n$$"),(0,i.kt)("h3",{id:"\u30a2\u30d5\u30a3\u30f3\u5909\u63dbaffine-transformation"},"\u30a2\u30d5\u30a3\u30f3\u5909\u63db\uff08affine transformation\uff09"),(0,i.kt)("p",null,"\u57fa\u5e95\u5909\u63db\u306e\u5f0f"),(0,i.kt)("p",null,"$$\n\\vec{p}' = M\\vec{p}\n$$"),(0,i.kt)("p",null,"\u306f\u4e00\u6b21\u5909\u63db\u3067\u3057\u305f\uff0e\u6b21\u306b\uff0c\u525b\u4f53\u5909\u63db\u306e\u5f0f\u306f\u57fa\u5e95\u5909\u63db\u306b\u5e73\u884c\u79fb\u52d5\u3092\u8ffd\u52a0\u3057\u305f\u5f0f"),(0,i.kt)("p",null,"$$\n\\vec{p}' = M\\vec{p} + \\vec{t}\n$$"),(0,i.kt)("p",null,"\u306f\uff11\u6b21\u95a2\u6570\u3068\u540c\u3058\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3057\u305f\u306d\uff0e\u3082\u3061\u308d\u3093\uff0c\u3053\u308c\u306f\u5199\u50cf\u3092\u8868\u3057\u3066\u3044\u307e\u3059\uff0e\u3053\u306e\uff11\u6b21\u95a2\u6570\u3092\u30d9\u30af\u30c8\u30eb\u7a7a\u9593\u3067\u4e00\u822c\u5316\u3057\uff0c\u4e00\u6b21\u5909\u63db\u3068\u5e73\u884c\u79fb\u52d5\u3092\u5408\u308f\u305b\u305f\u5909\u63db\u3092",(0,i.kt)("strong",{parentName:"p"},"\u30a2\u30d5\u30a3\u30f3\u5909\u63db"),"\u3068\u3044\u3044\u307e\u3059\uff0e\u3088\u3063\u3066\uff0c\u525b\u4f53\u5909\u63db\u3082\u57fa\u5e95\u5909\u63db\u3082\u30a2\u30d5\u30a3\u30f3\u5909\u63db\u306e\u7279\u6b8a\u306a\u5f62\u3068\u306a\u308a\u307e\u3059\uff0e\u30a2\u30d5\u30a3\u30f3\u5909\u63db\u3067\u306f\u56de\u8ee2\uff0c\u5e73\u884c\u79fb\u52d5\u306e\u4ed6\u306b\uff0c\u62e1\u5927\u30fb\u7e2e\u5c0f\uff0c\u93e1\u6620\uff0c\u305b\u3093\u65ad\u304c\u3042\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u5148\u306b\u93e1\u6620\u3068\u305b\u3093\u65ad\u306b\u3064\u3044\u3066\u3067\u3059\uff0e\u93e1\u6620\uff08reflection\uff09\u306f\u57fa\u6e96\u3068\u306a\u308b\u8ef8\u306b\u5bfe\u3057\u3066\u5bfe\u79f0\u3068\u306a\u308b\u4f4d\u7f6e\u306b\u79fb\u52d5\u3059\u308b\u5909\u63db\u3067\u3059\uff0e\u4f8b\u3048\u3070\uff0c\u53f3\u624b\u5ea7\u6a19\u7cfb\u3068\u5de6\u624b\u5ea7\u6a19\u7cfb\u3092\u76f8\u4e92\u306b\u5909\u63db\u3059\u308b\u5834\u5408\u306f\u6b21\u306e\u3088\u3046\u306a\u884c\u5217\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"$$\nM ","_"," {reflection} =\n\\left(\\begin{matrix}\n1 & 0 & 0 \\newline\n0 & 1 & 0 \\newline\n0 & 0 & -1\n\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u305b\u3093\u65ad\uff08shearing\uff09\u306f\u30b9\u30ad\u30e5\u30fc\uff08skew\uff09\u5909\u63db\u3068\u3082\u547c\u3070\u308c\uff0c\u6b6a\u307e\u305b\u308b\u5909\u63db\u3067\u3059\uff0e\u3053\u308c\u306f\u5225\u8ef8\u306e\u6210\u5206\u306e\u5024\u304c\u4ed6\u306e\u8ef8\u306e\u6210\u5206\u306b\u5f71\u97ff\u3055\u305b\u308b\u3053\u3068\u3067\u6b6a\u307e\u305b\u307e\u3059\uff0e\u4f8b\u3048\u3070\uff0c$Y$\u8ef8\u65b9\u5411\u306e\u5024\u5206\uff0c$X$\u8ef8\u65b9\u5411\u306b\u305a\u3089\u3059\u5834\u5408\u306f"),(0,i.kt)("p",null,"$$\nM ","_"," {skew} =\n\\left(\\begin{matrix}\n1 & 1 & 0 \\newline\n0 & 1 & 0 \\newline\n0 & 0 & 1\n\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u6b21\u306f\u62e1\u5927\u30fb\u7e2e\u5c0f\u3067\u3059\uff0e\u3053\u306e\u884c\u5217$S$\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"$$\nS =\n\\left(\\begin{matrix}\ns_x & 0 & 0 \\newline\n0 & s_y & 0 \\newline\n0 & 0 & s_z\n\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u62e1\u5927\u30fb\u7e2e\u5c0f\u884c\u5217\u3067\u5909\u63db\u3057\u3066\u307f\u308b\u3068"),(0,i.kt)("p",null,"$$\n\\vec{p}' = S\\vec{p} =\n\\left(\\begin{matrix}\ns_x & 0 & 0 \\newline\n0 & s_y & 0 \\newline\n0 & 0 & s_z\n\\end{matrix}\\right)\n\\left(\\begin{matrix}p_x \\newline p_y \\newline p_z\\end{matrix}\\right) =\n\\left(\\begin{matrix}s_x p_x \\newline s_y p_y \\newline s_z p_z\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u306e\u62e1\u5927\u30fb\u7e2e\u5c0f\u3068\u56de\u8ee2\uff0c\u5e73\u884c\u79fb\u52d5\u306e\uff13\u3064\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u5ea7\u6a19\u5909\u63db\u884c\u5217\u3092\u3064\u304f\u308b\u306e\u304c\u57fa\u672c\u7684\u306a\u3084\u308a\u65b9\u3068\u306a\u308a\u307e\u3059\uff0e\u5f0f\u3067\u8868\u3059\u3068"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\n\\vec{p}' &= TRS\\vec{p} \\newline\n&= \\left(\\begin{matrix}\n1 & 0 & 0 & t_x \\newline\n0 & 1 & 0 & t_y \\newline\n0 & 0 & 1 & t_z \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n\\left(\\begin{matrix}\nR ","_"," {11} & R ","_"," {12} & R ","_"," {13} & 0 \\newline\nR ","_"," {21} & R ","_"," {22} & R ","_"," {23} & 0 \\newline\nR ","_"," {31} & R ","_"," {32} & R ","_"," {33} & 0 \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n\\left(\\begin{matrix}\ns_x & 0 & 0 & 0 \\newline\n0 & s_y & 0 & 0 \\newline\n0 & 0 & s_z & 0 \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n\\left(\\begin{matrix}p_x \\newline p_y \\newline p_z \\newline 1\\end{matrix}\\right) \\newline\n&=\n\\left(\\begin{matrix}\ns_x R ","_"," {11} & s_y R ","_"," {12} & s_z R ","_"," {13} & t_x \\newline\ns_x R ","_"," {21} & s_y R ","_"," {22} & s_z R ","_"," {23} & t_y \\newline\ns_x R ","_"," {31} & s_y R ","_"," {32} & s_z R ","_"," {33} & t_z \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n\\left(\\begin{matrix}p_x \\newline p_y \\newline p_z \\newline 1\\end{matrix}\\right)\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u307e\u305f\uff0cTRS\u306e\u5909\u63db\u884c\u5217\u306b\u304a\u3044\u3066\uff14\u884c\u76ee\u306e\u30d9\u30af\u30c8\u30eb\u306f\u56fa\u5b9a\u5024\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081"),(0,i.kt)("p",null,"$$\nTRS =\n\\left(\\begin{matrix}\ns_x R ","_"," {11} & s_y R ","_"," {12} & s_z R ","_"," {13} & t_x \\newline\ns_x R ","_"," {21} & s_y R ","_"," {22} & s_z R ","_"," {23} & t_y \\newline\ns_x R ","_"," {31} & s_y R ","_"," {32} & s_z R ","_"," {33} & t_z \\newline\n\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\uff13\u884c\uff14\u5217\u306e\u90e8\u5206\u3060\u3051\u3042\u308c\u3070\u3088\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u3053\u308c\u306f\u5909\u63db\u884c\u5217\u306e\u30c7\u30fc\u30bf\u91cf\u3092\u5c0f\u3055\u304f\u3059\u308b\u3068\u304d\u306b\u5229\u7528\u3057\u307e\u3059\uff0e"),(0,i.kt)("p",null,"TRS\u306e\u5909\u63db\u884c\u5217\u304c\u5f97\u3089\u308c\u305f\u306e\u3067\uff0c\u4eca\u5ea6\u306fTRS\u304b\u3089\u62e1\u5927\u30fb\u7e2e\u5c0f\uff0c\u56de\u8ee2\uff0c\u5e73\u884c\u79fb\u52d5\u306b\u5206\u89e3\u3059\u308b\u3053\u3068\u3092\u8003\u3048\u3066\u307f\u307e\u3057\u3087\u3046\uff0e\u307e\u305a\uff0c\u5e73\u884c\u79fb\u52d5\u306f$t","_","x,t","_","y,t","_","z$\u3092\u305d\u306e\u307e\u307e\u53d6\u308a\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff0e\u554f\u984c\u306f\u62e1\u5927\u30fb\u7e2e\u5c0f\u3068\u56de\u8ee2\u3067\u3059\uff0e\u3053\u308c\u3092\u62bd\u51fa\u3059\u308b\u305f\u3081\u306b\u306f\u56de\u8ee2\u884c\u5217\u306e\u6027\u8cea\u3092\u5229\u7528\u3057\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u3053\u3053\u304b\u3089\u306f\u5c11\u3057\u3084\u3084\u3053\u3057\u304f\u306a\u308a\u307e\u3059\u304c\uff0c\uff11\u3064\uff11\u3064\u6574\u7406\u3057\u306a\u304c\u3089\u8aad\u307f\u9032\u3093\u3067\u3082\u3089\u3048\u308b\u3068\u3044\u3044\u304b\u306a\u3068\u601d\u3044\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u57fa\u5e95\u5909\u63db\u306e\u3068\u3053\u308d\u3067\u56de\u8ee2\u884c\u5217\u306b\u3064\u3044\u3066\u6271\u3044\u307e\u3057\u305f\uff0e$\\theta$\u56de\u8ee2\u3055\u305b\u308b\u5834\u5408\uff0c\u53cd\u5bfe\u65b9\u5411\u306b\u56de\u8ee2\uff0c\u3064\u307e\u308a$-\\theta$\u56de\u8ee2\u3057\u305f\u57fa\u5e95\u3092\u4f7f\u3048\u3070$\\theta$\u56de\u8ee2\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3057\u305f\u306d\uff0e\u3055\u3089\u306b\u3044\u3046\u3068\uff0c\u56de\u8ee2\u3057\u305f\u5ea7\u6a19\u3092\u56de\u8ee2\u3057\u305f\u57fa\u5e95\u3067\u5909\u63db\u3059\u308b\u3068\uff0c\u56de\u8ee2\u524d\u3068\u540c\u3058\u5ea7\u6a19\u306b\u306a\u308a\u307e\u3059\uff0e\u3053\u3053\u3067\u6ce8\u610f\u306a\u306e\u304c\uff0c\u56de\u8ee2\u3057\u305f\u57fa\u5e95\u306f\u56de\u8ee2\u884c\u5217\u3068\u306f\u7570\u306a\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3059\uff0e\u57fa\u5e95\u3092\u8868\u3059\u884c\u5217$M$\uff0c\u70b9\u3092$p$\u3068\u3057\u3066\uff0c\u56de\u8ee2\u524d\u306e\u884c\u5217$M_1$\uff0c\u56de\u8ee2\u524d\u306e\u70b9$p_1$\uff0c\u56de\u8ee2\u5f8c\u306e\u884c\u5217$M_2$\uff0c\u56de\u8ee2\u5f8c\u306e\u70b9$p_2$\u3068\u3059\u308c\u3070"),(0,i.kt)("p",null,"$$\nM_1 p_1 = M_2 p_2\n$$"),(0,i.kt)("p",null,"\u306e\u95a2\u4fc2\u304c\u6210\u308a\u7acb\u3061\u307e\u3059\uff0e\u307e\u305f\uff0c\u9006\u884c\u5217\u3092\u4f7f\u3048\u3070"),(0,i.kt)("p",null,"$$\np_1 = M_1^{-1} M_2 p_2, \\quad p_2 = M_2^{-1} M_1 p_1\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e$\\theta$\u56de\u8ee2\u3059\u308b\u57fa\u5e95\u3092\u4f5c\u308b\u3068\uff0c\u305d\u308c\u306f$-\\theta$\u56de\u8ee2\u3057\u305f\u57fa\u5e95\u30d9\u30af\u30c8\u30eb\u3068\u3044\u3046\u3053\u3068\u3067\u3057\u305f\uff0e\u3053\u306e\u884c\u5217\u306e\u9006\u884c\u5217\u3092\u8003\u3048\u3066\u307f\u308b\u3068\uff0c$\\theta$\u56de\u8ee2\u3057\u305f\u57fa\u5e95\u30d9\u30af\u30c8\u30eb\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u3053\u308c\u306f\u307e\u3055\u306b\u56de\u8ee2\u5f8c\u306e\u57fa\u5e95\u3067\u3059\uff0e\u3053\u3053\u307e\u3067\u3092\u307e\u3068\u3081\u308b\u3068\uff0c"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u57fa\u5e95\u3092\u8868\u3059\u884c\u5217\u306e\u9006\u884c\u5217\u306f\uff0c\u56de\u8ee2\u5f8c\u306e\u57fa\u5e95\u3067\u3042\u308b"),(0,i.kt)("li",{parentName:"ul"},"\u57fa\u5e95\u3092\u8868\u3059\u884c\u5217\u306f\uff0c\u56de\u8ee2\u5f8c\u306e\u57fa\u5e95\u306b\u304a\u3051\u308b\u56de\u8ee2\u524d\u306e\u57fa\u5e95\u3067\u3042\u308b")),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u6b21\u306b\u56de\u8ee2\u884c\u5217\u306f",(0,i.kt)("strong",{parentName:"p"},"\u76f4\u4ea4\u884c\u5217"),"\u306e\u6027\u8cea\u3092\u6301\u3063\u3066\u3044\u307e\u3059\uff0e\u76f4\u4ea4\u884c\u5217\u306f\u305d\u306e\u8ee2\u7f6e\u884c\u5217\u3092\u81ea\u8eab\u306b\u304b\u3051\u308b\u3068\u5358\u4f4d\u884c\u5217\u3068\u306a\u308b\u3082\u306e\u3067\u3059\uff0e\u3064\u307e\u308a\uff0c\u76f4\u4ea4\u884c\u5217\u306e\u8ee2\u7f6e\u884c\u5217\u306f\u9006\u884c\u5217\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"$$\nM^TM = MM^T = I, \\quad MM^{-1} = M^{-1}M = I, \\quad \\therefore M^T = M^{-1}\n$$"),(0,i.kt)("p",null,"\u307e\u305f\uff0c\u76f4\u4ea4\u884c\u5217\u306e\u884c\u5217\u5f0f\u306e\u6027\u8cea\u3082\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\uff0e\u884c\u5217$A,B$\u306e\u884c\u5217\u5f0f\u306e\u95a2\u4fc2\u306f"),(0,i.kt)("p",null,"$$\n|AB| = |A||B|\n$$"),(0,i.kt)("p",null,"\u3067\u3059\uff0e\u3053\u308c\u306b$A=M,B=M^T$\u3092\u4ee3\u5165\u3059\u308b\u3068"),(0,i.kt)("p",null,"$$\n|MM^T| = |M||M^T|\n$$"),(0,i.kt)("p",null,"\u884c\u5217\u5f0f\u306e\u6027\u8cea\u3068\u3057\u3066\u884c\u5217\u3068\u305d\u306e\u884c\u5217\u306e\u8ee2\u7f6e\u884c\u5217\u306e\u884c\u5217\u5f0f\u306f\u540c\u3058\u3067\u3059\uff0e"),(0,i.kt)("p",null,"$$\n|M| = |M^T|\n$$"),(0,i.kt)("p",null,"\u3088\u3063\u3066"),(0,i.kt)("p",null,"$$\n|MM^T| = |M||M^T| = |M||M| = |M|^2\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u4e00\u65b9\u3067"),(0,i.kt)("p",null,"$$\nMM^T = I\n$$"),(0,i.kt)("p",null,"\u304a\u3088\u3073\uff0c\u5358\u4f4d\u884c\u5217$I$\u306e\u884c\u5217\u5f0f\u306f$|I|=1$\u3068\u3044\u3046\u3053\u3068\u304c\u308f\u304b\u3063\u3066\u3044\u308b\u306e\u3067"),(0,i.kt)("p",null,"$$\n|MM^T| = |I| = 1\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\uff0c"),(0,i.kt)("p",null,"$$\n|MM^T| = |I| = |M|^2 = 1\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3088\u3063\u3066\uff0c\u4e8c\u4e57\u3057\u3066$1$\u3068\u306a\u308b\u5024\u304c\u76f4\u4ea4\u884c\u5217\u306e\u884c\u5217\u5f0f\u3068\u306a\u308b\u306e\u3067\uff0c$1$\u3068$-1$\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u307e\u305f\uff0c\u56de\u8ee2\u884c\u5217\u306e\u3088\u3046\u306b\u884c\u30d9\u30af\u30c8\u30eb\uff0c\u5217\u30d9\u30af\u30c8\u30eb\u304c\u3059\u3079\u3066\u5358\u4f4d\u30d9\u30af\u30c8\u30eb\u3067\u3042\u308a\uff0c\u4e92\u3044\u306b\u76f4\u4ea4\u3067\u3042\u308b\u5834\u5408\u306f\u884c\u5217\u5f0f\u306e\u5024\u304c$1$\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u3053\u308c\u307e\u3067\u76f4\u4ea4\u884c\u5217\u306e\u6027\u8cea\u3092\u307f\u3066\u304d\u307e\u3057\u305f\uff0e\u56de\u8ee2\u884c\u5217\u306f\u76f4\u4ea4\u884c\u5217\u3067\u3059\u306e\u3067\uff0c\u76f4\u4ea4\u884c\u5217\u306e\u6027\u8cea\u304b\u3089\u56de\u8ee2\u884c\u5217\u306e\u9006\u884c\u5217\u306f\u8ee2\u7f6e\u884c\u5217\u3068\u7b49\u3057\u304f\u306a\u308a\u307e\u3059\uff0e\u3053\u306e\u3053\u3068\u3092\u8e0f\u307e\u3048\u3066"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u57fa\u5e95\u3092\u8868\u3059\u884c\u5217\u306e\u9006\u884c\u5217\u306f\uff0c\u56de\u8ee2\u5f8c\u306e\u57fa\u5e95\u3067\u3042\u308b")),(0,i.kt)("p",null,"\u3092\u8003\u3048\u3066\u307f\u308b\u3068\uff0c\u9006\u884c\u5217\u306f\u8ee2\u7f6e\u884c\u5217\u3060\u3063\u305f\u306e\u3067\uff0c\u57fa\u5e95\u3092\u8868\u3059\u884c\u5217\u306e\u5217\u30d9\u30af\u30c8\u30eb\u304c\u56de\u8ee2\u5f8c\u306e\u57fa\u5e95\u30d9\u30af\u30c8\u30eb\u3068\u306a\u308a\u307e\u3059\uff0e\u7d50\u5c40"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u57fa\u5e95\u3092\u8868\u3059\u884c\u5217\u306e\u5217\u30d9\u30af\u30c8\u30eb\u306f\uff0c\u56de\u8ee2\u5f8c\u306e\u57fa\u5e95\u30d9\u30af\u30c8\u30eb\u3067\u3042\u308b"),(0,i.kt)("li",{parentName:"ul"},"\u57fa\u5e95\u3092\u8868\u3059\u884c\u5217\u306f\uff0c\u56de\u8ee2\u5f8c\u306e\u57fa\u5e95\u306b\u304a\u3051\u308b\u56de\u8ee2\u524d\u306e\u57fa\u5e95\u3067\u3042\u308b")),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u308c\u3067TRS\u306e\u5ea7\u6a19\u5909\u63db\u884c\u5217\u304b\u3089\u56de\u8ee2\u3068\u62e1\u5927\u30fb\u7e2e\u5c0f\u3092\u62bd\u51fa\u3059\u308b\u6e96\u5099\u304c\u3067\u304d\u307e\u3057\u305f\uff0e\u3082\u3046\u4e00\u5ea6\u5909\u63db\u884c\u5217\u3092\u78ba\u8a8d\u3057\u3066\u307f\u308b\u3068"),(0,i.kt)("p",null,"$$\n\\vec{p}' = TRS\\vec{p} =\n\\left(\\begin{matrix}\ns_x R ","_"," {11} & s_y R ","_"," {12} & s_z R ","_"," {13} & t_x \\newline\ns_x R ","_"," {21} & s_y R ","_"," {22} & s_z R ","_"," {23} & t_y \\newline\ns_x R ","_"," {31} & s_y R ","_"," {32} & s_z R ","_"," {33} & t_z \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n\\left(\\begin{matrix}p_x \\newline p_y \\newline p_z \\newline 1\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3053\u3053\u3067\u5217\u30d9\u30af\u30c8\u30eb\u306b\u6ce8\u76ee\u3057\uff0c\u305d\u308c\u305e\u308c$\\vec{v}","_","x,\\vec{v}","_","y,\\vec{v}","_","z$\u3068\u304a\u304f\u3068"),(0,i.kt)("p",null,"$$\n\\vec{v}_x = \\left(\\begin{matrix} s_x R ","_"," {11} \\newline s_x R ","_"," {21} \\newline s_x R ","_"," {31}\\end{matrix}\\right),\n\\quad\n\\vec{v}_y = \\left(\\begin{matrix} s_y R ","_"," {12} \\newline s_y R ","_"," {22} \\newline s_y R ","_"," {32}\\end{matrix}\\right),\n\\quad\n\\vec{v}_z = \\left(\\begin{matrix} s_z R ","_"," {13} \\newline s_z R ","_"," {23} \\newline s_z R ","_"," {33}\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u5404\u30d9\u30af\u30c8\u30eb\u306e\u5927\u304d\u3055\u3092\u6c42\u3081\u308b\u3068"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\n|\\vec{v}_x| &= \\sqrt{(s_x R ","_"," {11})^2 + (s_x R ","_"," {21})^2 + (s_x R ","_"," {31})^2} \\newline\n|\\vec{v}_y| &= \\sqrt{(s_y R ","_"," {12})^2 + (s_y R ","_"," {22})^2 + (s_y R ","_"," {32})^2} \\newline\n|\\vec{v}_z| &= \\sqrt{(s_z R ","_"," {13})^2 + (s_z R ","_"," {23})^2 + (s_z R ","_"," {33})^2}\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3055\u3089\u306b\u4e8c\u4e57\u3057\u3066\u5e73\u65b9\u6839\u3092\u306f\u305a\u3057\u3066\u6574\u7406\u3059\u308b\u3068"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\n|\\vec{v}_x|^2 &= s_x^2 R ","_"," {11}^2 + s_x^2 R ","_"," {21}^2 + s_x^2 R ","_"," {31}^2 = s_x^2(R ","_"," {11}^2 + R ","_"," {21}^2 + R ","_"," {31}^2) \\newline\n|\\vec{v}_y|^2 &= s_y^2 R ","_"," {12}^2 + s_y^2 R ","_"," {22}^2 + s_y^2 R ","_"," {32}^2 = s_y^2(R ","_"," {12}^2+R ","_"," {22}^2+R ","_"," {32}^2) \\newline\n|\\vec{v}_z|^2 &= s_z^2 R ","_"," {13}^2 + s_z^2 R ","_"," {23}^2 + s_z^2 R ","_"," {33}^2 = s_z^2(R ","_"," {13}^2+R ","_"," {23}^2+R ","_"," {33}^2)\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u3053\u3067\u56de\u8ee2\u884c\u5217\u306e\u5217\u30d9\u30af\u30c8\u30eb\u306f\u56de\u8ee2\u5f8c\u306e\u57fa\u5e95\u30d9\u30af\u30c8\u30eb\u3067\u3042\u308a\uff0c\u5358\u4f4d\u30d9\u30af\u30c8\u30eb\u306a\u306e\u3067\uff0c"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\n\\sqrt{R ","_"," {11}^2 + R ","_"," {21}^2 + R ","_"," {31}^2} = 1 \\quad \\therefore R ","_"," {11}^2 + R ","_"," {21}^2 + R ","_"," {31}^2 = 1^2 = 1 \\newline\n\\sqrt{R ","_"," {12}^2+R ","_"," {22}^2+R ","_"," {32}^2} = 1 \\quad \\therefore R ","_"," {12}^2+R ","_"," {22}^2+R ","_"," {32}^2 = 1^2 = 1 \\newline\n\\sqrt{R ","_"," {13}^2+R ","_"," {23}^2+R ","_"," {33}^2} = 1 \\quad \\therefore R ","_"," {13}^2+R ","_"," {23}^2+R ","_"," {33}^2 = 1^2 = 1\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u308c\u3092\u4ee3\u5165\u3059\u308b\u3068"),(0,i.kt)("p",null,"$$\n|\\vec{v}_x|^2 = s_x^2, \\quad\n|\\vec{v}_y|^2 = s_y^2, \\quad\n|\\vec{v}_z|^2 = s_z^2 \\qquad\n\\therefore |\\vec{v}_x| = s_x, \\quad |\\vec{v}_y| = s_y, \\quad |\\vec{v}_z| = s_z\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u3063\u3066\uff0c\u5217\u30d9\u30af\u30c8\u30eb\u306e\u5927\u304d\u3055\u304c\u62e1\u5927\u30fb\u7e2e\u5c0f\u306e\u5024\u3068\u4e00\u81f4\u3059\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\uff0e$s_x,s_y,s_z$\u304c\u308f\u304b\u308c\u3070\uff0c\u56de\u8ee2\u306f"),(0,i.kt)("p",null,"$$\n\\frac{1}{s_x}\\vec{v}_x, \\quad\n\\frac{1}{s_y}\\vec{v}_y, \\quad\n\\frac{1}{s_z}\\vec{v}_z\n$$"),(0,i.kt)("p",null,"\u3067\u5404\u6210\u5206\u304c\u5f97\u3089\u308c\u307e\u3059\uff0e\u307e\u3068\u3081\u308b\u3068\uff0cTRS\u306e\u5408\u6210\u884c\u5217\u3092$M$\u3068\u304a\u304f\u3068"),(0,i.kt)("p",null,"$$\n\\vec{p}' = TRS\\vec{p} =\n\\left(\\begin{matrix}\nM ","_"," {11} & M ","_"," {12} & M ","_"," {13} & M ","_"," {14} \\newline\nM ","_"," {21} & M ","_"," {22} & M ","_"," {23} & M ","_"," {24} \\newline\nM ","_"," {31} & M ","_"," {32} & M ","_"," {33} & M ","_"," {34} \\newline\nM ","_"," {41} & M ","_"," {42} & M ","_"," {43} & M ","_"," {44}\n\\end{matrix}\\right)\n\\left(\\begin{matrix}p_x \\newline p_y \\newline p_z \\newline 1\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3053\u308c\u304b\u3089TRS\u3092\u6c42\u3081\u308b\u3068"),(0,i.kt)("p",null,"$$\n\\vec{t} = \\left(\\begin{matrix}M ","_"," {14} \\newline M ","_"," {24} \\newline M ","_"," {34}\\end{matrix}\\right), \\quad\n\\vec{s} = \\left(\\begin{matrix}\n\\sqrt{M ","_"," {11}^2+M ","_"," {21}^2+M ","_"," {31}^2} \\newline\n\\sqrt{M ","_"," {12}^2+M ","_"," {22}^2+M ","_"," {32}^2} \\newline\n\\sqrt{M ","_"," {13}^2+M ","_"," {23}^2+M ","_"," {33}^2}\n\\end{matrix}\\right), \\quad\nR = \\left(\\begin{matrix}\nM ","_"," {11}/s_x & M ","_"," {12}/s_y & M ","_"," {13}/s_z \\newline\nM ","_"," {21}/s_x & M ","_"," {22}/s_y & M ","_"," {23}/s_z \\newline\nM ","_"," {31}/s_x & M ","_"," {32}/s_y & M ","_"," {33}/s_z\n\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("h2",{id:"\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3"},"\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3"),(0,i.kt)("p",null,"\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30b9\u3067\u306f\uff0c\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u305f\u3081\u306b\u5165\u529b\u30c7\u30fc\u30bf\uff08\u9802\u70b9\u30c7\u30fc\u30bf\u3084\u30c6\u30af\u30b9\u30c1\u30e3\u306a\u3069\uff09\u304b\u3089\u753b\u9762\u306b\u8868\u793a\u3059\u308b\u307e\u3067\u306e\u5de5\u7a0b\u304c\u3042\u308a\uff0c\u305d\u306e\u5de5\u7a0b\u9806\u756a\u3092\u6c7a\u3081\u305f\u3082\u306e\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3068\u3044\u3044\u307e\u3059\uff0e\u5ea7\u6a19\u5909\u63db\u306f\u305d\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u5de5\u7a0b\u3067\u884c\u308f\u308c\u307e\u3059\uff0e\u5177\u4f53\u7684\u306b\u306f\u30e2\u30c7\u30eb\u5909\u63db\uff0c\u30d3\u30e5\u30fc\u5909\u63db\uff0c\u6295\u5f71\u5909\u63db\uff0c\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u5909\u63db\u3067\u3059\uff0e"),(0,i.kt)("h3",{id:"\u30e2\u30c7\u30eb\u5909\u63dbmodeling-transformation"},"\u30e2\u30c7\u30eb\u5909\u63db\uff08modeling transformation\uff09"),(0,i.kt)("p",null,"\u5ea7\u6a19\u5909\u63db\u304c\u3067\u304d\u308c\u3070\u5ea7\u6a19\u7cfb\u304c\u3044\u304f\u3064\u3082\u3042\u3063\u3066\u3082\u69cb\u308f\u306a\u3044\u306e\u3067\u3059\u304c\uff0c\u4e00\u822c\u7684\u306b",(0,i.kt)("strong",{parentName:"p"},"\u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19\u7cfb"),"\uff08local coordinate system\uff09\u3068",(0,i.kt)("strong",{parentName:"p"},"\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u7cfb"),"\uff08world coordinate system\uff09\u304c\u4f7f\u308f\u308c\u307e\u3059\uff0e\u9802\u70b9\u30c7\u30fc\u30bf\u306f\u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19\u7cfb\u3067\u4f5c\u6210\u3057\uff0c\u305d\u308c\u3092\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u7cfb\u306b\u5909\u63db\u3057\u307e\u3059\uff0e\u3053\u306e\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u7cfb\u3078\u306e\u5909\u63db\u3092",(0,i.kt)("strong",{parentName:"p"},"\u30e2\u30c7\u30eb\u5909\u63db"),"\u3068\u3044\u3044\u307e\u3059\uff0e\u9802\u70b9\u30c7\u30fc\u30bf\u306f\u30ed\u30fc\u30ab\u30eb\u5ea7\u6a19\u7cfb\u3067\u4f5c\u6210\u3057\u307e\u3059\u304c\uff0c\u666e\u901a\u306f\u89aa\u5b50\u968e\u5c64\u3092\u6301\u3063\u3066\u3044\u3066\uff0c\u89aa\u306e\u5ea7\u6a19\u7cfb\u306e\u4e0b\u306b\u3055\u3089\u306b\u5b50\u306e\u5ea7\u6a19\u7cfb\uff0c\u3055\u3089\u306b\u305d\u306e\u5b50\u306e\u5ea7\u6a19\u7cfb\u30fb\u30fb\u30fb\u3068\u3044\u3046\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\u5ea7\u6a19\u5909\u63db\u306f\u4e00\u65b9\u5411\u306b\u4f1d\u642c\u3059\u308b\u306e\u3067\uff0c\u30ef\u30fc\u30eb\u30c9\u2190\u89aa\u2190\u5b50\u2190\u5b6b\u30fb\u30fb\u30fb\u3068\u5ea7\u6a19\u5909\u63db\u3067\u304d\u307e\u3059\uff0e\u9006\u884c\u5217\u3092\u4f7f\u3048\u3070\u9006\u65b9\u5411\u306b\u4f1d\u642c\u3059\u308b\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u306d\uff0e\u30e2\u30c7\u30eb\u5909\u63db\u3084\u89aa\u5b50\u3067\u306e\u5ea7\u6a19\u5909\u63db\u3082\u57fa\u672c\u7684\u306b\u5e73\u884c\u79fb\u52d5\u30fb\u56de\u8ee2\u30fb\u62e1\u5927\u30fb\u7e2e\u5c0f\u306eTRS\u3067\u5ea7\u6a19\u5909\u63db\u3055\u308c\u307e\u3059\uff0e"),(0,i.kt)("h3",{id:"\u30d3\u30e5\u30fc\u5909\u63dbviewing-transformation"},"\u30d3\u30e5\u30fc\u5909\u63db\uff08viewing transformation\uff09"),(0,i.kt)("p",null,"\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3067\u306f\u30ab\u30e1\u30e9\u3092\u5c0e\u5165\u3057\u3066\uff0c\u30ab\u30e1\u30e9\u304b\u3089\u898b\u3048\u308b\u30b7\u30fc\u30f3\u3092\u63cf\u753b\u3057\u307e\u3059\uff0e\u30e2\u30c7\u30eb\u5909\u63db\u306b\u3088\u3063\u3066\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u7cfb\u306b\u3059\u3079\u3066\u5909\u63db\u3055\u308c\u307e\u3059\u306e\u3067\uff0c\u30ef\u30fc\u30eb\u30c9\u7a7a\u9593\u4e0a\u306b\u30ab\u30e1\u30e9\u3092\u914d\u7f6e\u3057\u307e\u3059\uff0e\u305d\u3057\u3066\uff0c\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u7cfb\u306e\u5ea7\u6a19\u3092\u30ab\u30e1\u30e9\u304b\u3089\u898b\u305f\u5ea7\u6a19\u7cfb\uff08\u30ab\u30e1\u30e9\u5ea7\u6a19\u7cfb\u307e\u305f\u306f\u30d3\u30e5\u30fc\u5ea7\u6a19\u7cfb\uff09\u306b\u5909\u63db\u3057\u307e\u3059\uff0e\u3053\u308c\u3092",(0,i.kt)("strong",{parentName:"p"},"\u30d3\u30e5\u30fc\u5909\u63db"),"\u3068\u3044\u3044\u307e\u3059\uff0e\u30d3\u30e5\u30fc\u5909\u63db\u306b\u306f\u4e00\u822c\u7684\u306b\uff12\u7a2e\u985e\u3042\u308a\u307e\u3059\uff0e"),(0,i.kt)("h6",{id:"lookat\u65b9\u5f0f"},"LookAt\u65b9\u5f0f"),(0,i.kt)("p",null,"\u307e\u305a\uff0cLookAt\u65b9\u5f0f\u3067\u3059\uff0e\u3053\u308c\u306f\u30ab\u30e1\u30e9\u306e\u4f4d\u7f6e\uff08C\uff09\u3068\u5bfe\u8c61\u306e\u4f4d\u7f6e\uff08P\uff09\uff0c\u30ab\u30e1\u30e9\u306e\u50be\u304d\u3092\u8868\u3059\u65b9\u5411\uff08U\uff09\u306e\uff13\u3064\u3067\u6307\u5b9a\u3057\u307e\u3059\uff0e\u307e\u305a\uff0c\u30ab\u30e1\u30e9\u306e\u4f4d\u7f6e\u304c\u539f\u70b9\u3068\u306a\u308a\u307e\u3059\u306e\u3067\uff0c\u5e73\u884c\u79fb\u52d5\u304c\u5fc5\u8981\u3067\u3059\uff0e"),(0,i.kt)("p",null,"$$\nM = \\left(\\begin{matrix}\n1 & 0 & 0 & -t_x \\newline\n0 & 1 & 0 & -t_y \\newline\n0 & 0 & 1 & -t_z \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u6b21\u306b\uff0c\u30ab\u30e1\u30e9\u304b\u3089\u898b\u3066\u524d\u5f8c\u65b9\u5411\uff08Z\u8ef8\uff09\u3092\u6c7a\u5b9a\u3057\u307e\u3059\uff0e\u305d\u308c\u306f\u5bfe\u8c61\u306e\u4f4d\u7f6e\u304b\u3089\u30ab\u30e1\u30e9\u306e\u4f4d\u7f6e\u306b\u5411\u304b\u3046\u30d9\u30af\u30c8\u30eb\u3067\u3059\uff0e"),(0,i.kt)("p",null,"$$\n\\vec{z} = \\frac{\\vec{C} - \\vec{P}}{|\\vec{C}-\\vec{P}|}\n$$"),(0,i.kt)("p",null,"\u6b21\u306b\uff0c\u30ab\u30e1\u30e9\u306e\u4e0a\u65b9\u5411\u3092\u8868\u3059\u30d9\u30af\u30c8\u30eb\u3068\u6c42\u3081\u305fZ\u65b9\u5411\u3068\u306e\u5916\u7a4d\u3092\u6c42\u3081\u307e\u3059\uff0e\u3053\u308c\u306fX\u65b9\u5411\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"$$\n\\vec{x} = \\frac{\\vec{U}\\times \\vec{z}}{|\\vec{U}\\times \\vec{z}|}\n$$"),(0,i.kt)("p",null,"\u6700\u5f8c\u306b\uff0cZ\u65b9\u5411\u3068X\u65b9\u5411\u306e\u5916\u7a4d\u3092\u6c42\u3081\u307e\u3059\uff0e\u3053\u308c\u306fY\u65b9\u5411\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"$$\n\\vec{y} = \\frac{\\vec{z}\\times \\vec{x}}{|\\vec{z}\\times \\vec{x}|}\n$$"),(0,i.kt)("p",null,"\u3053\u308c\u3067\u57fa\u5e95\u30d9\u30af\u30c8\u30eb\u304c\u63c3\u3063\u305f\u306e\u3067\uff0c\u884c\u5217\u306b\u3059\u308b\u3068"),(0,i.kt)("p",null,"$$\nM = \\left(\\begin{matrix}\nx_x & x_y & x_z & 0 \\newline\ny_x & y_y & y_z & 0 \\newline\nz_x & z_y & z_z & 0 \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n\\left(\\begin{matrix}\n1 & 0 & 0 & -t_x \\newline\n0 & 1 & 0 & -t_y \\newline\n0 & 0 & 1 & -t_z \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right) =\n\\left(\\begin{matrix}\nx_x & x_y & x_z & -\\vec{x}\\cdot \\vec{t} \\newline\ny_x & y_y & y_z & -\\vec{y}\\cdot \\vec{t} \\newline\nz_x & z_y & z_z & -\\vec{z}\\cdot \\vec{t} \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("h6",{id:"\u4f4d\u7f6e\u3068\u56de\u8ee2\u3092\u6307\u5b9a\u3059\u308b\u65b9\u5f0f"},"\u4f4d\u7f6e\u3068\u56de\u8ee2\u3092\u6307\u5b9a\u3059\u308b\u65b9\u5f0f"),(0,i.kt)("p",null,"\u30ab\u30e1\u30e9\u306e\u4f4d\u7f6e\u3068\u56de\u8ee2\u3092\u8868\u3059\u884c\u5217\u3092\u305d\u308c\u305e\u308c$T,R$\u3068\u3059\u308c\u3070\uff0c"),(0,i.kt)("p",null,"$$\n\\vec{p}' = TR\\vec{p}\n$$"),(0,i.kt)("p",null,"\u306f\u30ab\u30e1\u30e9\u5ea7\u6a19\u7cfb\u304b\u3089\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u7cfb\u306b\u5909\u63db\u3059\u308b\u5f0f\u3067\u3059\uff0e\u3053\u3053\u3067\u9006\u884c\u5217\u3092\u4f7f\u3048\u3070"),(0,i.kt)("p",null,"$$\n\\vec{p} = R^{-1}T^{-1}\\vec{p}' = (RT)^{-1}\\vec{p}'\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u3063\u3066\uff0c\u30ef\u30fc\u30eb\u30c9\u5ea7\u6a19\u7cfb\u304b\u3089\u30ab\u30e1\u30e9\u5ea7\u6a19\u7cfb\u306b\u5909\u63db\u3059\u308b\u5f0f\u3068\u306a\u308a\u307e\u3059\uff0e\u3055\u3089\u306b\uff0c\u56de\u8ee2\u884c\u5217\u306e\u9006\u884c\u5217\u306f\u8ee2\u7f6e\u884c\u5217\uff0c\u5e73\u884c\u79fb\u52d5\u306e\u9006\u884c\u5217\u306f\u7b26\u53f7\u3092\u53cd\u8ee2\u3057\u305f\u3082\u306e"),(0,i.kt)("p",null,"$$\nT = \\left(\\begin{matrix}\n1 & 0 & 0 & t_x \\newline\n0 & 1 & 0 & t_y \\newline\n0 & 0 & 1 & t_z \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right), \\quad\nT^{-1} = \\left(\\begin{matrix}\n1 & 0 & 0 & -t_x \\newline\n0 & 1 & 0 & -t_y \\newline\n0 & 0 & 1 & -t_z \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3067\u3059\u304b\u3089\uff0c"),(0,i.kt)("p",null,"$$\nR^{-1}T^{-1} =\n\\left(\\begin{matrix}\nR ","_"," {11} & R ","_"," {21} & R ","_"," {31} & 0 \\newline\nR ","_"," {12} & R ","_"," {22} & R ","_"," {32} & 0 \\newline\nR ","_"," {13} & R ","_"," {23} & R ","_"," {33} & 0 \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n\\left(\\begin{matrix}\n1 & 0 & 0 & -t_x \\newline\n0 & 1 & 0 & -t_y \\newline\n0 & 0 & 1 & -t_z \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u66f8\u304f\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\uff0e"),(0,i.kt)("h3",{id:"\u6295\u5f71\u5909\u63dbprojective-transformation"},"\u6295\u5f71\u5909\u63db\uff08projective transformation\uff09"),(0,i.kt)("p",null,"\u6295\u5f71\u5909\u63db\u306f\u3068\u3066\u3082\u91cd\u8981\u306a\u5909\u63db\u3067\u3042\u308a\uff0c\u3053\u3053\u306f\u74b0\u5883\u306b\u4f9d\u5b58\u3059\u308b\u90e8\u5206\u3067\u3082\u3042\u308a\u307e\u3059\uff0e\u6295\u5f71\u5909\u63db\u306f\u5c04\u5f71\u5909\u63db\u3068\u3082\u8a00\u308f\u308c\u307e\u3059\uff0e\u6295\u5f71\u5909\u63db\u306b\u306f\u8fd1\u304f\u306e\u3082\u306e\u304c\u5927\u304d\u304f\uff0c\u9060\u3044\u3082\u306e\u304c\u5c0f\u3055\u304f\u306a\u308b",(0,i.kt)("strong",{parentName:"p"},"\u900f\u8996\u6295\u5f71\u5909\u63db"),"\uff08perspective projection\uff09\u3068\uff0c\u5965\u884c\u304d\u306b\u3088\u3063\u3066\u5909\u63db\u3057\u306a\u3044",(0,i.kt)("strong",{parentName:"p"},"\u6b63\u6295\u5f71\u5909\u63db"),"\uff08orthogonal projection\uff09\u304c\u3042\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u6295\u5f71\u5909\u63db\u306e\u624b\u9806\u3068\u3057\u3066\u306f\uff0c\u307e\u305a\uff0c\u30ab\u30e1\u30e9\u304b\u3089\u898b\u3048\u308b\u7bc4\u56f2\u3092\u6c7a\u3081\u307e\u3059\uff0e\u5177\u4f53\u7684\u306b\u306f",(0,i.kt)("strong",{parentName:"p"},"\u524d\u65b9\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u9762"),"\uff08near clipping plane\uff09\u3068",(0,i.kt)("strong",{parentName:"p"},"\u5f8c\u65b9\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u9762"),"\uff08far clipping plane\uff09\u3068\u3044\u3046\u306e\u3092\u5c0e\u5165\u3057\uff0c\u305d\u306e\u7a7a\u9593\u5185\u306b\u5165\u3063\u3066\u3044\u308b\u3082\u306e\u3060\u3051\u304c\u6295\u5f71\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\uff0e\u3053\u306e\u9818\u57df\u3092",(0,i.kt)("strong",{parentName:"p"},"\u30d3\u30e5\u30fc\u30dc\u30ea\u30e5\u30fc\u30e0"),"\uff08view volume\uff09\u3068\u3044\u3044\uff0c\u900f\u8996\u6295\u5f71\u5909\u63db\u3067\u306f\u8996\u9310\u53f0\uff08view frustum\uff09\uff0c\u6b63\u6295\u5f71\u5909\u63db\u3067\u306f\u9577\u65b9\u4f53\u306e\u5f62\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u6b21\u306b\uff0c\u3053\u306e\u30d3\u30e5\u30fc\u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u5f8c\u65b9\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u9762\u304c$z=1$\u3067\uff0c\u3053\u306e\u3068\u304d\u306e\u30d3\u30e5\u30fc\u30dc\u30ea\u30e5\u30fc\u30e0\u306e$x,y$\u304c $-1\\leq x\\leq 1$, $-1\\leq y\\leq 1$\u3068\u306a\u308b\u3088\u3046\u306b\u6b63\u898f\u5316\u3057\u307e\u3059\uff0e\u3053\u306e\u30d3\u30e5\u30fc\u30dc\u30ea\u30e5\u30fc\u30e0\u3092",(0,i.kt)("strong",{parentName:"p"},"\u6b63\u898f\u5316\u30d3\u30e5\u30fc\u30dc\u30ea\u30e5\u30fc\u30e0"),"\u3068\u3044\u3044\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u3053\u306e\u6642\u70b9\u3067\u30d3\u30e5\u30fc\u30dc\u30ea\u30e5\u30fc\u30e0\u3082\u6b63\u898f\u5316\u30d3\u30e5\u30fc\u30dc\u30ea\u30e5\u30fc\u30e0\u3082\u307e\u3060\u30ab\u30e1\u30e9\u7a7a\u9593\u306b\u3042\u308a\u307e\u3059\u304c\uff0c\u6b63\u898f\u5316\u30d3\u30e5\u30fc\u30dc\u30ea\u30e5\u30fc\u30e0\u3092$-1\\leq z\\leq 1$\u306e\u7a7a\u9593\u306b\u5909\u63db\u3057\u307e\u3059\uff0e\u3053\u306e\u7a7a\u9593\u3092\u30af\u30ea\u30c3\u30d7\u7a7a\u9593\uff08clip space\uff09\u3068\u3044\u3044\uff0c\u3053\u306e\u7a7a\u9593\u3067\u306e\u30d3\u30e5\u30fc\u30dc\u30ea\u30e5\u30fc\u30e0\u306f",(0,i.kt)("strong",{parentName:"p"},"\u6a19\u6e96\u8996\u4f53\u7a4d"),"\uff08canonical view volume\uff09\u3068\u3044\u3044\u307e\u3059\uff0e\u3053\u306e\u3068\u304d\uff0cZ\u306f\u5965\u306e\u65b9\u5411\u304c\u6b63\u3068\u306a\u3063\u3066\u5de6\u624b\u5ea7\u6a19\u7cfb\u306b\u306a\u308a\u307e\u3059\uff0e\u3053\u306e\u30af\u30ea\u30c3\u30d7\u7a7a\u9593\u306f\uff14\u6b21\u5143\u306e\u540c\u6b21\u5ea7\u6a19\u7cfb\u306b\u306a\u3063\u3066\u3044\u3066\uff0c$x,y,z,w$\u3067\u8868\u3055\u308c\u307e\u3059\uff0e\u6295\u5f71\u5909\u63db\u306f\u30ab\u30e1\u30e9\u7a7a\u9593\u304b\u3089\u30af\u30ea\u30c3\u30d7\u7a7a\u9593\u306b\u5909\u63db\u3059\u308b\u3053\u3068\u3092\u3044\u3044\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u203bDirectX\u306a\u3069\u306fZ\u306e\u7bc4\u56f2\u304c$","[0,1]","$\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\uff0e"),(0,i.kt)("p",null,"\u30af\u30ea\u30c3\u30d7\u7a7a\u9593\u306e\u5ea7\u6a19\u3067$x,y,z$\u3092$w$\u3067\u9664\u7b97\u3059\u308b\u3053\u3068\u3092",(0,i.kt)("strong",{parentName:"p"},"\u900f\u8996\u9664\u7b97"),"\u3068\u3044\u3044\uff0c$x/w,y/w,z/w$\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u306e\u900f\u8996\u9664\u7b97\u3057\u305f\u5ea7\u6a19\u3092",(0,i.kt)("strong",{parentName:"p"},"\u6b63\u898f\u5316\u30c7\u30d0\u30a4\u30b9\u5ea7\u6a19"),"\uff08normalized device coordinate\uff09\u3068\u3044\u3044\u307e\u3059\uff0e"),(0,i.kt)("h6",{id:"\u900f\u8996\u6295\u5f71\u5909\u63db"},"\u900f\u8996\u6295\u5f71\u5909\u63db"),(0,i.kt)("p",null,"\u307e\u305a\u306f\u900f\u8996\u6295\u5f71\u5909\u63db\u304b\u3089\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff0e\u900f\u8996\u6295\u5f71\u3067\u306f\u8fd1\u3044\u307b\u3069\u5927\u304d\u304f\uff0c\u9060\u3044\u307b\u3069\u5c0f\u3055\u304f\u898b\u3048\u307e\u3059\uff0e\u6b21\u306e\u56f3\u3092\u898b\u3066\u304f\u3060\u3055\u3044\uff0e"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://storage.googleapis.com/zenn-user-upload/bcit5ohu7r2dxxg3wpg0e209kcao",alt:"1554621898018_half"})),(0,i.kt)("p",null,"\u539f\u70b9$O$\u306e\u4f4d\u7f6e\u304b\u3089\u70b9$P$\u3092\u898b\u305f\u3068\u304d\uff0c\u70b9$P$\u3092$z'=-1$\u306e\u5e73\u9762\u306b\u6295\u5f71\u3059\u308b\u3068\uff0c\u4e09\u89d2\u5f62$xoz$\u3068$x'oz'$\u306f\u76f8\u4f3c\u306e\u95a2\u4fc2\u306a\u306e\u3067"),(0,i.kt)("p",null,"$$\nx':x = z':z = -1:z, \\quad \\therefore x' = \\frac{x}{-z}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u308c\u306f$Y$\u306b\u3064\u3044\u3066\u3082\u540c\u3058\u3067\u3059\uff0e\u3088\u3063\u3066"),(0,i.kt)("p",null,"$$\nx' = x/-z, \\quad y' = y/-z\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u6b21\u306b\u6295\u5f71\u9762\u3068\u3044\u3046\u306e\u3092\u8003\u3048\u307e\u3059\uff0e\u3053\u308c\u306f\u5148\u7a0b\u306e\u6295\u5f71\u3055\u308c\u308b\u5e73\u9762\u306e\u3053\u3068\u3067\uff0c$z'=-1$\u3067\u3059\uff0e"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://storage.googleapis.com/zenn-user-upload/z1evy3ejqfpxzlhcu2awpmzi1gyp",alt:"1554623777860_half"})),(0,i.kt)("p",null,"\u307e\u305f\u8996\u91ce\u89d2\u3092$90^{\\circ}$\u3068\u3057\u307e\u3059\uff0e\u305d\u3046\u3059\u308b\u3068$z'$\u306b\u304a\u3051\u308bX\u3068Y\u306f$","[-1,1]","$\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://storage.googleapis.com/zenn-user-upload/4y7bc8hpduj1gq53peoff18032wk",alt:"1554628026091_half"})),(0,i.kt)("p",null,"\u3053\u3053\u3067\uff0c\u6700\u521d\u306e\u900f\u8996\u5909\u63db\u306e\u5f0f\u3068\uff0c\u6295\u5f71\u9762\u3092\u8003\u616e\u3057\u3066\u884c\u5217\u3067\u8868\u3059\u3068\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"$$\nM_p = \\left(\\begin{matrix}\n1 & 0 & 0 & 0 \\newline\n0 & 1 & 0 & 0 \\newline\n0 & 0 & 1 & 0 \\newline\n0 & 0 & -1 & 0 \\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3053\u306e\u884c\u5217\u3067\u9802\u70b9$p$\u3092\u5ea7\u6a19\u5909\u63db\u3059\u308b\u3068"),(0,i.kt)("p",null,"$$\np' = M_p\\cdot p = M_p \\left(\\begin{matrix}x \\newline y \\newline z \\newline 1\\end{matrix}\\right) =\n\\left(\\begin{matrix}x \\newline y \\newline z \\newline -z\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e$p ","_"," {w}'$\u3067$p ","_"," {xyz}'$\u306e\u5404\u6210\u5206\u3092\u9664\u7b97\u3059\u308c\u3070"),(0,i.kt)("p",null,"$$\n\\left(\\begin{matrix}\nx/-z \\newline y/-z \\newline -1\n\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u6b21\u306b\u6b63\u898f\u5316\u30d3\u30e5\u30fc\u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u7bc4\u56f2$","[-1,1]","$\u306b\u5024\u3092\u5909\u63db\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\u307e\u305a\u306f$Z$\u5024\u304b\u3089\u3067\u3059\u304c\uff0c\u6b21\u306e\u3088\u3046\u306a1\u6b21\u95a2\u6570\u3092\u8003\u3048\u307e\u3059\uff0e"),(0,i.kt)("p",null,"$$\np ","_"," {z}' = az+b\n$$"),(0,i.kt)("p",null,"\u3053\u306e\u884c\u5217\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"$$\nM_w = \\left(\\begin{matrix}\n1 & 0 & 0 & 0 \\newline\n0 & 1 & 0 & 0 \\newline\n0 & 0 & a & b \\newline\n0 & 0 & -1 & 0 \\end{matrix}\\right)\n\\quad\nM_w \\left(\\begin{matrix}x \\newline y \\newline z \\newline 1\\end{matrix}\\right) =\n\\left(\\begin{matrix}x \\newline y \\newline za+b \\newline -z\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u30af\u30ea\u30c3\u30d7\u5ea7\u6a19\u7cfb\u306f\u540c\u6b21\u5ea7\u6a19\u7cfb\u3067\u3059\u306e\u3067\uff0c$w$\u3067\u5404\u6210\u5206\u3092\u5272\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u900f\u8996\u6295\u5f71\u3067\u306f\u3053\u308c\u3092\u900f\u8996\u9664\u7b97\u3068\u3044\u3044\uff0c\u900f\u8996\u9664\u7b97\u3057\u305f\u5ea7\u6a19\u3092\u6b63\u898f\u5316\u30c7\u30d0\u30a4\u30b9\u5ea7\u6a19\u3068\u3044\u3044\u307e\u3059\uff0e\u3053\u3053\u3067"),(0,i.kt)("p",null,"$$\np ","_"," {w}' = -z\n$$"),(0,i.kt)("p",null,"\u3067\u3059\u304b\u3089\uff0c"),(0,i.kt)("p",null,"$$\np ","_"," {z}' = az+b = -a\\cdot p ","_"," {w}'+b\n$$"),(0,i.kt)("p",null,"\u3068\u3044\u3046\u95a2\u4fc2\u306b\u306a\u308a\u307e\u3059\uff0e\u307e\u305f\uff0c\u6b63\u898f\u5316\u30c7\u30d0\u30a4\u30b9\u5ea7\u6a19\u306e$z ","_"," {ndc}$\u306f"),(0,i.kt)("p",null,"$$\nz ","_"," {ndc} = \\frac{p ","_"," {z}'}{p ","_"," {w}'} = \\frac{-a\\cdot p ","_"," {w}'+b}{p ","_"," {w}'} = -a+\\frac{b}{p ","_"," {w}'} = -a+\\frac{b}{-z}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u3053\u3067\uff0c\u524d\u65b9\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u9762\u3068\u5f8c\u65b9\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u9762\u3092\u5c0e\u5165\u3057\u307e\u3059\uff0e"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://storage.googleapis.com/zenn-user-upload/5ccc1j6slu80pe9et8fot2rk1q5m",alt:"1554629530337_half"})),(0,i.kt)("p",null,"\u3053\u306e\u524d\u65b9\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u9762\uff08$z=n$\uff09\u306e\u3068\u304d$z ","_"," {ndc}=-1$\uff0c\u5f8c\u65b9\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u9762\uff08$z=f$\uff09\u306e\u3068\u304d$z ","_"," {ndc}=1$\u3068\u306a\u308b\u3088\u3046\u306b\uff0c$a$\u3068$b$\u3092\u6c42\u3081\u307e\u3059\uff0e"),(0,i.kt)("p",null,"$$\n-a+\\frac{b}{-n} = -1, \\quad -a+\\frac{b}{-f} = 1, \\quad \\therefore b = -f(1+a)\n$$"),(0,i.kt)("hr",null),(0,i.kt)("p",null,"$$\n\\begin{aligned}\n-a+\\frac{b}{-n} &= -1 \\newline\na &= \\frac{b}{-n}+1 = \\frac{-f(1+a)}{-n}+1 = \\frac{-f-af-n}{-n} = \\frac{f+af+n}{n} \\newline\nan &= f+af+n \\newline\nan-af &= a(n-f) = f+n \\newline\na &= \\frac{n+f}{n-f}\n\\end{aligned}\n$$"),(0,i.kt)("hr",null),(0,i.kt)("p",null,"$$\n\\begin{aligned}\nb &= -f(1+a) = -f-af \\newline\n&= -f-f\\left(\\frac{n+f}{n-f}\\right) \\newline\n&= -\\frac{nf-f^2}{n-f}-\\frac{nf+f^2}{n-f} \\newline\n&= \\frac{nf+f^2-nf-f^2}{n-f} \\newline\n&= \\frac{-2nf}{n-f}\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3088\u3063\u3066"),(0,i.kt)("p",null,"$$\n\\therefore a = \\frac{n+f}{n-f}, \\quad b = \\frac{-2nf}{n-f}\n$$"),(0,i.kt)("p",null,"\u307e\u305f\uff0c"),(0,i.kt)("p",null,"$$\np ","_"," {z}' = az+b = \\frac{n+f}{n-f}z + \\frac{-2nf}{n-f}\n$$"),(0,i.kt)("p",null,"\u884c\u5217\u306b\u66f8\u304d\u76f4\u305b\u3070"),(0,i.kt)("p",null,"$$\nM_w = \\left(\\begin{matrix}\n1 & 0 & 0 & 0 \\newline\n0 & 1 & 0 & 0 \\newline\n0 & 0 & \\frac{n+f}{n-f} & \\frac{-2nf}{n-f} \\newline\n0 & 0 & -1 & 0 \\end{matrix}\\right)\n\\quad\nM_w \\left(\\begin{matrix}x \\newline y \\newline z \\newline 1\\end{matrix}\\right) =\n\\left(\\begin{matrix}x \\newline y \\newline z\\frac{n+f}{n-f}+\\frac{-2nf}{n-f} \\newline -z\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u3053\u3067\uff0c$n=-1, f=-5$\u3068\u3057\u305f\u3068\u304d\u306e\u56f3\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\uff0e"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://storage.googleapis.com/zenn-user-upload/47h8ky78l55xbyttnebzwf9oje26",alt:"1554748535650_resize"})),(0,i.kt)("p",null,"\u3053\u306e\u56f3\u3067\u306f\u6a2a\u8ef8\u304c$z$\uff0c\u7e26\u8ef8\u304c$z ","_"," {ndc}$\u3067\u3059\uff0e$z=-1$\u306e\u3068\u304d$z ","_"," {ndc}=-1$\uff0c$z=-5$\u306e\u3068\u304d$z ","_"," {ndc}=1$\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u304c\u308f\u304b\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u6b21\u306b$l,r,t,b$\u3092$","[-1,1]","$\u306b\u53ce\u307e\u308b\u3088\u3046\u306b\u62e1\u5927\u30fb\u7e2e\u5c0f\u3057\u307e\u3059\uff0e$z=-1$\u306e\u3068\u304d$-1,1$\uff0c$z=-n$\u306e\u3068\u304d$l,r$\u307e\u305f\u306f$t,b$\u3067\u3059\u304b\u3089\uff0c\u76f8\u4f3c\u306e\u95a2\u4fc2\u304b\u3089"),(0,i.kt)("p",null,"$$\n\\frac{1-(-1)}{-1}/\\frac{r-l}{n} = \\frac{-2n}{r-l}, \\quad\n\\frac{1-(-1)}{-1}/\\frac{t-b}{n} = \\frac{-2n}{t-b}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u308c\u3092\u884c\u5217\u8868\u8a18\u3059\u308b\u3068"),(0,i.kt)("p",null,"$$\nM_s = \\left(\\begin{matrix}\n\\frac{-2n}{r-l} & 0 & 0 & 0 \\newline\n0 & \\frac{-2n}{t-b} & 0 & 0 \\newline\n0 & 0 & 1 & 0 \\newline\n0 & 0 & 0 & 1 \\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3042\u3068\u306f\uff0c\u3053\u308c\u307e\u3067Z\u8ef8\u304c\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u9762\u306e\u4e2d\u5fc3\u3092\u901a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3057\u305f\uff0e\u3053\u308c\u304c\u305a\u308c\u3066\u3044\u308b\u5834\u5408\u306b\u5bfe\u51e6\u3057\u307e\u3059\uff0e\u305d\u306e\u305f\u3081\u306b\u305b\u3093\u65ad\u3092\u4f7f\u3044\u307e\u3059\uff0e\u524d\u65b9\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u9762\u3067\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u5206\u3092Z\u8ef8\u306e\u5024\u306b\u3088\u3063\u3066\u5909\u5316\u3055\u305b\u3066\u305a\u3089\u3057\u307e\u3059\uff0e\u3053\u306e\u884c\u5217\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"$$\nM ","_"," {sh} = \\left(\\begin{matrix}\n1 & 0 & -\\frac{r+l}{2}\\frac{1}{n} & 0 \\newline\n0 & 1 & -\\frac{t+b}{2}\\frac{1}{n} & 0 \\newline\n0 & 0 & 1 & 0 \\newline\n0 & 0 & 0 & 1 \\end{matrix}\\right)\n\\quad\nM ","_"," {sh} \\left(\\begin{matrix}x \\newline y \\newline z \\newline 1\\end{matrix}\\right) =\n\\left(\\begin{matrix}x-\\frac{r+l}{2}\\frac{z}{n} \\newline y-\\frac{t+b}{2}\\frac{z}{n} \\newline z \\newline 1\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u6700\u7d42\u7684\u306b\u900f\u8996\u6295\u5f71\u5909\u63db\u306f"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\nM_p = M_w M_s M ","_"," {sh} &=\n\\left(\\begin{matrix}\n1 & 0 & 0 & 0 \\newline\n0 & 1 & 0 & 0 \\newline\n0 & 0 & \\frac{n+f}{n-f} & \\frac{-2nf}{n-f} \\newline\n0 & 0 & -1 & 0 \\end{matrix}\\right)\n\\left(\\begin{matrix}\n\\frac{-2n}{r-l} & 0 & 0 & 0 \\newline\n0 & \\frac{-2n}{t-b} & 0 & 0 \\newline\n0 & 0 & 1 & 0 \\newline\n0 & 0 & 0 & 1 \\end{matrix}\\right)\n\\left(\\begin{matrix}\n1 & 0 & -\\frac{r+l}{2}\\frac{1}{n} & 0 \\newline\n0 & 1 & -\\frac{t+b}{2}\\frac{1}{n} & 0 \\newline\n0 & 0 & 1 & 0 \\newline\n0 & 0 & 0 & 1 \\end{matrix}\\right) \\newline\n&=\n\\left(\\begin{matrix}\n\\frac{-2n}{r-l} & 0 & \\frac{r+l}{r-l} & 0 \\newline\n0 & \\frac{-2n}{t-b} & \\frac{t+b}{t-b} & 0 \\newline\n0 & 0 & \\frac{n+f}{n-f} & \\frac{-2nf}{n-f} \\newline\n0 & 0 & -1 & 0\n\\end{matrix}\\right)\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u3053\u306e\u65b9\u6cd5\u306f\u6c4e\u7528\u6027\u304c\u9ad8\u3044\u3082\u306e\u306e\u6271\u3044\u3065\u3089\u3044\u305f\u3081\uff0c\u5b9f\u969b\u306b\u306f\u753b\u89d2\u3068\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u4f7f\u3063\u305f\u65b9\u6cd5\u304c\u3088\u304f\u4f7f\u308f\u308c\u307e\u3059\uff0e\u753b\u89d2\u3092fovy\uff0c\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092aspect(=\u5e45/\u9ad8\u3055)\u3068\u3059\u308c\u3070"),(0,i.kt)("p",null,"$$\nM_p = \\left(\\begin{matrix}\n\\frac{f}{aspect} & 0 & 0 & 0 \\newline\n0 & f & 0 & 0 \\newline\n0 & 0 & \\frac{n+f}{n-f} & \\frac{-2nf}{n-f} \\newline\n0 & 0 & -1 & 0\n\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3053\u3053\u3067"),(0,i.kt)("p",null,"$$\nf = \\frac{1}{\\tan\\left(\\frac{fovy}{2}\\right)} = \\cot\\left(\\frac{fovy}{2}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u3063\u3066\u3044\u307e\u3059\uff0e"),(0,i.kt)("h6",{id:"\u6b63\u6295\u5f71\u5909\u63db"},"\u6b63\u6295\u5f71\u5909\u63db"),(0,i.kt)("p",null,"\u900f\u8996\u6295\u5f71\u5909\u63db\u306e\u3068\u304d\u306f\u5965\u884c\u304d\u306b\u3088\u3063\u3066\u898b\u3048\u65b9\u304c\u5909\u308f\u3089\u306a\u3044\u306e\u3067\uff0c$w$\u306b\u3088\u308b\u900f\u8996\u9664\u7b97\u304c\u3042\u308a\u307e\u305b\u3093\uff0e\u6b63\u6295\u5f71\u5909\u63db\u3067\u306f\uff0c\u30d3\u30e5\u30fc\u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u4e2d\u5fc3\u3092\u539f\u70b9\u306b\u6301\u3063\u3066\u304d\u3066\uff0c\u5927\u304d\u3055\u3092\u6b63\u898f\u5316\u3059\u308b\u3060\u3051\u3067\u3059\uff0e\u307e\u305a\u306f\u30d3\u30e5\u30fc\u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u4e2d\u5fc3\u3092\u539f\u70b9\u306b\u3059\u308b\u5e73\u884c\u79fb\u52d5\u3092\u6c42\u3081\u307e\u3059\uff0e\u3053\u308c\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"$$\nM_t = \\left(\\begin{matrix}\n1 & 0 & 0 & -\\frac{r+l}{2} \\newline\n0 & 1 & 0 & -\\frac{t+b}{2} \\newline\n0 & 0 & 1 & -\\frac{f+n}{2} \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u5404\u8ef8\u3067\u306e\u4e2d\u5fc3\u3092\u6c42\u3081\u3066\u79fb\u52d5\u3057\u3066\u3044\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u6b21\u306b\u6b63\u898f\u5316\u3067\u3059\uff0e\u5404\u8ef8\u304c\u305d\u308c\u305e\u308c$","[-1,1]","$\u306e\u7bc4\u56f2\u306b\u306a\u308b\u3088\u3046\u306b\u3057\u307e\u3059\uff0e\u3053\u308c\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"$$\nM_s = \\left(\\begin{matrix}\n\\frac{2}{r-l} & 0 & 0 & 0 \\newline\n0 & \\frac{2}{t-b} & 0 & 0 \\newline\n0 & 0 & \\frac{2}{f-n} & 0 \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3088\u3063\u3066\uff0c\u6b63\u6295\u5f71\u5909\u63db\u306e\u884c\u5217\u306f"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\nM_o = M_s M_t &=\n\\left(\\begin{matrix}\n\\frac{2}{r-l} & 0 & 0 & 0 \\newline\n0 & \\frac{2}{t-b} & 0 & 0 \\newline\n0 & 0 & \\frac{2}{f-n} & 0 \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n\\left(\\begin{matrix}\n1 & 0 & 0 & -\\frac{r+l}{2} \\newline\n0 & 1 & 0 & -\\frac{t+b}{2} \\newline\n0 & 0 & 1 & -\\frac{f+n}{2} \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right) \\newline &=\n\\left(\\begin{matrix}\n\\frac{2}{r-l} & 0 & 0 & -\\frac{r+l}{r-l} \\newline\n0 & \\frac{2}{t-b} & 0 & -\\frac{t+b}{t-b} \\newline\n0 & 0 & \\frac{2}{f-n} & -\\frac{f+n}{f-n} \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u6b21\u306e\u56f3\u306f\u6b63\u6295\u5f71\u5909\u63db\u306b\u304a\u3044\u3066$n=-1,f=-5$\u306e\u3068\u304d\u306e\u30b0\u30e9\u30d5\u3067\u3059\uff0e"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://storage.googleapis.com/zenn-user-upload/eyt3mgh0t247bmc635mjowqvd8h6",alt:"1554826933051_resize"})),(0,i.kt)("h3",{id:"opengl\u306e\u6295\u5f71\u95a2\u6570"},"OpenGL\u306e\u6295\u5f71\u95a2\u6570"),(0,i.kt)("p",null,"OpenGL\u306b\u306f\u6295\u5f71\u5909\u63db\u884c\u5217\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u308c\u308b\u95a2\u6570\u304c\u3042\u308a\u307e\u3059\uff0e",(0,i.kt)("inlineCode",{parentName:"p"},"glFrustum"),"\u95a2\u6570\u306f\u524d\u65b9\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u9762\u306e\u5de6\u53f3\u4e0a\u4e0b\u306e\u5ea7\u6a19$l,r,t,b$\u3068Z\u8ef8\u306e\u8ddd\u96e2$n$\uff0c\u304a\u3088\u3073\u9060\u65b9\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u9762\u306eZ\u8ef8\u306e\u8ddd\u96e2$f$\u3092\u6307\u5b9a\u3057\u3066\uff0c\u900f\u8996\u6295\u5f71\u5909\u63db\u884c\u5217\u3092\u8a2d\u5b9a\u3057\u307e\u3059\uff0e",(0,i.kt)("inlineCode",{parentName:"p"},"gluPerspective"),"\u95a2\u6570\u306f\u8996\u91ce\u89d2(fovy)\u3068\u30a2\u30b9\u30da\u30af\u30c8\u6bd4(aspect)\uff0c\u524d\u65b9\u30fb\u5f8c\u65b9\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u9762\u306eZ\u8ef8\u306e\u8ddd\u96e2$n,f$\u3092\u6307\u5b9a\u3057\u3066\uff0c\u900f\u8996\u6295\u5f71\u5909\u63db\u884c\u5217\u3092\u8a2d\u5b9a\u3057\u307e\u3059\uff0e",(0,i.kt)("inlineCode",{parentName:"p"},"glOrtho"),"\u95a2\u6570\u306f\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u9762\u306e\u5de6\u53f3\u4e0a\u4e0b\u306e\u5ea7\u6a19$l,r,t,b$\u3068\u524d\u65b9\u30fb\u5f8c\u65b9\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u9762\u306eZ\u8ef8\u306e\u8ddd\u96e2$n,f$\u3092\u6307\u5b9a\u3057\u3066\u6b63\u6295\u5f71\u884c\u5217\u3092\u8a2d\u5b9a\u3057\u307e\u3059\uff0e\u3053\u308c\u3089\u306e\u95a2\u6570\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u306f\u884c\u5217\u306e\u5404\u8981\u7d20\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\uff0e\u305d\u306e\u884c\u5217\u3068\uff0c\u3053\u308c\u307e\u3067\u5c0e\u51fa\u3057\u3066\u304d\u305f\u884c\u5217\u3068\u6bd4\u8f03\u3057\u3066\u307f\u308b\u3068\u3044\u304f\u3064\u304b\u7b26\u53f7\u304c\u9055\u3063\u3066\u3044\u308b\u3068\u3053\u308d\u304c\u3042\u308a\u307e\u3059\uff0e\u3053\u308c\u306f\uff0cOpenGL\u306e\u95a2\u6570\u3067\u306f$n,f$\u3092\u6b63\u306e\u5024\uff0c\u5c0e\u51fa\u3057\u305f\u884c\u5217\u306e$n,f$\u306f\u8ca0\u306e\u5024\u3060\u304b\u3089\u3067\u3059\uff0e\u305d\u306e\u305f\u3081\uff0c\u5c0e\u51fa\u3057\u305f\u884c\u5217\u3092OpenGL\u306e\u95a2\u6570\u306e\u884c\u5217\u3068\u540c\u3058\u306b\u3059\u308b\u306b\u306f$n,f$\u306e\u7b26\u53f7\u3092\u53cd\u8ee2\u3059\u308c\u3070\u3088\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u3088\u3063\u3066\uff0c\u305d\u308c\u305e\u308c\u306e\u884c\u5217\u306f"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\nM ","_"," {frustum} &=\n\\left(\\begin{matrix}\n\\frac{-2(-n)}{r-l} & 0 & \\frac{r+l}{r-l} & 0 \\newline\n0 & \\frac{-2(-n)}{t-b} & \\frac{t+b}{t-b} & 0 \\newline\n0 & 0 & \\frac{(-n)+(-f)}{(-n)-(-f)} & \\frac{-2(-n)(-f)}{(-n)-(-f)} \\newline\n0 & 0 & -1 & 0\n\\end{matrix}\\right) =\n\\left(\\begin{matrix}\n\\frac{2n}{r-l} & 0 & \\frac{r+l}{r-l} & 0 \\newline\n0 & \\frac{2n}{t-b} & \\frac{t+b}{t-b} & 0 \\newline\n0 & 0 & -\\frac{f+n}{f-n} & \\frac{-2nf}{f-n} \\newline\n0 & 0 & -1 & 0\n\\end{matrix}\\right) \\newline\nM ","_"," {perspective} &=\n\\left(\\begin{matrix}\n\\frac{f}{aspect} & 0 & 0 & 0 \\newline\n0 & f & 0 & 0 \\newline\n0 & 0 & \\frac{(-n)+(-f)}{(-n)-(-f)} & \\frac{-2(-n)(-f)}{(-n)-(-f)} \\newline\n0 & 0 & -1 & 0\n\\end{matrix}\\right) =\n\\left(\\begin{matrix}\n\\frac{f}{aspect} & 0 & 0 & 0 \\newline\n0 & f & 0 & 0 \\newline\n0 & 0 & -\\frac{f+n}{f-n} & \\frac{-2nf}{f-n} \\newline\n0 & 0 & -1 & 0\n\\end{matrix}\\right) \\newline\nM ","_"," {ortho} &=\n\\left(\\begin{matrix}\n\\frac{2}{r-l} & 0 & 0 & -\\frac{r+l}{r-l} \\newline\n0 & \\frac{2}{t-b} & 0 & -\\frac{t+b}{t-b} \\newline\n0 & 0 & \\frac{2}{(-f)-(-n)} & -\\frac{(-f)+(-n)}{(-f)-(-n)} \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right) =\n\\left(\\begin{matrix}\n\\frac{2}{r-l} & 0 & 0 & -\\frac{r+l}{r-l} \\newline\n0 & \\frac{2}{t-b} & 0 & -\\frac{t+b}{t-b} \\newline\n0 & 0 & \\frac{2}{n-f} & -\\frac{f+n}{f-n} \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right)\n\\end{aligned}\n$$"),(0,i.kt)("h3",{id:"\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u5909\u63dbviewport-transformation"},"\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u5909\u63db\uff08viewport transformation\uff09"),(0,i.kt)("p",null,"\u6295\u5f71\u5909\u63db\u306b\u3088\u3063\u3066\u30af\u30ea\u30c3\u30d7\u7a7a\u9593\u306b\u5909\u63db\u3055\u308c\u305f\u5ea7\u6a19\u306f\u900f\u8996\u9664\u7b97\u3059\u308b\u3053\u3068\u3067\u6b63\u898f\u5316\u30c7\u30d0\u30a4\u30b9\u5ea7\u6a19\u306b\u5909\u63db\u3055\u308c\u307e\u3059\uff0e"),(0,i.kt)("p",null,"$$\n\\vec{p} ","_"," {ndc} = \\left(\\begin{matrix}x/w \\newline y/w \\newline z/w\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3053\u306e\u6b63\u898f\u5316\u30c7\u30d0\u30a4\u30b9\u5ea7\u6a19\u7cfb\u306fXYZ\u3068\u3082\u306b$-1$\u304b\u3089$1$\u306e\u7bc4\u56f2\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\u3053\u308c\u3092\u753b\u9762\u306b\u8868\u793a\u3059\u308b\u305f\u3081\u306b\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u5909\u63db\u3092\u3057\u307e\u3059\uff0e\u753b\u9762\u306e\u3053\u3068\u3092\u30a6\u30a3\u30f3\u30c9\u30a6\u3068\u304b\u30b9\u30af\u30ea\u30fc\u30f3\u3068\u3044\u3046\u306e\u3067\uff0c\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u5909\u63db\u5f8c\u3092\u30a6\u30a3\u30f3\u30c9\u30a6\u5ea7\u6a19\u7cfb\u3084\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u7cfb\u3068\u3082\u3044\u3044\u307e\u3059\uff0e\u307e\u305f\uff0c\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u5909\u63db\u3092\u30b9\u30af\u30ea\u30fc\u30f3\u5ea7\u6a19\u5909\u63db\u3068\u3044\u3046\u3053\u3068\u3082\u3042\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u5909\u63db\u3067\u306f\u30b9\u30af\u30ea\u30fc\u30f3\u306b\u8868\u793a\u3059\u308b\u9818\u57df\u3068\u4f4d\u7f6e\u3092\u6307\u5b9a\u3057\u307e\u3059\uff0e\u3053\u3053\u3067\uff0c\u30b9\u30af\u30ea\u30fc\u30f3\u306e\u5e45\u3092$w$\uff0c\u9ad8\u3055\u3092$h$\uff0c\u59cb\u70b9\u3092$ox,oy$\u3068\u304a\u304f\u3068\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u5909\u63db\u306f"),(0,i.kt)("p",null,"$$\nM_v = \\left(\\begin{matrix}\n\\frac{w}{2} & 0 & 0 & \\frac{w}{2}+ox \\newline\n0 & -\\frac{h}{2} & 0 & \\frac{h}{2}+oy \\newline\n0 & 0 & \\frac{f-n}{2} & \\frac{f+n}{2} \\newline\n0 & 0 & 0 & 1\n\\end{matrix}\\right),\n\\quad\nM_v \\vec{p} ","_"," {ndc} = \\left(\\begin{matrix}\nx \\frac{w}{2} + \\frac{w}{2} + ox \\newline\n-y \\frac{h}{2} + \\frac{h}{2} + oy \\newline\nz \\frac{f-n}{2} + \\frac{f+n}{2} \\newline\n1\n\\end{matrix}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e$Y$\u304c\u53cd\u8ee2\u3057\u3066\u3044\u308b\u306e\u306f\u6b63\u898f\u5316\u30c7\u30d0\u30a4\u30b9\u5ea7\u6a19\u7cfb\u3067\u306fY\u8ef8\u306e\u4e0a\u304c\u6b63\u306b\u5bfe\u3057\u3066\uff0c\u30b9\u30af\u30ea\u30fc\u30f3\u3067\u306f\u5de6\u4e0a\u304c\u539f\u70b9\u3067\u3042\u308aY\u8ef8\u306f\u4e0b\u304c\u6b63\u3060\u304b\u3089\u3067\u3059\uff0e$Z$\u306f$","[n,f]","$\u306e\u9593\u306b\u306a\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\uff0e\u901a\u5e38\u306f$n=0,f=1$\u3067\u3059\uff0e"),(0,i.kt)("h3",{id:"\u4e00\u822c\u7684\u306a\u9802\u70b9\u30c7\u30fc\u30bf\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3"},"\u4e00\u822c\u7684\u306a\u9802\u70b9\u30c7\u30fc\u30bf\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3"),(0,i.kt)("p",null,"\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u4e3b\u8981\u306a\u5ea7\u6a19\u5909\u63db\u3092\u4e00\u901a\u308a\u898b\u3066\u304d\u307e\u3057\u305f\uff0e\u4e00\u822c\u7684\u306b\u9802\u70b9\u30c7\u30fc\u30bf\u304c\u3069\u306e\u3088\u3046\u306a\u5ea7\u6a19\u5909\u63db\u304c\u9069\u7528\u3055\u308c\u3066\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u308b\u304b\u3092\u56f3\u306b\u3057\u3066\u307f\u307e\u3057\u305f\uff0e"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://storage.googleapis.com/zenn-user-upload/3yhvqigxx4oyb3rghqd525t7r3rr",alt:"1554646680440"})),(0,i.kt)("p",null,"\u5b9f\u969b\u306f\u74b0\u5883\u306b\u3088\u3063\u3066\u5909\u308f\u308b\u5834\u5408\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u306e\u3067\uff0c\u3053\u306e\u8fba\u308a\u89e6\u308c\u308b\u6a5f\u4f1a\u304c\u3042\u308c\u3070\uff0c\u305d\u306e\u74b0\u5883\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff0e"),(0,i.kt)("h2",{id:"\u304a\u308f\u308a\u306b"},"\u304a\u308f\u308a\u306b"),(0,i.kt)("p",null,"\u7c21\u5358\u306b\u307e\u3068\u3081\u308b\u3064\u3082\u308a\u304c\uff0c\u306a\u3093\u304b\u601d\u3063\u3066\u3044\u305f\u4ee5\u4e0a\u306b\u9577\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u6c17\u304c\u3057\u307e\u3059\u306d\uff0e\u307e\u305f\uff0c\u8aac\u660e\u304c\u307e\u3060\u4e0a\u624b\u304f\u51fa\u6765\u3066\u3044\u306a\u3044\u3068\u3053\u308d\u304c\u591a\u3005\u3042\u308b\u306e\u3067\u53cd\u7701\uff0e\u610f\u898b\u3084\u611f\u60f3\uff0c\u9593\u9055\u3044\u306e\u6307\u6458\u306a\u3069\u53d7\u3051\u4ed8\u3051\u3066\u3044\u307e\u3059\u306e\u3067\uff0c\u306a\u306b\u304b\u3042\u308c\u3070\u3088\u308d\u3057\u304f\u304a\u306d\u304c\u3044\u3057\u307e\u3059\uff0e\u307e\u305f\uff0c\u5c11\u3057\u3067\u3082\u53c2\u8003\u306b\u306a\u308c\u3070\u5e78\u3044\u3067\u3059\uff0e"),(0,i.kt)("h2",{id:"\u4ed8\u9332-athreejs\u306e\u6df1\u5ea6\u306e\u95a2\u6570"},"\u4ed8\u9332 A\uff1aThree.js\u306e\u6df1\u5ea6\u306e\u95a2\u6570"),(0,i.kt)("p",null,"Three.js\u306e\u30b7\u30a7\u30fc\u30c0\u30b3\u30fc\u30c9\u306b\u306f\u6df1\u5ea6\u3068Z\u5024\u3092\u5909\u63db\u3059\u308b\u4ee5\u4e0b\u306e\u95a2\u6570\u304c\u3042\u308a\u307e\u3059\uff0e"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"viewZToOrthographicDepth"),(0,i.kt)("li",{parentName:"ul"},"orthographicDepthToViewZ"),(0,i.kt)("li",{parentName:"ul"},"viewZToPerspectiveDepth"),(0,i.kt)("li",{parentName:"ul"},"perspectiveDepthToViewZ")),(0,i.kt)("p",null,"\u4f8b\u3048\u3070\uff0c\u6df1\u5ea6\u306e\u5024\u304b\u3089\u30ab\u30e1\u30e9\u5ea7\u6a19\u7cfb\u3067\u306eZ\u5024\u3092\u6c42\u3081\u308c\u3070\uff0c\u30b9\u30af\u30ea\u30fc\u30f3\u306e\u5ea7\u6a19\u304b\u3089\u30ab\u30e1\u30e9\u5ea7\u6a19\u7cfb\u3067\u306e\u5ea7\u6a19(XYZ)\u3092\u6c42\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff0e\u307e\u305f\uff0c\u900f\u8996\u5909\u63db\u306e\u5834\u5408\u306f\u4e00\u822c\u7684\u306b\u6df1\u5ea6\u306e\u5024\u304c\u7dda\u5f62\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u305f\u3081\uff0c\u7dda\u5f62\u306b\u5909\u63db\u3057\u3066\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\uff0e\u3053\u308c\u3089\u306e\u95a2\u6570\u306e\u30b3\u30fc\u30c9\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-glsl"},"float viewZToOrthographicDepth(float viewZ, float near, float far) \n{\n  return (viewZ + near) / (near - far);\n}\n\nfloat orthographicDepthToViewZ(float linearClipZ, float near, float far)\n{\n    return linearClipZ * (near - far) - near;\n}\n\nfloat viewZToPerspectiveDepth(float viewZ, float near, float far)\n{\n    return ((near + viewZ) * far) / ((far - near) * viewZ);\n}\n\nfloat perspectiveDepthToViewZ(float invClipZ, float near, float far) \n{\n  return (near * far) / ((far - near) * invClipZ - far);\n}\n")),(0,i.kt)("p",null,"\u6700\u521d\u306b\uff0c",(0,i.kt)("strong",{parentName:"p"},"perspectiveDepthToViewZ"),"\u304b\u3089\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff0e\u3053\u308c\u3092\u6570\u5f0f\u3067\u8868\u3059\u3068"),(0,i.kt)("p",null,"$$\nviewZ = \\frac{nf}{(f-n)\\times invClipZ-f}\n\\tag{1}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u307e\u305a\uff0c\u3053\u308c\u3089\u306e\u95a2\u6570\u306e",(0,i.kt)("strong",{parentName:"p"},"n"),"\u3068",(0,i.kt)("strong",{parentName:"p"},"f"),"\u306f\u6b63\u306e\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059\uff0e\u3088\u3063\u3066\uff0c\u900f\u8996\u6295\u5f71\u306e\u5f0f\u306f"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\np ","_"," {z}' &= az+b = \\frac{n+f}{n-f}z + \\frac{-2nf}{f-n} \\newline\na &= \\frac{n+f}{n-f} \\newline\nb &= \\frac{-2nf}{f-n}\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3067\u3059\uff0e\u307e\u305f\uff0c\u6b63\u898f\u5316\u30c7\u30d0\u30a4\u30b9\u5ea7\u6a19\u306e$z ","_"," {ndc}$\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("p",null,"$$\nz ","_"," {ndc} = \\frac{p ","_"," {z}'}{p ","_"," {w}'} = \\frac{1}{-z}\\left(\\frac{n+f}{n-f}z + \\frac{-2nf}{f-n}\\right)\n\\tag{2}\n$$"),(0,i.kt)("p",null,"\u6b63\u898f\u5316\u30c7\u30d0\u30a4\u30b9\u5ea7\u6a19\u3067\u306f$","[-1,1]","$\u306e\u7bc4\u56f2\u306b\u306a\u308a\u307e\u3059\u304c\uff0c\u4e00\u822c\u7684\u306b\u6df1\u5ea6\u30d0\u30c3\u30d5\u30a1\u306b\u683c\u7d0d\u3055\u308c\u308b\u6df1\u5ea6\u5024$depth$\u306f$","[0,1]","$\u306e\u7bc4\u56f2\u306b\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u5909\u63db\u3055\u308c\u307e\u3059\uff0e\u3088\u3063\u3066"),(0,i.kt)("p",null,"$$\ndepth = \\frac{z ","_"," {ndc}}{2}+\\frac{1}{2}, \\qquad \\therefore z ","_"," {ndc} = 2\\cdot depth - 1\n$$"),(0,i.kt)("p",null,"\u3053\u308c\u3092\u5f0f\uff08\uff12\uff09\u306b\u4ee3\u5165\u3059\u308b\u3068"),(0,i.kt)("p",null,"$$\n2\\cdot depth - 1 = \\frac{1}{-z}\\left(\\frac{n+f}{n-f}z + \\frac{-2nf}{f-n}\\right)\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e$z$\u306b\u3064\u3044\u3066\u89e3\u304f\u3068"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\n2\\cdot depth - 1 &= \\frac{1}{-z}\\left(\\frac{n+f}{n-f}z + \\frac{-2nf}{f-n}\\right) \\newline\n&= -\\frac{n+f}{n-f}+\\frac{-2nf}{f-n}(-z) \\newline\n2\\cdot depth &= \\frac{f+n}{f-n} + \\frac{2nf}{(f-n)z} + 1 \\newline\n&= \\frac{(f+n)z}{(f-n)z} + \\frac{2nf}{(f-n)z} + \\frac{(f-n)z}{(f-n)z} \\newline\n&= \\frac{fz + nz + 2nf + fz - nz}{(f-n)z} \\newline\n&= \\frac{2fz + 2nf}{(f-z)n} \\newline\ndepth &= \\frac{fz+nf}{(f-n)z} \\qquad \\qquad \\text{\\color{blue}(3)} \\newline\n&= \\frac{fz}{(f-n)z} + \\frac{fn}{(f-n)z} = \\frac{f}{f-n} + \\frac{fn}{(f-n)z} \\newline\n\\frac{nf}{(f-n)z} &= depth - \\frac{f}{f-n} \\newline\n\\frac{nf}{(f-n)z} &= \\frac{(f-n)\\cdot depth}{f-n} - \\frac{f}{f-n} = \\frac{(f-n)\\cdot depth-f}{f-n} \\newline\n\\frac{(f-n)z}{nf} &= \\frac{f-n}{(f-n)\\cdot depth-f} \\newline\n(f-n)z &= \\frac{(f-n)nf}{(f-n)\\cdot depth-f} \\newline\nz &= \\frac{nf}{(f-n)\\cdot depth-f} \\qquad \\qquad \\text{\\color{blue}(4)}\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3053\u3053\u3067\u5f0f\uff08\uff11\uff09\u3068\u6bd4\u3079\u308b\u3068"),(0,i.kt)("p",null,"$$\nviewZ = \\frac{nf}{(f-n)\\times invClipZ-f}\n$$"),(0,i.kt)("p",null,"\u4e00\u81f4\u3057\u3066\u3044\u307e\u3059\u306d\uff0e\u3088\u3063\u3066\uff0c",(0,i.kt)("strong",{parentName:"p"},"invClipZ"),"\u306b\u306f",(0,i.kt)("strong",{parentName:"p"},"depth"),"\u3092\u6e21\u305b\u3070\u3044\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u305d\u3057\u3066\uff0c",(0,i.kt)("strong",{parentName:"p"},"perspectiveDepthToViewZ"),"\u306e\u9006\u95a2\u6570",(0,i.kt)("strong",{parentName:"p"},"viewZToPerspectiveDepth"),"\u306f",(0,i.kt)("strong",{parentName:"p"},"depth"),"\u306b\u3064\u3044\u3066\u89e3\u3051\u3070\u5f0f\u304c\u5f97\u3089\u308c\u307e\u3059\uff0e\u5f0f\uff08\uff13\uff09\u304b\u3089"),(0,i.kt)("p",null,"$$\ndepth = \\frac{fz+nf}{(f-n)z} = \\frac{(n+z)f}{(f-n)z}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u3063\u3066\uff0c",(0,i.kt)("strong",{parentName:"p"},"viewZToPerspectiveDepth"),"\u306e\u5b9f\u88c5\u3068\u540c\u3058\u5f0f\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\uff0e\u4eca\u5ea6\u306f",(0,i.kt)("strong",{parentName:"p"},"orthographicDepthToViewZ"),"\u3092\u898b\u3066\u307f\u308b\u3068"),(0,i.kt)("p",null,"$$\nviewZ = linearClipZ * (n-f) - n\n\\tag{5}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\u3053\u3061\u3089\u3082$n$\u3068$f$\u306f\u6b63\u306e\u5024\u306a\u306e\u3067"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\np ","_"," {z}' &= az+b = \\frac{2}{n-f}z + \\frac{n+f}{n-f} \\newline\na &= \\frac{2}{n-f} \\newline\nb &= \\frac{n+f}{n-f}\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u6b63\u898f\u5316\u30c7\u30d0\u30a4\u30b9\u5ea7\u6a19\u306e$z ","_"," {ndc}$\u306f"),(0,i.kt)("p",null,"$$\nz ","_"," {ndc} = \\frac{p ","_"," {z}'}{p ","_"," {w}'} = \\frac{p ","_"," {z}'}{1} = p ","_"," {z}'\n\\tag{6}\n$$"),(0,i.kt)("p",null,"\u6df1\u5ea6\u5024$depth$\u306f"),(0,i.kt)("p",null,"$$\ndepth = \\frac{z ","_"," {ndc}}{2}+\\frac{1}{2}, \\qquad \\therefore z ","_"," {ndc} = 2\\cdot depth - 1\n$$"),(0,i.kt)("p",null,"\u3053\u308c\u3089\u306e\u5f0f\u304b\u3089"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\n2\\cdot depth - 1 &= \\frac{2}{n-f}z + \\frac{n+f}{n-f} \\newline\n\\frac{2}{n-f}z &= 2\\cdot depth - 1 - \\frac{n+f}{n-f} \\newline\n&= \\frac{2\\cdot depth\\cdot (n-f)}{n-f} - \\frac{n-f}{n-f} - \\frac{n+f}{n-f} \\newline\n&= \\frac{2\\cdot depth\\cdot (n-f)-n+f-n-f}{n-f} = \\frac{2\\cdot depth\\cdot (n-f)-2n}{n-f} \\newline\n2z &= 2\\cdot depth\\cdot (n-f)-2n \\newline\nz &= depth\\cdot (n-f)-n \\qquad \\qquad \\text{\\color{blue}(7)}\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3053\u308c\u306f\u5f0f\uff08\uff15\uff09\u3068\u4e00\u81f4\u3057\u307e\u3059\uff0e\u307e\u305f\uff0c",(0,i.kt)("strong",{parentName:"p"},"orthographicDepthToViewZ"),"\u306e\u9006\u95a2\u6570",(0,i.kt)("strong",{parentName:"p"},"viewZToOrthographicDepth"),"\u306f"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\ndepth\\cdot(n-f)-n &= z \\newline\ndepth\\cdot(n-f) &= z+n \\newline\ndepth &= \\frac{z+n}{n-f}\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e"),(0,i.kt)("h3",{id:"\u7dda\u5f62\u30ea\u30cb\u30a2\u6df1\u5ea6"},"\u7dda\u5f62\uff08\u30ea\u30cb\u30a2\uff09\u6df1\u5ea6"),(0,i.kt)("p",null,"\u4e00\u822c\u7684\u306b\u900f\u8996\u6295\u5f71\u306e\u6df1\u5ea6\u306f\u7dda\u5f62\u3067\u306f\u3042\u308a\u307e\u305b\u3093\uff0e\u3053\u308c\u3060\u3068\u6271\u3044\u3065\u3089\u3044\u306e\u3067\uff0c\u7dda\u5f62\u6df1\u5ea6\u306b\u5909\u63db\u3057\u3066\u4f7f\u7528\u3057\u307e\u3059\uff0e\u900f\u8996\u6295\u5f71\u3067\u306f\u6df1\u5ea6\u304c\u7dda\u5f62\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\uff0c\u6b63\u6295\u5f71\u3067\u306f\u7dda\u5f62\u6df1\u5ea6\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://storage.googleapis.com/zenn-user-upload/2gwgrizz07hnzji81xerox4zcu0f",alt:"1559404608_half"}),"\n\u56f3\uff1a\u900f\u8996\u6295\u5f71\u306e\u6df1\u5ea6"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://storage.googleapis.com/zenn-user-upload/28pffrspdpvgqe2d5gvzgp736m0h",alt:"1559404642_half"}),"\n\u56f3\uff1a\u6b63\u6295\u5f71\u306e\u6df1\u5ea6"),(0,i.kt)("p",null,"Three.js\u3067\u306f",(0,i.kt)("strong",{parentName:"p"},"perspectiveDepthToViewZ"),"\u3068",(0,i.kt)("strong",{parentName:"p"},"viewZToOrthographicDepth"),"\u3092\u4f7f\u3063\u3066\u6b21\u306e\u3088\u3046\u306b\u7dda\u5f62\u6df1\u5ea6\u306b\u5909\u63db\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff0e"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-glsl"},"float getLinearDepth(float invClipZ, float near, float far)\n{\n  float viewZ = perspectiveDepthToViewZ(invClipZ, near, far);\n  return viewZToOrthographicDepth(viewZ);\n}\n")),(0,i.kt)("p",null,"\u307e\u305fperspectiveDepth\u3092depth\uff0corthographicDepth\u3092linearDepth\u3068\u304a\u304f\u3068"),(0,i.kt)("p",null,"$$\nlinearDepth = \\frac{z+n}{n-f}, \\qquad\nz = \\frac{nf}{(f-n)\\cdot depth-f}\n$$"),(0,i.kt)("p",null,"linearDepth\u306b\u3064\u3044\u3066\u89e3\u304f\u3068"),(0,i.kt)("p",null,"$$\n\\begin{aligned}\nlinearDepth &= \\frac{z+n}{n-f} \\newline\n(n-f)\\cdot linearDepth &= z+n \\newline\n&= \\frac{nf}{(f-n)\\cdot depth-f}+n \\newline\n&= \\frac{nf}{(f-n)\\cdot depth-f} + \\frac{","{","(f-n)\\cdot depth-f","}","\\cdot n}{(f-n)\\cdot depth-f} \\newline\n&= \\frac{nf+n(f-n)\\cdot depth-nf}{(f-n)\\cdot depth-f} \\newline\n&= \\frac{n(f-n)\\cdot depth}{(f-n)\\cdot depth-f} \\newline\n-(f-n)\\cdot linearDepth &= \\frac{n(f-n)\\cdot depth}{(f-n)\\cdot depth-f} \\newline\nlinearDepth &= \\frac{-n\\cdot depth}{(f-n)\\cdot depth-f} \\newline\n&= \\frac{-n\\cdot depth}{f\\cdot depth - n\\cdot depth - f} \\newline\n&= \\frac{-n\\cdot depth}{f(depth-1) - n\\cdot depth}\n\\end{aligned}\n$$"),(0,i.kt)("p",null,"\u3068\u306a\u308a\u307e\u3059\uff0e\u3088\u3063\u3066\uff0cgetLinearDepth\u95a2\u6570\u306f\u6b21\u306e\u3088\u3046\u306b\u66f8\u304d\u304b\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff0e"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-glsl"},"  float getLinearDepth(float depth, float near, float far)\n  {\n    float nz = near * depth;\n    return -nz / (far * (depth-1.0) - nz);\n  }\n")),(0,i.kt)("h2",{id:"\u53c2\u8003\u6587\u732e"},"\u53c2\u8003\u6587\u732e"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"CG-ARTS\u5354\u4f1a\u300c\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30b9\u300dCG-ARTS\u5354\u4f1a\uff0c2015"),(0,i.kt)("li",{parentName:"ul"},"\u4e45\u5bcc\u6728\u9686\u4e00\u300c\u30b2\u30fc\u30e0\u30a2\u30d7\u30ea\u306e\u6570\u5b66\u3000Unity\u3067\u5b66\u3076\u57fa\u790e\u304b\u3089\u30b7\u30a7\u30fc\u30c0\u307e\u3067\u300dSB\u30af\u30ea\u30a8\u30a4\u30c6\u30a3\u30d6\u682a\u5f0f\u4f1a\u793e\uff0c2015"),(0,i.kt)("li",{parentName:"ul"},"Yuki Ozawa\u300c",(0,i.kt)("a",{parentName:"li",href:"https://qpp.bitbucket.io/translation/maximizing_depth_buffer_range_and/"},"\u6df1\u5ea6\u30d0\u30c3\u30d5\u30a1\u306e\u30ec\u30f3\u30b8\u3068\u7cbe\u5ea6\u3092\u6700\u5927\u5316\u3059\u308b"),"\u300d"),(0,i.kt)("li",{parentName:"ul"},"Brano Kemen\u300c",(0,i.kt)("a",{parentName:"li",href:"http://outerra.blogspot.com.ar/2012/11/maximizing-depth-buffer-range-and.html"},"Maximizing Depth Buffer Range and Precision")),(0,i.kt)("li",{parentName:"ul"},"\u300c",(0,i.kt)("a",{parentName:"li",href:"https://threejs.org/"},"Three.js"),"\u300d")))}u.isMDXComponent=!0}}]);