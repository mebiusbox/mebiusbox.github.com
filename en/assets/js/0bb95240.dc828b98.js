"use strict";(self.webpackChunkmebiusbox_docusaurus=self.webpackChunkmebiusbox_docusaurus||[]).push([[5357],{33398:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>a});var d=t(85893),s=t(11151);const r={layout:"post",title:"Eclipse\uff1a\u65b0\u898f\u30d5\u30a1\u30a4\u30eb\u306bBOM(UTF-8)\u3092\u3064\u3051\u308b",category:"note",tags:["eclipse"],authors:["mebiusbox"]},i=void 0,o={permalink:"/en/blog/2016/06/27/eclipse-add-bom",source:"@site/blog/2016/06-27-eclipse-add-bom.md",title:"Eclipse\uff1a\u65b0\u898f\u30d5\u30a1\u30a4\u30eb\u306bBOM(UTF-8)\u3092\u3064\u3051\u308b",description:"Eclipse \u3067\u65b0\u898f\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3068 Workspace \u306b\u8a2d\u5b9a\u3055\u308c\u305f\u30a8\u30f3\u30b3\u30fc\u30c9\u3067\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002",date:"2016-06-27T00:00:00.000Z",formattedDate:"June 27, 2016",tags:[{label:"eclipse",permalink:"/en/blog/tags/eclipse"}],readingTime:1.8,hasTruncateMarker:!1,authors:[{name:"mebiusbox",title:"enginner",url:"https://github.com/mebiusbox",imageURL:"https://github.com/mebiusbox.png",key:"mebiusbox"}],frontMatter:{layout:"post",title:"Eclipse\uff1a\u65b0\u898f\u30d5\u30a1\u30a4\u30eb\u306bBOM(UTF-8)\u3092\u3064\u3051\u308b",category:"note",tags:["eclipse"],authors:["mebiusbox"]},unlisted:!1,prevItem:{title:"rar\u5f62\u5f0f\u304b\u3089zip\u5f62\u5f0f\u306b\u4e00\u62ec\u5909\u63db\u3059\u308b\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb",permalink:"/en/blog/2016/06/28/rar2zip"},nextItem:{title:"Eclipse\uff1aC++\u9759\u7684\u30c1\u30a7\u30c3\u30af\u74b0\u5883",permalink:"/en/blog/2016/06/26/eclipse-cpp-code-analyze"}},l={authorsImageUrls:[void 0]},a=[{value:"AddBom.rb",id:"addbomrb",level:2},{value:"AddBom.py",id:"addbompy",level:2},{value:"eclipse \u306b\u5916\u90e8\u30c4\u30fc\u30eb\u3068\u3057\u3066\u767b\u9332\u3059\u308b",id:"eclipse-\u306b\u5916\u90e8\u30c4\u30fc\u30eb\u3068\u3057\u3066\u767b\u9332\u3059\u308b",level:2},{value:"AddBom.rb \u306e\u5834\u5408",id:"addbomrb-\u306e\u5834\u5408",level:3},{value:"AddBom.py \u306e\u5834\u5408",id:"addbompy-\u306e\u5834\u5408",level:3},{value:"\u4f7f\u3044\u65b9",id:"\u4f7f\u3044\u65b9",level:2}];function c(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.p,{children:"Eclipse \u3067\u65b0\u898f\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3068 Workspace \u306b\u8a2d\u5b9a\u3055\u308c\u305f\u30a8\u30f3\u30b3\u30fc\u30c9\u3067\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\n\u6587\u5b57\u30a8\u30f3\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3092 UTF-8 \u306b\u8a2d\u5b9a\u3057\u305f\u5834\u5408\u3001\u65b0\u898f\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3082 BOM \u306f\u4ed8\u304d\u307e\u305b\u3093\u3002\n\u305d\u3053\u3067\u3001BOM \u3092\u4ed8\u52a0\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304d\u307e\u3057\u305f\u3002Ruby \u7248\u3068 Python \u7248\u304c\u3042\u308a\u307e\u3059\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"addbomrb",children:"AddBom.rb"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ruby",children:'#! /usr/bin/env ruby\n\npath = ARGV[0]\nputs "Add BOM to #{path}"\nsrc = File.read(path)\nbom = "\\xEF\\xBB\\xBF"\nif src.index(bom) == 0\n\traise "BOM already exists"\nend\n\nFile.open(path, "w") do |io|\n\tio << bom\n\tio << src\nend\n'})}),"\n",(0,d.jsx)(n.h2,{id:"addbompy",children:"AddBom.py"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'# -*- coding:utf-8\nimport os\nimport sys\n\ndef main(path):\n    f = open(path, mode=\'rb\')\n    data = f.read()\n    f.close()\n\n    utf8bom = "\\xef\\xbb\\xbf"\n    if len(data) >= 3:\n        if data[0:3] == utf8bom:\n            print "BOM already exists " + path\n            return 0\n\n    f = open(path, mode="wb")\n    f.write(utf8bom)\n    f.write(data)\n    f.close()\n    print "Add BOM to " + path\n    return 0\n\nif __name__ == \'__main__\':\n    if len(sys.argv) < 2:\n         print sys.argv\n         print "addbom <path>"\n         sys.exit(0)\n    else:\n        sys.exit(main(sys.argv[1]))\n'})}),"\n",(0,d.jsx)(n.h2,{id:"eclipse-\u306b\u5916\u90e8\u30c4\u30fc\u30eb\u3068\u3057\u3066\u767b\u9332\u3059\u308b",children:"eclipse \u306b\u5916\u90e8\u30c4\u30fc\u30eb\u3068\u3057\u3066\u767b\u9332\u3059\u308b"}),"\n",(0,d.jsxs)(n.p,{children:["\u30e1\u30cb\u30e5\u30fc\u30d0\u30fc\u304b\u3089 ",(0,d.jsx)(n.code,{children:"Run > External Tools > External Tools Configurations..."})," \u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\u65b0\u898f\u4f5c\u6210\u3057\u3001AddBom.rb \u3082\u3057\u304f\u306f AddBom.py \u3092\u767b\u9332\u3057\u307e\u3059\u3002"]}),"\n",(0,d.jsx)(n.h3,{id:"addbomrb-\u306e\u5834\u5408",children:"AddBom.rb \u306e\u5834\u5408"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u9805\u76ee"}),(0,d.jsx)(n.th,{children:"\u8a2d\u5b9a"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Name"}),(0,d.jsx)(n.td,{children:"AddBom"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Location"}),(0,d.jsx)(n.td,{children:"ruby.exe \u306e\u30d1\u30b9"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Arguments"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"<AddBom.rb\u306e\u30d1\u30b9\\> ${resource_loc}"})})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"addbompy-\u306e\u5834\u5408",children:"AddBom.py \u306e\u5834\u5408"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u9805\u76ee"}),(0,d.jsx)(n.th,{children:"\u8a2d\u5b9a"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Name"}),(0,d.jsx)(n.td,{children:"AddBom"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Location"}),(0,d.jsx)(n.td,{children:"python.exe \u306e\u30d1\u30b9"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Arguments"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"<AddBom.py\u306e\u30d1\u30b9\\> ${resource_loc}"})})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"\u4f7f\u3044\u65b9",children:"\u4f7f\u3044\u65b9"}),"\n",(0,d.jsx)(n.p,{children:"\u65b0\u898f\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u305f\u72b6\u614b\u3067 AddBom \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\nBOM \u304c\u306a\u3051\u308c\u3070\u8ffd\u52a0\u3055\u308c\u3001\u3059\u3067\u306b\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308c\u3070\u4f55\u3082\u3057\u307e\u305b\u3093\u3002\n\u307e\u305f\u3001\u7a7a\u30d5\u30a1\u30a4\u30eb\u3067\u306a\u304f\u3066\u3082\u554f\u984c\u306a\u304f\u52d5\u4f5c\u3057\u307e\u3059\u3002"})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>i});var d=t(67294);const s={},r=d.createContext(s);function i(e){const n=d.useContext(r);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),d.createElement(r.Provider,{value:n},e.children)}}}]);